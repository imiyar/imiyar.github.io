(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"014b":function(t,e,n){"use strict";var i=n("e53d"),r=n("07e3"),a=n("8e60"),o=n("63b6"),s=n("9138"),u=n("ebfd").KEY,l=n("294c"),c=n("dbdb"),h=n("45f2"),d=n("62a0"),p=n("5168"),f=n("ccb9"),m=n("6718"),g=n("47ee"),v=n("9003"),y=n("e4ae"),_=n("f772"),b=n("241e"),w=n("36c3"),x=n("1bc3"),T=n("aebd"),S=n("a159"),E=n("0395"),M=n("bf0b"),C=n("9aa9"),A=n("d9f6"),k=n("c3a1"),P=M.f,O=A.f,L=E.f,R=i.Symbol,I=i.JSON,D=I&&I.stringify,N="prototype",U=p("_hidden"),B=p("toPrimitive"),j={}.propertyIsEnumerable,F=c("symbol-registry"),z=c("symbols"),V=c("op-symbols"),H=Object[N],G="function"==typeof R&&!!C.f,W=i.QObject,$=!W||!W[N]||!W[N].findChild,q=a&&l(function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=P(H,e);i&&delete H[e],O(t,e,n),i&&t!==H&&O(H,e,i)}:O,X=function(t){var e=z[t]=S(R[N]);return e._k=t,e},Y=G&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},J=function(t,e,n){return t===H&&J(V,e,n),y(t),e=x(e,!0),y(n),r(z,e)?(n.enumerable?(r(t,U)&&t[U][e]&&(t[U][e]=!1),n=S(n,{enumerable:T(0,!1)})):(r(t,U)||O(t,U,T(1,{})),t[U][e]=!0),q(t,e,n)):O(t,e,n)},Z=function(t,e){y(t);var n,i=g(e=w(e)),r=0,a=i.length;while(a>r)J(t,n=i[r++],e[n]);return t},K=function(t,e){return void 0===e?S(t):Z(S(t),e)},Q=function(t){var e=j.call(this,t=x(t,!0));return!(this===H&&r(z,t)&&!r(V,t))&&(!(e||!r(this,t)||!r(z,t)||r(this,U)&&this[U][t])||e)},tt=function(t,e){if(t=w(t),e=x(e,!0),t!==H||!r(z,e)||r(V,e)){var n=P(t,e);return!n||!r(z,e)||r(t,U)&&t[U][e]||(n.enumerable=!0),n}},et=function(t){var e,n=L(w(t)),i=[],a=0;while(n.length>a)r(z,e=n[a++])||e==U||e==u||i.push(e);return i},nt=function(t){var e,n=t===H,i=L(n?V:w(t)),a=[],o=0;while(i.length>o)!r(z,e=i[o++])||n&&!r(H,e)||a.push(z[e]);return a};G||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(V,n),r(this,U)&&r(this[U],t)&&(this[U][t]=!1),q(this,t,T(1,n))};return a&&$&&q(H,t,{configurable:!0,set:e}),X(t)},s(R[N],"toString",function(){return this._k}),M.f=tt,A.f=J,n("6abf").f=E.f=et,n("355d").f=Q,C.f=nt,a&&!n("b8e3")&&s(H,"propertyIsEnumerable",Q,!0),f.f=function(t){return X(p(t))}),o(o.G+o.W+o.F*!G,{Symbol:R});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;it.length>rt;)p(it[rt++]);for(var at=k(p.store),ot=0;at.length>ot;)m(at[ot++]);o(o.S+o.F*!G,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=R(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),o(o.S+o.F*!G,"Object",{create:K,defineProperty:J,defineProperties:Z,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=l(function(){C.f(1)});o(o.S+o.F*st,"Object",{getOwnPropertySymbols:function(t){return C.f(b(t))}}),I&&o(o.S+o.F*(!G||l(function(){var t=R();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),i[1]=e,D.apply(I,i)}}),R[N][B]||n("35e8")(R[N],B,R[N].valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},"01f9":function(t,e,n){"use strict";var i=n("2d00"),r=n("5ca1"),a=n("2aba"),o=n("32e9"),s=n("84f2"),u=n("41a0"),l=n("7f20"),c=n("38fd"),h=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,y,_,b){u(n,e,v);var w,x,T,S=function(t){if(!d&&t in A)return A[t];switch(t){case f:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",M=y==m,C=!1,A=t.prototype,k=A[h]||A[p]||y&&A[y],P=k||S(y),O=y?M?S("entries"):P:void 0,L="Array"==e&&A.entries||k;if(L&&(T=c(L.call(new t)),T!==Object.prototype&&T.next&&(l(T,E,!0),i||"function"==typeof T[h]||o(T,h,g))),M&&k&&k.name!==m&&(C=!0,P=function(){return k.call(this)}),i&&!b||!d&&!C&&A[h]||o(A,h,P),s[e]=P,s[E]=g,y)if(w={values:M?P:S(m),keys:_?P:S(f),entries:O},b)for(x in w)x in A||a(A,x,w[x]);else r(r.P+r.F*(d||C),e,w);return w}},"02f4":function(t,e,n){var i=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var a,o,s=String(r(e)),u=i(n),l=s.length;return u<0||u>=l?t?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"0395":function(t,e,n){var i=n("36c3"),r=n("6abf").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):r(i(t))}},"075a":function(t,e,n){},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"097d":function(t,e,n){"use strict";var i=n("5ca1"),r=n("8378"),a=n("7726"),o=n("ebd6"),s=n("bcaa");i(i.P+i.R,"Promise",{finally:function(t){var e=o(this,r.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var i=n("ce10"),r=n("e11e");t.exports=Object.keys||function(t){return i(t,r)}},"0ea2":function(t,e,n){"use strict";var i,r,a,o=n("4329"),s=n("4e69"),u=n("ae75"),l=n("256f").TimestampRolloverStream,c=n("ae75"),h=188,d=71;i=function(){var t=new Uint8Array(h),e=0;i.prototype.init.call(this),this.push=function(n){var i,r=0,a=h;e?(i=new Uint8Array(n.byteLength+e),i.set(t.subarray(0,e)),i.set(n,e),e=0):i=n;while(a<i.byteLength)i[r]!==d||i[a]!==d?(r++,a++):(this.trigger("data",i.subarray(r,a)),r+=h,a+=h);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){e===h&&t[0]===d&&(this.trigger("data",t),e=0),this.trigger("done")}},i.prototype=new o,r=function(){var t,e,n,i;r.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r,a,o;if(1&t[5]){i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&t[1])<<8|t[2],r=3+n-4,a=(15&t[10])<<8|t[11],o=12+a;while(o<r){var s=t[o],l=(31&t[o+1])<<8|t[o+2];s===u.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=l:s===u.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=l:s===u.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][l]=s),o+=5+((15&t[o+3])<<8|t[o+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid){n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);while(this.packetsWaitingForPmt.length)this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}},r.prototype=new o,r.STREAM_TYPES={h264:27,adts:15},a=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!==(4&t[6]),n=t[7],192&n&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},o=function(e,n,i){var a,o=new Uint8Array(e.size),s={type:n},u=0,l=0,c=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)a=e.data[u],o.set(a.data,l),l+=a.data.byteLength;r(o,s),c="video"===n||s.packetLength<=e.size,(i||c)&&(e.size=0,e.data.length=0),c&&t.trigger("data",s)}};a.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var t,a;switch(r.streamType){case u.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:t=e,a="video";break;case u.ADTS_STREAM_TYPE:t=n,a="audio";break;case u.METADATA_STREAM_TYPE:t=i,a="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&o(t,a,!0),t.data.push(r),t.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=r.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[r.type]()},this.flush=function(){o(e,"video"),o(n,"audio"),o(i,"timed-metadata"),this.trigger("done")}},a.prototype=new o;var p={PAT_PID:0,MP2T_PACKET_LENGTH:h,TransportPacketStream:i,TransportParseStream:r,ElementaryStream:a,TimestampRolloverStream:l,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n("5bc0")};for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f]);t.exports=p},"0f01":function(t,e,n){"use strict";var i=n("e9ac"),r=i("%Object%"),a=i("%TypeError%"),o=i("%String%"),s=n("c46d"),u=n("2057"),l=n("c612"),c=n("5975"),h=n("bb53"),d=n("21d0"),p=n("2f17"),f=n("a0d3"),m={ToPrimitive:p,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var e=this.ToNumber(t);return u(e)?0:0!==e&&l(e)?c(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(u(e)||0===e||!l(e))return 0;var n=c(e)*Math.floor(Math.abs(e));return h(n,65536)},ToString:function(t){return o(t)},ToObject:function(t){return this.CheckObjectCoercible(t),r(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new a(e||"Cannot call method on "+t);return t},IsCallable:d,SameValue:function(t,e){return t===e?0!==t||1/t===1/e:u(t)&&u(e)},Type:function(t){return null===t?"Null":"undefined"===typeof t?"Undefined":"function"===typeof t||"object"===typeof t?"Object":"number"===typeof t?"Number":"boolean"===typeof t?"Boolean":"string"===typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(f(t,n)&&!e[n])return!1;var i=f(t,"[[Value]]"),r=f(t,"[[Get]]")||f(t,"[[Set]]");if(i&&r)throw new a("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return"undefined"!==typeof t&&(s(this,"Property Descriptor","Desc",t),!(!f(t,"[[Get]]")&&!f(t,"[[Set]]")))},IsDataDescriptor:function(t){return"undefined"!==typeof t&&(s(this,"Property Descriptor","Desc",t),!(!f(t,"[[Value]]")&&!f(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return"undefined"!==typeof t&&(s(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if("undefined"===typeof t)return t;if(s(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new a("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new a("ToPropertyDescriptor requires an object");var e={};if(f(t,"enumerable")&&(e["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),f(t,"configurable")&&(e["[[Configurable]]"]=this.ToBoolean(t.configurable)),f(t,"value")&&(e["[[Value]]"]=t.value),f(t,"writable")&&(e["[[Writable]]"]=this.ToBoolean(t.writable)),f(t,"get")){var n=t.get;if("undefined"!==typeof n&&!this.IsCallable(n))throw new TypeError("getter must be a function");e["[[Get]]"]=n}if(f(t,"set")){var i=t.set;if("undefined"!==typeof i&&!this.IsCallable(i))throw new a("setter must be a function");e["[[Set]]"]=i}if((f(e,"[[Get]]")||f(e,"[[Set]]"))&&(f(e,"[[Value]]")||f(e,"[[Writable]]")))throw new a("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e}};t.exports=m},"0f7c":function(t,e,n){"use strict";var i=n("688e");t.exports=Function.prototype.bind||i},"0fc9":function(t,e,n){var i=n("3a38"),r=Math.max,a=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):a(t,e)}},"10cb":function(t,e,n){},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11e9":function(t,e,n){var i=n("52a7"),r=n("4630"),a=n("6821"),o=n("6a99"),s=n("69a8"),u=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=a(t),e=o(e,!0),u)try{return l(t,e)}catch(n){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},"12f2":function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return{methods:{focus:function(){this.$refs[t].focus()}}}}},"13a3":function(t,e,n){var i=n("7e10"),r=n("36c6"),a=9e4,o=function(t){var e,n,i=0;for(e=0;e<t.length;e++)n=t[e],i+=n.data.byteLength;return i},s=function(t,e,n,o){var s,u,l,c=0,h=0,d=0,p=0;if(e.length&&(s=r.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),c=Math.ceil(a/(t.samplerate/1024)),n&&o&&(h=s-Math.max(n,o),d=Math.floor(h/c),p=d*c),!(d<1||p>a/2))){for(u=i[t.samplerate],u||(u=e[0].data),l=0;l<d;l++)e.splice(l,0,{data:u});t.baseMediaDecodeTime-=Math.floor(r.videoTsToAudioTs(p,t.samplerate))}},u=function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},l=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},c=function(t){var e,n,i=0,r=new Uint8Array(o(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r};t.exports={prefixWithSilence:s,trimAdtsFramesByEarliestDts:u,generateSampleTable:l,concatenateFrameData:c}},1495:function(t,e,n){var i=n("86cc"),r=n("cb7c"),a=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){r(t);var n,o=a(e),s=o.length,u=0;while(s>u)i.f(t,n=o[u++],e[n]);return t}},"14e9":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=122)}({122:function(t,e,n){"use strict";n.r(e);var i=n(15),r=n(37),a=n.n(r),o=n(3),s=n(2),u={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function l(t){var e=t.move,n=t.size,i=t.bar,r={},a="translate"+i.axis+"("+e+"%)";return r[i.size]=n,r.transform=a,r.msTransform=a,r.webkitTransform=a,r}var c={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return u[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,n=this.move,i=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+i.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:l({size:e,move:n,bar:i})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),n=this.$refs.thumb[this.bar.offset]/2,i=100*(e-n)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(s["on"])(document,"mousemove",this.mouseMoveDocumentHandler),Object(s["on"])(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var n=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),i=this.$refs.thumb[this.bar.offset]-e,r=100*(n-i)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(s["off"])(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(s["off"])(document,"mouseup",this.mouseUpDocumentHandler)}},h={name:"ElScrollbar",components:{Bar:c},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=a()(),n=this.wrapStyle;if(e){var i="-"+e+"px",r="margin-bottom: "+i+"; margin-right: "+i+";";Array.isArray(this.wrapStyle)?(n=Object(o["toObject"])(this.wrapStyle),n.marginRight=n.marginBottom=i):"string"===typeof this.wrapStyle?n+=r:n=r}var s=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),u=t("div",{ref:"wrap",style:n,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[s]]),l=void 0;return l=this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:n},[[s]])]:[u,t(c,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(c,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],t("div",{class:"el-scrollbar"},l)},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t=void 0,e=void 0,n=this.wrap;n&&(t=100*n.clientHeight/n.scrollHeight,e=100*n.clientWidth/n.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(i["addResizeListener"])(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(i["removeResizeListener"])(this.$refs.resize,this.update)},install:function(t){t.component(h.name,h)}};e["default"]=h},15:function(t,e){t.exports=n("4010")},2:function(t,e){t.exports=n("5924")},3:function(t,e){t.exports=n("8122")},37:function(t,e){t.exports=n("e62d")}})},1654:function(t,e,n){"use strict";var i=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"18ff":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=94)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},4:function(t,e){t.exports=n("d010")},94:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":t.disabled,"el-dropdown-menu__item--divided":t.divided},attrs:{"aria-disabled":t.disabled,tabindex:t.disabled?null:-1},on:{click:t.handleClick}},[t.icon?n("i",{class:t.icon}):t._e(),t._t("default")],2)},r=[];i._withStripped=!0;var a=n(4),o=n.n(a),s={name:"ElDropdownItem",mixins:[o.a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(t){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},u=s,l=n(0),c=Object(l["a"])(u,i,r,!1,null,null,null);c.options.__file="packages/dropdown/src/dropdown-item.vue";var h=c.exports;h.install=function(t){t.component(h.name,h)};e["default"]=h}})},"194a":function(t,e,n){"use strict";var i,r,a,o,s,u,l,c,h,d,p,f,m,g,v,y,_,b,w,x,T,S,E,M,C,A,k,P,O,L,R,I,D,N,U,B,j=Math.pow(2,32)-1;(function(){var t;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(t in E)E.hasOwnProperty(t)&&(E[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);M=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),O={video:k,audio:P},I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),N=D,U=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=D,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),i=function(t){var e,n,i,r=[],a=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);e=r.length;while(e--)a+=r[e].byteLength;for(n=new Uint8Array(a+8),i=new DataView(n.buffer,n.byteOffset,n.byteLength),i.setUint32(0,n.byteLength),n.set(t,4),e=0,a=8;e<r.length;e++)n.set(r[e],a),a+=r[e].byteLength;return n},r=function(){return i(E.dinf,i(E.dref,I))},a=function(t){return i(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},o=function(){return i(E.ftyp,M,C,M,A)},y=function(t){return i(E.hdlr,O[t])},s=function(t){return i(E.mdat,t)},v=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),i(E.mdhd,e)},g=function(t){return i(E.mdia,v(t),y(t.type),l(t))},u=function(t){return i(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},l=function(t){return i(E.minf,"video"===t.type?i(E.vmhd,L):i(E.smhd,R),r(),b(t))},c=function(t,e){var n=[],r=e.length;while(r--)n[r]=x(e[r]);return i.apply(null,[E.moof,u(t)].concat(n))},h=function(t){var e=t.length,n=[];while(e--)n[e]=f(t[e]);return i.apply(null,[E.moov,p(4294967295)].concat(n).concat(d(t)))},d=function(t){var e=t.length,n=[];while(e--)n[e]=T(t[e]);return i.apply(null,[E.mvex].concat(n))},p=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(E.mvhd,e)},_=function(t){var e,n,r=t.samples||[],a=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)e=r[n].flags,a[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return i(E.sdtp,a)},b=function(t){return i(E.stbl,w(t),i(E.stts,B),i(E.stsc,N),i(E.stsz,U),i(E.stco,D))},function(){var t,e;w=function(n){return i(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?t(n):e(n))},t=function(t){var e,n=t.sps||[],r=t.pps||[],a=[],o=[];for(e=0;e<n.length;e++)a.push((65280&n[e].byteLength)>>>8),a.push(255&n[e].byteLength),a=a.concat(Array.prototype.slice.call(n[e]));for(e=0;e<r.length;e++)o.push((65280&r[e].byteLength)>>>8),o.push(255&r[e].byteLength),o=o.concat(Array.prototype.slice.call(r[e]));return i(E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(E.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(a).concat([r.length]).concat(o))),i(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},e=function(t){return i(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),a(t))}}(),m=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return i(E.tkhd,e)},x=function(t){var e,n,r,a,o,s,u;return e=i(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(t.baseMediaDecodeTime/(j+1)),u=Math.floor(t.baseMediaDecodeTime%(j+1)),n=i(E.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),o=92,"audio"===t.type?(r=S(t,o),i(E.traf,e,n,r)):(a=_(t),r=S(t,a.length+o),i(E.traf,e,n,r,a))},f=function(t){return t.duration=t.duration||4294967295,i(E.trak,m(t),g(t))},T=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),i(E.trex,e)},function(){var t,e,n;n=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e=function(t,e){var r,a,o,s;for(a=t.samples||[],e+=20+16*a.length,r=n(a,e),s=0;s<a.length;s++)o=a[s],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return i(E.trun,new Uint8Array(r))},t=function(t,e){var r,a,o,s;for(a=t.samples||[],e+=20+8*a.length,r=n(a,e),s=0;s<a.length;s++)o=a[s],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return i(E.trun,new Uint8Array(r))},S=function(n,i){return"audio"===n.type?t(n,i):e(n,i)}}(),t.exports={ftyp:o,mdat:s,moof:c,moov:h,initSegment:function(t){var e,n=o(),i=h(t);return e=new Uint8Array(n.byteLength+i.byteLength),e.set(n),e.set(i,n.byteLength),e}}},1951:function(t,e,n){},1991:function(t,e,n){var i,r,a,o=n("9b43"),s=n("31f4"),u=n("fab2"),l=n("230e"),c=n("7726"),h=c.process,d=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,m=c.Dispatch,g=0,v={},y="onreadystatechange",_=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){_.call(t.data)};d&&p||(d=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete v[t]},"process"==n("2d95")(h)?i=function(t){h.nextTick(o(_,t,1))}:m&&m.now?i=function(t){m.now(o(_,t,1))}:f?(r=new f,a=r.port2,r.port1.onmessage=b,i=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):i=y in l("script")?function(t){u.appendChild(l("script"))[y]=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(o(_,t,1),0)}),t.exports={set:d,clear:p}},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"1b7f":function(t,e,n){"use strict";var i=n("562e"),r="â€‹";t.exports=function(){return String.prototype.trim&&r.trim()===r?String.prototype.trim:i}},"1b8d":function(t,e){function n(t){return t.replace(/\n\r?\s*/g,"")}t.exports=function(t){for(var e="",i=0;i<arguments.length;i++)e+=n(t[i])+(arguments[i+1]||"");return e}},"1bc3":function(t,e,n){var i=n("f772");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"1c4c":function(t,e,n){"use strict";var i=n("9b43"),r=n("5ca1"),a=n("4bf8"),o=n("1fa8"),s=n("33a4"),u=n("9def"),l=n("f1ae"),c=n("27ee");r(r.S+r.F*!n("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,d=a(t),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(d);if(g&&(m=i(m,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(e=u(d.length),n=new p(e);e>v;v++)l(n,v,g?m(d[v],v):d[v]);else for(h=y.call(d),n=new p;!(r=h.next()).done;v++)l(n,v,g?o(h,m,[r.value,v],!0):r.value);return n.length=v,n}})},"1ec9":function(t,e,n){var i=n("f772"),r=n("e53d").document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},"1fa8":function(t,e,n){var i=n("cb7c");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&i(a.call(t)),o}}},2057:function(t,e){t.exports=Number.isNaN||function(t){return t!==t}},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),r=n("32e9"),a=n("79e5"),o=n("be13"),s=n("2b4c"),u=n("520a"),l=s("species"),c=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),p=!a(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),f=p?!a(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e}):void 0;if(!p||!f||"replace"===t&&!c||"split"===t&&!h){var m=/./[d],g=n(o,d,""[t],function(t,e,n,i,r){return e.exec===u?p&&!r?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),v=g[0],y=g[1];i(String.prototype,t,v),r(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"21d0":function(t,e,n){"use strict";var i=Function.prototype.toString,r=/^\s*class\b/,a=function(t){try{var e=i.call(t);return r.test(e)}catch(n){return!1}},o=function(t){try{return!a(t)&&(i.call(t),!0)}catch(e){return!1}},s=Object.prototype.toString,u="[object Function]",l="[object GeneratorFunction]",c="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!==typeof t&&"object"!==typeof t)return!1;if("function"===typeof t&&!t.prototype)return!0;if(c)return o(t);if(a(t))return!1;var e=s.call(t);return e===u||e===l}},"230e":function(t,e,n){var i=n("d3f4"),r=n("7726").document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},"23c6":function(t,e,n){var i=n("2d95"),r=n("2b4c")("toStringTag"),a="Arguments"==i(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),r))?n:a?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},"241e":function(t,e,n){var i=n("25eb");t.exports=function(t){return Object(i(t))}},"256f":function(t,e,n){"use strict";var i=n("4329"),r=8589934592,a=4294967296,o=function(t,e){var n=1;t>e&&(n=-1);while(Math.abs(e-t)>a)t+=n*r;return t},s=function(t){var e,n;s.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=o(t.dts,n),t.pts=o(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){n=void 0,e=void 0}};s.prototype=new i,t.exports={TimestampRolloverStream:s,handleRollover:o}},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"27ee":function(t,e,n){var i=n("23c6"),r=n("2b4c")("iterator"),a=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[i(t)]}},2806:function(t,e,n){"use strict";var i,r,a,o,s,u=n("7fe1").toUnsigned;i=function(t,e){var n,a,o,s,l,c=[];if(!e.length)return null;for(n=0;n<t.byteLength;)a=u(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),o=r(t.subarray(n+4,n+8)),s=a>1?n+a:t.byteLength,o===e[0]&&(1===e.length?c.push(t.subarray(n+8,s)):(l=i(t.subarray(n+8,s),e.slice(1)),l.length&&(c=c.concat(l)))),n=s;return c},r=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3]),e},a=function(t){var e={},n=i(t,["moov","trak"]);return n.reduce(function(t,e){var n,r,a,o,s;return n=i(e,["tkhd"])[0],n?(r=n[0],a=0===r?12:20,o=u(n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]),s=i(e,["mdia","mdhd"])[0],s?(r=s[0],a=0===r?12:20,t[o]=u(s[a]<<24|s[a+1]<<16|s[a+2]<<8|s[a+3]),t):null):null},e)},o=function(t,e){var n,r,a;return n=i(e,["moof","traf"]),r=[].concat.apply([],n.map(function(e){return i(e,["tfhd"]).map(function(n){var r,a,o;return r=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),a=t[r]||9e4,o=i(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=u(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=u(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0],o=o||1/0,o/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},s=function(t){var e=i(t,["moov","trak"]),n=[];return e.forEach(function(t){var e=i(t,["mdia","hdlr"]),a=i(t,["tkhd"]);e.forEach(function(t,e){var i,o,s,u=r(t.subarray(8,12)),l=a[e];"vide"===u&&(i=new DataView(l.buffer,l.byteOffset,l.byteLength),o=i.getUint8(0),s=0===o?i.getUint32(12):i.getUint32(20),n.push(s))})}),n},t.exports={findBox:i,parseType:r,timescale:a,startTime:o,videoTrackIds:s}},2877:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},"28a5":function(t,e,n){"use strict";var i=n("aae3"),r=n("cb7c"),a=n("ebd6"),o=n("0390"),s=n("9def"),u=n("5f1b"),l=n("520a"),c=n("79e5"),h=Math.min,d=[].push,p="split",f="length",m="lastIndex",g=4294967295,v=!c(function(){RegExp(g,"y")});n("214f")("split",2,function(t,e,n,c){var y;return y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[f]||2!="ab"[p](/(?:ab)*/)[f]||4!="."[p](/(.?)(.?)/)[f]||"."[p](/()()/)[f]>1||""[p](/.?/)[f]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);var a,o,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=void 0===e?g:e>>>0,v=new RegExp(t.source,c+"g");while(a=l.call(v,r)){if(o=v[m],o>h&&(u.push(r.slice(h,a.index)),a[f]>1&&a.index<r[f]&&d.apply(u,a.slice(1)),s=a[0][f],h=o,u[f]>=p))break;v[m]===a.index&&v[m]++}return h===r[f]?!s&&v.test("")||u.push(""):u.push(r.slice(h)),u[f]>p?u.slice(0,p):u}:"0"[p](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,i):y.call(String(r),n,i)},function(t,e){var i=c(y,t,this,e,y!==n);if(i.done)return i.value;var l=r(t),d=String(this),p=a(l,RegExp),f=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),_=new p(v?l:"^(?:"+l.source+")",m),b=void 0===e?g:e>>>0;if(0===b)return[];if(0===d.length)return null===u(_,d)?[d]:[];var w=0,x=0,T=[];while(x<d.length){_.lastIndex=v?x:0;var S,E=u(_,v?d:d.slice(x));if(null===E||(S=h(s(_.lastIndex+(v?0:x)),d.length))===w)x=o(d,x,f);else{if(T.push(d.slice(w,x)),T.length===b)return T;for(var M=1;M<=E.length-1;M++)if(T.push(E[M]),T.length===b)return T;x=w=S}}return T.push(d.slice(w)),T}]})},"28e5":function(t,e,n){t.exports={generator:n("194a"),probe:n("2806"),Transmuxer:n("300a").Transmuxer,AudioSegmentStream:n("300a").AudioSegmentStream,VideoSegmentStream:n("300a").VideoSegmentStream,CaptionParser:n("a8e0")}},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var i=n("7726"),r=n("32e9"),a=n("69a8"),o=n("ca5a")("src"),s=n("fa5b"),u="toString",l=(""+s).split(u);n("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(a(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(a(n,o)||r(n,o,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[o]||s.call(this)})},"2aeb":function(t,e,n){var i=n("cb7c"),r=n("1495"),a=n("e11e"),o=n("613b")("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,e=n("230e")("iframe"),i=a.length,r="<",o=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+o+"document.F=Object"+r+"/script"+o),t.close(),l=t.F;while(i--)delete l[u][a[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=i(t),n=new s,s[u]=null,n[o]=t):n=l(),void 0===e?n:r(n,e)}},"2b0e":function(t,e,n){"use strict";n.r(e),function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function a(t){return!0===t}function o(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function c(t){return"[object Object]"===l.call(t)}function h(t){return"[object RegExp]"===l.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function b(t,e){return _.call(t,e)}function w(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var x=/-(\w)/g,T=w(function(t){return t.replace(x,function(t,e){return e?e.toUpperCase():""})}),S=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),E=/\B([A-Z])/g,M=w(function(t){return t.replace(E,"-$1").toLowerCase()});function C(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function A(t,e){return t.bind(e)}var k=Function.prototype.bind?A:C;function P(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function O(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function R(t,e,n){}var I=function(t,e,n){return!1},D=function(t){return t};function N(t,e){if(t===e)return!0;var n=u(t),i=u(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every(function(t,n){return N(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||a)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every(function(n){return N(t[n],e[n])})}catch(l){return!1}}function U(t,e){for(var n=0;n<t.length;n++)if(N(t[n],e))return n;return-1}function B(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var j="data-server-rendered",F=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:R,parsePlatformTagName:D,mustUseProp:I,async:!0,_lifecycleHooks:z},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function W(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var $=new RegExp("[^"+H.source+".$_\\d]");function q(t){if(!$.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var X,Y="__proto__"in{},J="undefined"!==typeof window,Z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,K=Z&&WXEnvironment.platform.toLowerCase(),Q=J&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,nt=Q&&Q.indexOf("edge/")>0,it=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===K),rt=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),at={}.watch,ot=!1;if(J)try{var st={};Object.defineProperty(st,"passive",{get:function(){ot=!0}}),window.addEventListener("test-passive",null,st)}catch(To){}var ut=function(){return void 0===X&&(X=!J&&!Z&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),X},lt=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ct(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,dt="undefined"!==typeof Symbol&&ct(Symbol)&&"undefined"!==typeof Reflect&&ct(Reflect.ownKeys);ht="undefined"!==typeof Set&&ct(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=R,ft=0,mt=function(){this.id=ft++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){y(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},mt.target=null;var gt=[];function vt(t){gt.push(t),mt.target=t}function yt(){gt.pop(),mt.target=gt[gt.length-1]}var _t=function(t,e,n,i,r,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},bt={child:{configurable:!0}};bt.child.get=function(){return this.componentInstance},Object.defineProperties(_t.prototype,bt);var wt=function(t){void 0===t&&(t="");var e=new _t;return e.text=t,e.isComment=!0,e};function xt(t){return new _t(void 0,void 0,void 0,String(t))}function Tt(t){var e=new _t(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var St=Array.prototype,Et=Object.create(St),Mt=["push","pop","shift","unshift","splice","sort","reverse"];Mt.forEach(function(t){var e=St[t];W(Et,t,function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var r,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&o.observeArray(r),o.dep.notify(),a})});var Ct=Object.getOwnPropertyNames(Et),At=!0;function kt(t){At=t}var Pt=function(t){this.value=t,this.dep=new mt,this.vmCount=0,W(t,"__ob__",this),Array.isArray(t)?(Y?Ot(t,Et):Lt(t,Et,Ct),this.observeArray(t)):this.walk(t)};function Ot(t,e){t.__proto__=e}function Lt(t,e,n){for(var i=0,r=n.length;i<r;i++){var a=n[i];W(t,a,e[a])}}function Rt(t,e){var n;if(u(t)&&!(t instanceof _t))return b(t,"__ob__")&&t.__ob__ instanceof Pt?n=t.__ob__:At&&!ut()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Pt(t)),e&&n&&n.vmCount++,n}function It(t,e,n,i,r){var a=new mt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,u=o&&o.set;s&&!u||2!==arguments.length||(n=t[e]);var l=!r&&Rt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return mt.target&&(a.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Ut(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!==e&&i!==i||s&&!u||(u?u.call(t,e):n=e,l=!r&&Rt(e),a.notify())}})}}function Dt(t,e,n){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(It(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Nt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ut(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Ut(e)}Pt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)It(t,e[n])},Pt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Rt(t[e])};var Bt=V.optionMergeStrategies;function jt(t,e){if(!e)return t;for(var n,i,r,a=dt?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)n=a[o],"__ob__"!==n&&(i=t[n],r=e[n],b(t,n)?i!==r&&c(i)&&c(r)&&jt(i,r):Dt(t,n,r));return t}function Ft(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,r="function"===typeof t?t.call(n,n):t;return i?jt(i,r):r}:e?t?function(){return jt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function zt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Vt(n):n}function Vt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Ht(t,e,n,i){var r=Object.create(t||null);return e?O(r,e):r}Bt.data=function(t,e,n){return n?Ft(t,e,n):e&&"function"!==typeof e?t:Ft(t,e)},z.forEach(function(t){Bt[t]=zt}),F.forEach(function(t){Bt[t+"s"]=Ht}),Bt.watch=function(t,e,n,i){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var a in O(r,t),e){var o=r[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},Bt.props=Bt.methods=Bt.inject=Bt.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return O(r,t),e&&O(r,e),r},Bt.provide=Ft;var Gt=function(t,e){return void 0===e?t:e};function Wt(t,e){var n=t.props;if(n){var i,r,a,o={};if(Array.isArray(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(a=T(r),o[a]={type:null})}else if(c(n))for(var s in n)r=n[s],a=T(s),o[a]=c(r)?r:{type:r};else 0;t.props=o}}function $t(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(c(n))for(var a in n){var o=n[a];i[a]=c(o)?O({from:a},o):{from:o}}else 0}}function qt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function Xt(t,e,n){if("function"===typeof e&&(e=e.options),Wt(e,n),$t(e,n),qt(e),!e._base&&(e.extends&&(t=Xt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Xt(t,e.mixins[i],n);var a,o={};for(a in t)s(a);for(a in e)b(t,a)||s(a);function s(i){var r=Bt[i]||Gt;o[i]=r(t[i],e[i],n,i)}return o}function Yt(t,e,n,i){if("string"===typeof n){var r=t[e];if(b(r,n))return r[n];var a=T(n);if(b(r,a))return r[a];var o=S(a);if(b(r,o))return r[o];var s=r[n]||r[a]||r[o];return s}}function Jt(t,e,n,i){var r=e[t],a=!b(n,t),o=n[t],s=te(Boolean,r.type);if(s>-1)if(a&&!b(r,"default"))o=!1;else if(""===o||o===M(t)){var u=te(String,r.type);(u<0||s<u)&&(o=!0)}if(void 0===o){o=Zt(i,r,t);var l=At;kt(!0),Rt(o),kt(l)}return o}function Zt(t,e,n){if(b(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==Kt(e.type)?i.call(t):i}}function Kt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qt(t,e){return Kt(t)===Kt(e)}function te(t,e){if(!Array.isArray(e))return Qt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Qt(e[n],t))return n;return-1}function ee(t,e,n){vt();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{var o=!1===r[a].call(i,t,e,n);if(o)return}catch(To){ie(To,i,"errorCaptured hook")}}}ie(t,e,n)}finally{yt()}}function ne(t,e,n,i,r){var a;try{a=n?t.apply(e,n):t.call(e),a&&!a._isVue&&p(a)&&!a._handled&&(a.catch(function(t){return ee(t,i,r+" (Promise/async)")}),a._handled=!0)}catch(To){ee(To,i,r)}return a}function ie(t,e,n){if(V.errorHandler)try{return V.errorHandler.call(null,t,e,n)}catch(To){To!==t&&re(To,null,"config.errorHandler")}re(t,e,n)}function re(t,e,n){if(!J&&!Z||"undefined"===typeof console)throw t;console.error(t)}var ae,oe=!1,se=[],ue=!1;function le(){ue=!1;var t=se.slice(0);se.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ct(Promise)){var ce=Promise.resolve();ae=function(){ce.then(le),it&&setTimeout(R)},oe=!0}else if(tt||"undefined"===typeof MutationObserver||!ct(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ae="undefined"!==typeof setImmediate&&ct(setImmediate)?function(){setImmediate(le)}:function(){setTimeout(le,0)};else{var he=1,de=new MutationObserver(le),pe=document.createTextNode(String(he));de.observe(pe,{characterData:!0}),ae=function(){he=(he+1)%2,pe.data=String(he)},oe=!0}function fe(t,e){var n;if(se.push(function(){if(t)try{t.call(e)}catch(To){ee(To,e,"nextTick")}else n&&n(e)}),ue||(ue=!0,ae()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var me=new ht;function ge(t){ve(t,me),me.clear()}function ve(t,e){var n,i,r=Array.isArray(t);if(!(!r&&!u(t)||Object.isFrozen(t)||t instanceof _t)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(r){n=t.length;while(n--)ve(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)ve(t[i[n]],e)}}}var ye=w(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}});function _e(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return ne(i,null,arguments,e,"v-on handler");for(var r=i.slice(),a=0;a<r.length;a++)ne(r[a],null,t,e,"v-on handler")}return n.fns=t,n}function be(t,e,n,r,o,s){var u,l,c,h;for(u in t)l=t[u],c=e[u],h=ye(u),i(l)||(i(c)?(i(l.fns)&&(l=t[u]=_e(l,s)),a(h.once)&&(l=t[u]=o(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==c&&(c.fns=l,t[u]=c));for(u in e)i(t[u])&&(h=ye(u),r(h.name,e[u],h.capture))}function we(t,e,n){var o;t instanceof _t&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),y(o.fns,u)}i(s)?o=_e([u]):r(s.fns)&&a(s.merged)?(o=s,o.fns.push(u)):o=_e([s,u]),o.merged=!0,t[e]=o}function xe(t,e,n){var a=e.options.props;if(!i(a)){var o={},s=t.attrs,u=t.props;if(r(s)||r(u))for(var l in a){var c=M(l);Te(o,u,l,c,!0)||Te(o,s,l,c,!1)}return o}}function Te(t,e,n,i,a){if(r(e)){if(b(e,n))return t[n]=e[n],a||delete e[n],!0;if(b(e,i))return t[n]=e[i],a||delete e[i],!0}return!1}function Se(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ee(t){return s(t)?[xt(t)]:Array.isArray(t)?Ce(t):void 0}function Me(t){return r(t)&&r(t.text)&&o(t.isComment)}function Ce(t,e){var n,o,u,l,c=[];for(n=0;n<t.length;n++)o=t[n],i(o)||"boolean"===typeof o||(u=c.length-1,l=c[u],Array.isArray(o)?o.length>0&&(o=Ce(o,(e||"")+"_"+n),Me(o[0])&&Me(l)&&(c[u]=xt(l.text+o[0].text),o.shift()),c.push.apply(c,o)):s(o)?Me(l)?c[u]=xt(l.text+o):""!==o&&c.push(xt(o)):Me(o)&&Me(l)?c[u]=xt(l.text+o.text):(a(t._isVList)&&r(o.tag)&&i(o.key)&&r(e)&&(o.key="__vlist"+e+"_"+n+"__"),c.push(o)));return c}function Ae(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function ke(t){var e=Pe(t.$options.inject,t);e&&(kt(!1),Object.keys(e).forEach(function(n){It(t,n,e[n])}),kt(!0))}function Pe(t,e){if(t){for(var n=Object.create(null),i=dt?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var a=i[r];if("__ob__"!==a){var o=t[a].from,s=e;while(s){if(s._provided&&b(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[a]){var u=t[a].default;n[a]="function"===typeof u?u.call(e):u}else 0}}return n}}function Oe(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var a=t[i],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children||[]):u.push(a)}}for(var l in n)n[l].every(Le)&&delete n[l];return n}function Le(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Re(t,e,i){var r,a=Object.keys(e).length>0,o=t?!!t.$stable:!a,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&i&&i!==n&&s===i.$key&&!a&&!i.$hasNormal)return i;for(var u in r={},t)t[u]&&"$"!==u[0]&&(r[u]=Ie(e,u,t[u]))}else r={};for(var l in e)l in r||(r[l]=De(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),W(r,"$stable",o),W(r,"$key",s),W(r,"$hasNormal",a),r}function Ie(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ee(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function De(t,e){return function(){return t[e]}}function Ne(t,e){var n,i,a,o,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(u(t))if(dt&&t[Symbol.iterator]){n=[];var l=t[Symbol.iterator](),c=l.next();while(!c.done)n.push(e(c.value,n.length)),c=l.next()}else for(o=Object.keys(t),n=new Array(o.length),i=0,a=o.length;i<a;i++)s=o[i],n[i]=e(t[s],s,i);return r(n)||(n=[]),n._isVList=!0,n}function Ue(t,e,n,i){var r,a=this.$scopedSlots[t];a?(n=n||{},i&&(n=O(O({},i),n)),r=a(n)||e):r=this.$slots[t]||e;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function Be(t){return Yt(this.$options,"filters",t,!0)||D}function je(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Fe(t,e,n,i,r){var a=V.keyCodes[e]||n;return r&&i&&!V.keyCodes[e]?je(r,i):a?je(a,t):i?M(i)!==e:void 0}function ze(t,e,n,i,r){if(n)if(u(n)){var a;Array.isArray(n)&&(n=L(n));var o=function(o){if("class"===o||"style"===o||v(o))a=t;else{var s=t.attrs&&t.attrs.type;a=i||V.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=T(o),l=M(o);if(!(u in a)&&!(l in a)&&(a[o]=n[o],r)){var c=t.on||(t.on={});c["update:"+o]=function(t){n[o]=t}}};for(var s in n)o(s)}else;return t}function Ve(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ge(i,"__static__"+t,!1),i)}function He(t,e,n){return Ge(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ge(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&We(t[i],e+"_"+i,n);else We(t,e,n)}function We(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function $e(t,e){if(e)if(c(e)){var n=t.on=t.on?O({},t.on):{};for(var i in e){var r=n[i],a=e[i];n[i]=r?[].concat(r,a):a}}else;return t}function qe(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var a=t[r];Array.isArray(a)?qe(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return i&&(e.$key=i),e}function Xe(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Ye(t,e){return"string"===typeof t?e+t:t}function Je(t){t._o=He,t._n=m,t._s=f,t._l=Ne,t._t=Ue,t._q=N,t._i=U,t._m=Ve,t._f=Be,t._k=Fe,t._b=ze,t._v=xt,t._e=wt,t._u=qe,t._g=$e,t._d=Xe,t._p=Ye}function Ze(t,e,i,r,o){var s,u=this,l=o.options;b(r,"_uid")?(s=Object.create(r),s._original=r):(s=r,r=r._original);var c=a(l._compiled),h=!c;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||n,this.injections=Pe(l.inject,r),this.slots=function(){return u.$slots||Re(t.scopedSlots,u.$slots=Oe(i,r)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Re(t.scopedSlots,this.slots())}}),c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Re(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,i){var a=hn(s,t,e,n,i,h);return a&&!Array.isArray(a)&&(a.fnScopeId=l._scopeId,a.fnContext=r),a}:this._c=function(t,e,n,i){return hn(s,t,e,n,i,h)}}function Ke(t,e,i,a,o){var s=t.options,u={},l=s.props;if(r(l))for(var c in l)u[c]=Jt(c,l,e||n);else r(i.attrs)&&tn(u,i.attrs),r(i.props)&&tn(u,i.props);var h=new Ze(i,u,o,a,t),d=s.render.call(null,h._c,h);if(d instanceof _t)return Qe(d,i,h.parent,s,h);if(Array.isArray(d)){for(var p=Ee(d)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=Qe(p[m],i,h.parent,s,h);return f}}function Qe(t,e,n,i,r){var a=Tt(t);return a.fnContext=n,a.fnOptions=i,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function tn(t,e){for(var n in e)t[T(n)]=e[n]}Je(Ze.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var i=t.componentInstance=an(t,Pn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Dn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,jn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Kn(n):Un(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Bn(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,o,s){if(!i(t)){var l=n.$options._base;if(u(t)&&(t=l.extend(t)),"function"===typeof t){var c;if(i(t.cid)&&(c=t,t=wn(c,l),void 0===t))return bn(c,e,n,o,s);e=e||{},wi(t),r(e.model)&&un(t.options,e);var h=xe(e,t,s);if(a(t.options.functional))return Ke(t,h,e,n,o);var d=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}on(e);var f=t.options.name||s,m=new _t("vue-component-"+t.cid+(f?"-"+f:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:d,tag:s,children:o},c);return m}}}function an(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function on(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var i=nn[n],r=e[i],a=en[i];r===a||r&&r._merged||(e[i]=r?sn(a,r):a)}}function sn(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function un(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var a=e.on||(e.on={}),o=a[i],s=e.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(a[i]=[s].concat(o)):a[i]=s}var ln=1,cn=2;function hn(t,e,n,i,r,o){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),a(o)&&(r=cn),dn(t,e,n,i,r)}function dn(t,e,n,i,a){if(r(n)&&r(n.__ob__))return wt();if(r(n)&&r(n.is)&&(e=n.is),!e)return wt();var o,s,u;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),a===cn?i=Ee(i):a===ln&&(i=Se(i)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e),o=V.isReservedTag(e)?new _t(V.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!r(u=Yt(t.$options,"components",e))?new _t(e,n,i,void 0,void 0,t):rn(u,n,t,i,e)):o=rn(e,n,t,i);return Array.isArray(o)?o:r(o)?(r(s)&&pn(o,s),r(n)&&fn(n),o):wt()}function pn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),r(t.children))for(var o=0,s=t.children.length;o<s;o++){var u=t.children[o];r(u.tag)&&(i(u.ns)||a(n)&&"svg"!==u.tag)&&pn(u,e,n)}}function fn(t){u(t.style)&&ge(t.style),u(t.class)&&ge(t.class)}function mn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,r=i&&i.context;t.$slots=Oe(e._renderChildren,r),t.$scopedSlots=n,t._c=function(e,n,i,r){return hn(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return hn(t,e,n,i,r,!0)};var a=i&&i.data;It(t,"$attrs",a&&a.attrs||n,null,!0),It(t,"$listeners",e._parentListeners||n,null,!0)}var gn,vn=null;function yn(t){Je(t.prototype),t.prototype.$nextTick=function(t){return fe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=Re(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{vn=e,t=i.call(e._renderProxy,e.$createElement)}catch(To){ee(To,e,"render"),t=e._vnode}finally{vn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof _t||(t=wt()),t.parent=r,t}}function _n(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function bn(t,e,n,i,r){var a=wt();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:i,tag:r},a}function wn(t,e){if(a(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var n=vn;if(n&&r(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&r(t.loadingComp))return t.loadingComp;if(n&&!r(t.owners)){var o=t.owners=[n],s=!0,l=null,c=null;n.$on("hook:destroyed",function(){return y(o,n)});var h=function(t){for(var e=0,n=o.length;e<n;e++)o[e].$forceUpdate();t&&(o.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},d=B(function(n){t.resolved=_n(n,e),s?o.length=0:h(!0)}),f=B(function(e){r(t.errorComp)&&(t.error=!0,h(!0))}),m=t(d,f);return u(m)&&(p(m)?i(t.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),r(m.error)&&(t.errorComp=_n(m.error,e)),r(m.loading)&&(t.loadingComp=_n(m.loading,e),0===m.delay?t.loading=!0:l=setTimeout(function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,h(!1))},m.delay||200)),r(m.timeout)&&(c=setTimeout(function(){c=null,i(t.resolved)&&f(null)},m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function xn(t){return t.isComment&&t.asyncFactory}function Tn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||xn(n)))return n}}function Sn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&An(t,e)}function En(t,e){gn.$on(t,e)}function Mn(t,e){gn.$off(t,e)}function Cn(t,e){var n=gn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function An(t,e,n){gn=t,be(e,n||{},En,Mn,Cn,t),gn=void 0}function kn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var a,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;var s=o.length;while(s--)if(a=o[s],a===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?P(n):n;for(var i=P(arguments,1),r='event handler for "'+t+'"',a=0,o=n.length;a<o;a++)ne(n[a],e,i,e,r)}return e}}var Pn=null;function On(t){var e=Pn;return Pn=t,function(){Pn=e}}function Ln(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Rn(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,a=On(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){jn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),jn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function In(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=wt),jn(t,"beforeMount"),i=function(){t._update(t._render(),n)},new ni(t,i,R,{before:function(){t._isMounted&&!t._isDestroyed&&jn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,jn(t,"mounted")),t}function Dn(t,e,i,r,a){var o=r.data.scopedSlots,s=t.$scopedSlots,u=!!(o&&!o.$stable||s!==n&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key),l=!!(a||t.$options._renderChildren||u);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=a,t.$attrs=r.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){kt(!1);for(var c=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var p=h[d],f=t.$options.props;c[p]=Jt(p,f,e,t)}kt(!0),t.$options.propsData=e}i=i||n;var m=t.$options._parentListeners;t.$options._parentListeners=i,An(t,i,m),l&&(t.$slots=Oe(a,r.context),t.$forceUpdate())}function Nn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Un(t,e){if(e){if(t._directInactive=!1,Nn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Un(t.$children[n]);jn(t,"activated")}}function Bn(t,e){if((!e||(t._directInactive=!0,!Nn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Bn(t.$children[n]);jn(t,"deactivated")}}function jn(t,e){vt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,a=n.length;r<a;r++)ne(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),yt()}var Fn=[],zn=[],Vn={},Hn=!1,Gn=!1,Wn=0;function $n(){Wn=Fn.length=zn.length=0,Vn={},Hn=Gn=!1}var qn=0,Xn=Date.now;if(J&&!tt){var Yn=window.performance;Yn&&"function"===typeof Yn.now&&Xn()>document.createEvent("Event").timeStamp&&(Xn=function(){return Yn.now()})}function Jn(){var t,e;for(qn=Xn(),Gn=!0,Fn.sort(function(t,e){return t.id-e.id}),Wn=0;Wn<Fn.length;Wn++)t=Fn[Wn],t.before&&t.before(),e=t.id,Vn[e]=null,t.run();var n=zn.slice(),i=Fn.slice();$n(),Qn(n),Zn(i),lt&&V.devtools&&lt.emit("flush")}function Zn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&jn(i,"updated")}}function Kn(t){t._inactive=!1,zn.push(t)}function Qn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Un(t[e],!0)}function ti(t){var e=t.id;if(null==Vn[e]){if(Vn[e]=!0,Gn){var n=Fn.length-1;while(n>Wn&&Fn[n].id>t.id)n--;Fn.splice(n+1,0,t)}else Fn.push(t);Hn||(Hn=!0,fe(Jn))}}var ei=0,ni=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ei,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=q(e),this.getter||(this.getter=R)),this.value=this.lazy?void 0:this.get()};ni.prototype.get=function(){var t;vt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(To){if(!this.user)throw To;ee(To,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ge(t),yt(),this.cleanupDeps()}return t},ni.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ni.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ni.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ti(this)},ni.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(To){ee(To,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ni.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ni.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},ni.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ii={enumerable:!0,configurable:!0,get:R,set:R};function ri(t,e,n){ii.get=function(){return this[e][n]},ii.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ii)}function ai(t){t._watchers=[];var e=t.$options;e.props&&oi(t,e.props),e.methods&&fi(t,e.methods),e.data?si(t):Rt(t._data={},!0),e.computed&&ci(t,e.computed),e.watch&&e.watch!==at&&mi(t,e.watch)}function oi(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],a=!t.$parent;a||kt(!1);var o=function(a){r.push(a);var o=Jt(a,e,n,t);It(i,a,o),a in t||ri(t,"_props",a)};for(var s in e)o(s);kt(!0)}function si(t){var e=t.$options.data;e=t._data="function"===typeof e?ui(e,t):e||{},c(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var a=n[r];0,i&&b(i,a)||G(a)||ri(t,"_data",a)}Rt(e,!0)}function ui(t,e){vt();try{return t.call(e,e)}catch(To){return ee(To,e,"data()"),{}}finally{yt()}}var li={lazy:!0};function ci(t,e){var n=t._computedWatchers=Object.create(null),i=ut();for(var r in e){var a=e[r],o="function"===typeof a?a:a.get;0,i||(n[r]=new ni(t,o||R,R,li)),r in t||hi(t,r,a)}}function hi(t,e,n){var i=!ut();"function"===typeof n?(ii.get=i?di(e):pi(n),ii.set=R):(ii.get=n.get?i&&!1!==n.cache?di(e):pi(n.get):R,ii.set=n.set||R),Object.defineProperty(t,e,ii)}function di(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function pi(t){return function(){return t.call(this,this)}}function fi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?R:k(e[n],t)}function mi(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)gi(t,n,i[r]);else gi(t,n,i)}}function gi(t,e,n,i){return c(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function vi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Dt,t.prototype.$delete=Nt,t.prototype.$watch=function(t,e,n){var i=this;if(c(e))return gi(i,t,e,n);n=n||{},n.user=!0;var r=new ni(i,t,e,n);if(n.immediate)try{e.call(i,r.value)}catch(a){ee(a,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var yi=0;function _i(t){t.prototype._init=function(t){var e=this;e._uid=yi++,e._isVue=!0,t&&t._isComponent?bi(e,t):e.$options=Xt(wi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Ln(e),Sn(e),mn(e),jn(e,"beforeCreate"),ke(e),ai(e),Ae(e),jn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function bi(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function wi(t){var e=t.options;if(t.super){var n=wi(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=xi(t);r&&O(t.extendOptions,r),e=t.options=Xt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function xi(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function Ti(t){this._init(t)}function Si(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=P(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ei(t){t.mixin=function(t){return this.options=Xt(this.options,t),this}}function Mi(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var a=t.name||n.options.name;var o=function(t){this._init(t)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Xt(n.options,t),o["super"]=n,o.options.props&&Ci(o),o.options.computed&&Ai(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,F.forEach(function(t){o[t]=n[t]}),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=O({},o.options),r[i]=o,o}}function Ci(t){var e=t.options.props;for(var n in e)ri(t.prototype,"_props",n)}function Ai(t){var e=t.options.computed;for(var n in e)hi(t.prototype,n,e[n])}function ki(t){F.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Pi(t){return t&&(t.Ctor.options.name||t.tag)}function Oi(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Li(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var a in n){var o=n[a];if(o){var s=Pi(o.componentOptions);s&&!e(s)&&Ri(n,a,i,r)}}}function Ri(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,y(n,e)}_i(Ti),vi(Ti),kn(Ti),Rn(Ti),yn(Ti);var Ii=[String,RegExp,Array],Di={name:"keep-alive",abstract:!0,props:{include:Ii,exclude:Ii,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ri(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Li(t,function(t){return Oi(e,t)})}),this.$watch("exclude",function(e){Li(t,function(t){return!Oi(e,t)})})},render:function(){var t=this.$slots.default,e=Tn(t),n=e&&e.componentOptions;if(n){var i=Pi(n),r=this,a=r.include,o=r.exclude;if(a&&(!i||!Oi(a,i))||o&&i&&Oi(o,i))return e;var s=this,u=s.cache,l=s.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[c]?(e.componentInstance=u[c].componentInstance,y(l,c),l.push(c)):(u[c]=e,l.push(c),this.max&&l.length>parseInt(this.max)&&Ri(u,l[0],l,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Ni={KeepAlive:Di};function Ui(t){var e={get:function(){return V}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:O,mergeOptions:Xt,defineReactive:It},t.set=Dt,t.delete=Nt,t.nextTick=fe,t.observable=function(t){return Rt(t),t},t.options=Object.create(null),F.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,O(t.options.components,Ni),Si(t),Ei(t),Mi(t),ki(t)}Ui(Ti),Object.defineProperty(Ti.prototype,"$isServer",{get:ut}),Object.defineProperty(Ti.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ti,"FunctionalRenderContext",{value:Ze}),Ti.version="2.6.10";var Bi=g("style,class"),ji=g("input,textarea,option,select,progress"),Fi=function(t,e,n){return"value"===n&&ji(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},zi=g("contenteditable,draggable,spellcheck"),Vi=g("events,caret,typing,plaintext-only"),Hi=function(t,e){return Xi(e)||"false"===e?"false":"contenteditable"===t&&Vi(e)?e:"true"},Gi=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wi="http://www.w3.org/1999/xlink",$i=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},qi=function(t){return $i(t)?t.slice(6,t.length):""},Xi=function(t){return null==t||!1===t};function Yi(t){var e=t.data,n=t,i=t;while(r(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Ji(i.data,e));while(r(n=n.parent))n&&n.data&&(e=Ji(e,n.data));return Zi(e.staticClass,e.class)}function Ji(t,e){return{staticClass:Ki(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Zi(t,e){return r(t)||r(e)?Ki(t,Qi(e)):""}function Ki(t,e){return t?e?t+" "+e:t:e||""}function Qi(t){return Array.isArray(t)?tr(t):u(t)?er(t):"string"===typeof t?t:""}function tr(t){for(var e,n="",i=0,a=t.length;i<a;i++)r(e=Qi(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function er(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var nr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ir=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ar=function(t){return ir(t)||rr(t)};function or(t){return rr(t)?"svg":"math"===t?"math":void 0}var sr=Object.create(null);function ur(t){if(!J)return!0;if(ar(t))return!1;if(t=t.toLowerCase(),null!=sr[t])return sr[t];var e=document.createElement(t);return t.indexOf("-")>-1?sr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:sr[t]=/HTMLUnknownElement/.test(e.toString())}var lr=g("text,number,password,search,email,tel,url");function cr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function hr(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function dr(t,e){return document.createElementNS(nr[t],e)}function pr(t){return document.createTextNode(t)}function fr(t){return document.createComment(t)}function mr(t,e,n){t.insertBefore(e,n)}function gr(t,e){t.removeChild(e)}function vr(t,e){t.appendChild(e)}function yr(t){return t.parentNode}function _r(t){return t.nextSibling}function br(t){return t.tagName}function wr(t,e){t.textContent=e}function xr(t,e){t.setAttribute(e,"")}var Tr=Object.freeze({createElement:hr,createElementNS:dr,createTextNode:pr,createComment:fr,insertBefore:mr,removeChild:gr,appendChild:vr,parentNode:yr,nextSibling:_r,tagName:br,setTextContent:wr,setStyleScope:xr}),Sr={create:function(t,e){Er(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Er(t,!0),Er(e))},destroy:function(t){Er(t,!0)}};function Er(t,e){var n=t.data.ref;if(r(n)){var i=t.context,a=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[n])?y(o[n],a):o[n]===a&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(a)<0&&o[n].push(a):o[n]=[a]:o[n]=a}}var Mr=new _t("",{},[]),Cr=["create","activate","update","remove","destroy"];function Ar(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&kr(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function kr(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,a=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===a||lr(i)&&lr(a)}function Pr(t,e,n){var i,a,o={};for(i=e;i<=n;++i)a=t[i].key,r(a)&&(o[a]=i);return o}function Or(t){var e,n,o={},u=t.modules,l=t.nodeOps;for(e=0;e<Cr.length;++e)for(o[Cr[e]]=[],n=0;n<u.length;++n)r(u[n][Cr[e]])&&o[Cr[e]].push(u[n][Cr[e]]);function c(t){return new _t(l.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=l.parentNode(t);r(e)&&l.removeChild(e,t)}function p(t,e,n,i,o,s,u){if(r(t.elm)&&r(s)&&(t=s[u]=Tt(t)),t.isRootInsert=!o,!f(t,e,n,i)){var c=t.data,h=t.children,d=t.tag;r(d)?(t.elm=t.ns?l.createElementNS(t.ns,d):l.createElement(d,t),x(t),_(t,h,e),r(c)&&w(t,e),y(n,t.elm,i)):a(t.isComment)?(t.elm=l.createComment(t.text),y(n,t.elm,i)):(t.elm=l.createTextNode(t.text),y(n,t.elm,i))}}function f(t,e,n,i){var o=t.data;if(r(o)){var s=r(t.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(t,!1),r(t.componentInstance))return m(t,e),y(n,t.elm,i),a(s)&&v(t,e,n,i),!0}}function m(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(w(t,e),x(t)):(Er(t),e.push(t))}function v(t,e,n,i){var a,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,r(a=s.data)&&r(a=a.transition)){for(a=0;a<o.activate.length;++a)o.activate[a](Mr,s);e.push(s);break}y(n,t.elm,i)}function y(t,e,n){r(t)&&(r(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function _(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)p(e[i],n,t.elm,null,!0,e,i)}else s(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function w(t,n){for(var i=0;i<o.create.length;++i)o.create[i](Mr,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(Mr,t),r(e.insert)&&n.push(t))}function x(t){var e;if(r(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var n=t;while(n)r(e=n.context)&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent}r(e=Pn)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function T(t,e,n,i,r,a){for(;i<=r;++i)p(n[i],a,t,e,!1,n,i)}function S(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<o.destroy.length;++e)o.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)S(t.children[n])}function E(t,e,n,i){for(;n<=i;++n){var a=e[n];r(a)&&(r(a.tag)?(M(a),S(a)):d(a.elm))}}function M(t,e){if(r(e)||r(t.data)){var n,i=o.remove.length+1;for(r(e)?e.listeners+=i:e=h(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&M(n,e),n=0;n<o.remove.length;++n)o.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else d(t.elm)}function C(t,e,n,a,o){var s,u,c,h,d=0,f=0,m=e.length-1,g=e[0],v=e[m],y=n.length-1,_=n[0],b=n[y],w=!o;while(d<=m&&f<=y)i(g)?g=e[++d]:i(v)?v=e[--m]:Ar(g,_)?(k(g,_,a,n,f),g=e[++d],_=n[++f]):Ar(v,b)?(k(v,b,a,n,y),v=e[--m],b=n[--y]):Ar(g,b)?(k(g,b,a,n,y),w&&l.insertBefore(t,g.elm,l.nextSibling(v.elm)),g=e[++d],b=n[--y]):Ar(v,_)?(k(v,_,a,n,f),w&&l.insertBefore(t,v.elm,g.elm),v=e[--m],_=n[++f]):(i(s)&&(s=Pr(e,d,m)),u=r(_.key)?s[_.key]:A(_,e,d,m),i(u)?p(_,a,t,g.elm,!1,n,f):(c=e[u],Ar(c,_)?(k(c,_,a,n,f),e[u]=void 0,w&&l.insertBefore(t,c.elm,g.elm)):p(_,a,t,g.elm,!1,n,f)),_=n[++f]);d>m?(h=i(n[y+1])?null:n[y+1].elm,T(t,h,n,f,y,a)):f>y&&E(t,e,d,m)}function A(t,e,n,i){for(var a=n;a<i;a++){var o=e[a];if(r(o)&&Ar(t,o))return a}}function k(t,e,n,s,u,c){if(t!==e){r(e.elm)&&r(s)&&(e=s[u]=Tt(e));var h=e.elm=t.elm;if(a(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?L(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,p=e.data;r(p)&&r(d=p.hook)&&r(d=d.prepatch)&&d(t,e);var f=t.children,m=e.children;if(r(p)&&b(e)){for(d=0;d<o.update.length;++d)o.update[d](t,e);r(d=p.hook)&&r(d=d.update)&&d(t,e)}i(e.text)?r(f)&&r(m)?f!==m&&C(h,f,m,n,c):r(m)?(r(t.text)&&l.setTextContent(h,""),T(h,null,m,0,m.length-1,n)):r(f)?E(h,f,0,f.length-1):r(t.text)&&l.setTextContent(h,""):t.text!==e.text&&l.setTextContent(h,e.text),r(p)&&r(d=p.hook)&&r(d=d.postpatch)&&d(t,e)}}}function P(t,e,n){if(a(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var O=g("attrs,class,staticClass,staticStyle,key");function L(t,e,n,i){var o,s=e.tag,u=e.data,l=e.children;if(i=i||u&&u.pre,e.elm=t,a(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(u)&&(r(o=u.hook)&&r(o=o.init)&&o(e,!0),r(o=e.componentInstance)))return m(e,n),!0;if(r(s)){if(r(l))if(t.hasChildNodes())if(r(o=u)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,d=0;d<l.length;d++){if(!h||!L(h,l[d],n,i)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else _(e,l,n);if(r(u)){var p=!1;for(var f in u)if(!O(f)){p=!0,w(e,n);break}!p&&u["class"]&&ge(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!i(e)){var u=!1,h=[];if(i(t))u=!0,p(e,h);else{var d=r(t.nodeType);if(!d&&Ar(t,e))k(t,e,h,null,null,s);else{if(d){if(1===t.nodeType&&t.hasAttribute(j)&&(t.removeAttribute(j),n=!0),a(n)&&L(t,e,h))return P(e,h,!0),t;t=c(t)}var f=t.elm,m=l.parentNode(f);if(p(e,h,f._leaveCb?null:m,l.nextSibling(f)),r(e.parent)){var g=e.parent,v=b(e);while(g){for(var y=0;y<o.destroy.length;++y)o.destroy[y](g);if(g.elm=e.elm,v){for(var _=0;_<o.create.length;++_)o.create[_](Mr,g);var w=g.data.hook.insert;if(w.merged)for(var x=1;x<w.fns.length;x++)w.fns[x]()}else Er(g);g=g.parent}}r(m)?E(m,[t],0,0):r(t.tag)&&S(t)}}return P(e,h,u),e.elm}r(t)&&S(t)}}var Lr={create:Rr,update:Rr,destroy:function(t){Rr(t,Mr)}};function Rr(t,e){(t.data.directives||e.data.directives)&&Ir(t,e)}function Ir(t,e){var n,i,r,a=t===Mr,o=e===Mr,s=Nr(t.data.directives,t.context),u=Nr(e.data.directives,e.context),l=[],c=[];for(n in u)i=s[n],r=u[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Br(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(Br(r,"bind",e,t),r.def&&r.def.inserted&&l.push(r));if(l.length){var h=function(){for(var n=0;n<l.length;n++)Br(l[n],"inserted",e,t)};a?we(e,"insert",h):h()}if(c.length&&we(e,"postpatch",function(){for(var n=0;n<c.length;n++)Br(c[n],"componentUpdated",e,t)}),!a)for(n in s)u[n]||Br(s[n],"unbind",t,t,o)}var Dr=Object.create(null);function Nr(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=Dr),r[Ur(i)]=i,i.def=Yt(e.$options,"directives",i.name,!0);return r}function Ur(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Br(t,e,n,i,r){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,i,r)}catch(To){ee(To,n.context,"directive "+t.name+" "+e+" hook")}}var jr=[Sr,Lr];function Fr(t,e){var n=e.componentOptions;if((!r(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var a,o,s,u=e.elm,l=t.data.attrs||{},c=e.data.attrs||{};for(a in r(c.__ob__)&&(c=e.data.attrs=O({},c)),c)o=c[a],s=l[a],s!==o&&zr(u,a,o);for(a in(tt||nt)&&c.value!==l.value&&zr(u,"value",c.value),l)i(c[a])&&($i(a)?u.removeAttributeNS(Wi,qi(a)):zi(a)||u.removeAttribute(a))}}function zr(t,e,n){t.tagName.indexOf("-")>-1?Vr(t,e,n):Gi(e)?Xi(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):zi(e)?t.setAttribute(e,Hi(e,n)):$i(e)?Xi(n)?t.removeAttributeNS(Wi,qi(e)):t.setAttributeNS(Wi,e,n):Vr(t,e,n)}function Vr(t,e,n){if(Xi(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var Hr={create:Fr,update:Fr};function Gr(t,e){var n=e.elm,a=e.data,o=t.data;if(!(i(a.staticClass)&&i(a.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=Yi(e),u=n._transitionClasses;r(u)&&(s=Ki(s,Qi(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Wr,$r={create:Gr,update:Gr},qr="__r",Xr="__c";function Yr(t){if(r(t[qr])){var e=tt?"change":"input";t[e]=[].concat(t[qr],t[e]||[]),delete t[qr]}r(t[Xr])&&(t.change=[].concat(t[Xr],t.change||[]),delete t[Xr])}function Jr(t,e,n){var i=Wr;return function r(){var a=e.apply(null,arguments);null!==a&&Qr(t,r,n,i)}}var Zr=oe&&!(rt&&Number(rt[1])<=53);function Kr(t,e,n,i){if(Zr){var r=qn,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}Wr.addEventListener(t,e,ot?{capture:n,passive:i}:n)}function Qr(t,e,n,i){(i||Wr).removeEventListener(t,e._wrapper||e,n)}function ta(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Wr=e.elm,Yr(n),be(n,r,Kr,Qr,Jr,e.context),Wr=void 0}}var ea,na={create:ta,update:ta};function ia(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,a,o=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in r(u.__ob__)&&(u=e.data.domProps=O({},u)),s)n in u||(o[n]="");for(n in u){if(a=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),a===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=a;var l=i(a)?"":String(a);ra(o,l)&&(o.value=l)}else if("innerHTML"===n&&rr(o.tagName)&&i(o.innerHTML)){ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+a+"</svg>";var c=ea.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(c.firstChild)o.appendChild(c.firstChild)}else if(a!==s[n])try{o[n]=a}catch(To){}}}}function ra(t,e){return!t.composing&&("OPTION"===t.tagName||aa(t,e)||oa(t,e))}function aa(t,e){var n=!0;try{n=document.activeElement!==t}catch(To){}return n&&t.value!==e}function oa(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.number)return m(n)!==m(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var sa={create:ia,update:ia},ua=w(function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function la(t){var e=ca(t.style);return t.staticStyle?O(t.staticStyle,e):e}function ca(t){return Array.isArray(t)?L(t):"string"===typeof t?ua(t):t}function ha(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=la(r.data))&&O(i,n)}(n=la(t.data))&&O(i,n);var a=t;while(a=a.parent)a.data&&(n=la(a.data))&&O(i,n);return i}var da,pa=/^--/,fa=/\s*!important$/,ma=function(t,e,n){if(pa.test(e))t.style.setProperty(e,n);else if(fa.test(n))t.style.setProperty(M(e),n.replace(fa,""),"important");else{var i=va(e);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)t.style[i]=n[r];else t.style[i]=n}},ga=["Webkit","Moz","ms"],va=w(function(t){if(da=da||document.createElement("div").style,t=T(t),"filter"!==t&&t in da)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<ga.length;n++){var i=ga[n]+e;if(i in da)return i}});function ya(t,e){var n=e.data,a=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(a.staticStyle)&&i(a.style))){var o,s,u=e.elm,l=a.staticStyle,c=a.normalizedStyle||a.style||{},h=l||c,d=ca(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?O({},d):d;var p=ha(e,!0);for(s in h)i(p[s])&&ma(u,s,"");for(s in p)o=p[s],o!==h[s]&&ma(u,s,null==o?"":o)}}var _a={create:ya,update:ya},ba=/\s+/;function wa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ba).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function xa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ba).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Ta(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&O(e,Sa(t.name||"v")),O(e,t),e}return"string"===typeof t?Sa(t):void 0}}var Sa=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Ea=J&&!et,Ma="transition",Ca="animation",Aa="transition",ka="transitionend",Pa="animation",Oa="animationend";Ea&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Aa="WebkitTransition",ka="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Pa="WebkitAnimation",Oa="webkitAnimationEnd"));var La=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ra(t){La(function(){La(t)})}function Ia(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),wa(t,e))}function Da(t,e){t._transitionClasses&&y(t._transitionClasses,e),xa(t,e)}function Na(t,e,n){var i=Ba(t,e),r=i.type,a=i.timeout,o=i.propCount;if(!r)return n();var s=r===Ma?ka:Oa,u=0,l=function(){t.removeEventListener(s,c),n()},c=function(e){e.target===t&&++u>=o&&l()};setTimeout(function(){u<o&&l()},a+1),t.addEventListener(s,c)}var Ua=/\b(transform|all)(,|$)/;function Ba(t,e){var n,i=window.getComputedStyle(t),r=(i[Aa+"Delay"]||"").split(", "),a=(i[Aa+"Duration"]||"").split(", "),o=ja(r,a),s=(i[Pa+"Delay"]||"").split(", "),u=(i[Pa+"Duration"]||"").split(", "),l=ja(s,u),c=0,h=0;e===Ma?o>0&&(n=Ma,c=o,h=a.length):e===Ca?l>0&&(n=Ca,c=l,h=u.length):(c=Math.max(o,l),n=c>0?o>l?Ma:Ca:null,h=n?n===Ma?a.length:u.length:0);var d=n===Ma&&Ua.test(i[Aa+"Property"]);return{type:n,timeout:c,propCount:h,hasTransform:d}}function ja(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Fa(e)+Fa(t[n])}))}function Fa(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function za(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var a=Ta(t.data.transition);if(!i(a)&&!r(n._enterCb)&&1===n.nodeType){var o=a.css,s=a.type,l=a.enterClass,c=a.enterToClass,h=a.enterActiveClass,d=a.appearClass,p=a.appearToClass,f=a.appearActiveClass,g=a.beforeEnter,v=a.enter,y=a.afterEnter,_=a.enterCancelled,b=a.beforeAppear,w=a.appear,x=a.afterAppear,T=a.appearCancelled,S=a.duration,E=Pn,M=Pn.$vnode;while(M&&M.parent)E=M.context,M=M.parent;var C=!E._isMounted||!t.isRootInsert;if(!C||w||""===w){var A=C&&d?d:l,k=C&&f?f:h,P=C&&p?p:c,O=C&&b||g,L=C&&"function"===typeof w?w:v,R=C&&x||y,I=C&&T||_,D=m(u(S)?S.enter:S);0;var N=!1!==o&&!et,U=Ga(L),j=n._enterCb=B(function(){N&&(Da(n,P),Da(n,k)),j.cancelled?(N&&Da(n,A),I&&I(n)):R&&R(n),n._enterCb=null});t.data.show||we(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),L&&L(n,j)}),O&&O(n),N&&(Ia(n,A),Ia(n,k),Ra(function(){Da(n,A),j.cancelled||(Ia(n,P),U||(Ha(D)?setTimeout(j,D):Na(n,s,j)))})),t.data.show&&(e&&e(),L&&L(n,j)),N||U||j()}}}function Va(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var a=Ta(t.data.transition);if(i(a)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var o=a.css,s=a.type,l=a.leaveClass,c=a.leaveToClass,h=a.leaveActiveClass,d=a.beforeLeave,p=a.leave,f=a.afterLeave,g=a.leaveCancelled,v=a.delayLeave,y=a.duration,_=!1!==o&&!et,b=Ga(p),w=m(u(y)?y.leave:y);0;var x=n._leaveCb=B(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(Da(n,c),Da(n,h)),x.cancelled?(_&&Da(n,l),g&&g(n)):(e(),f&&f(n)),n._leaveCb=null});v?v(T):T()}function T(){x.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),_&&(Ia(n,l),Ia(n,h),Ra(function(){Da(n,l),x.cancelled||(Ia(n,c),b||(Ha(w)?setTimeout(x,w):Na(n,s,x)))})),p&&p(n,x),_||b||x())}}function Ha(t){return"number"===typeof t&&!isNaN(t)}function Ga(t){if(i(t))return!1;var e=t.fns;return r(e)?Ga(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Wa(t,e){!0!==e.data.show&&za(e)}var $a=J?{create:Wa,activate:Wa,remove:function(t,e){!0!==t.data.show?Va(t,e):e()}}:{},qa=[Hr,$r,na,sa,_a,$a],Xa=qa.concat(jr),Ya=Or({nodeOps:Tr,modules:Xa});et&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&io(t,"input")});var Ja={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?we(n,"postpatch",function(){Ja.componentUpdated(t,e,n)}):Za(t,e,n.context),t._vOptions=[].map.call(t.options,to)):("textarea"===n.tag||lr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",eo),t.addEventListener("compositionend",no),t.addEventListener("change",no),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Za(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,to);if(r.some(function(t,e){return!N(t,i[e])})){var a=t.multiple?e.value.some(function(t){return Qa(t,r)}):e.value!==e.oldValue&&Qa(e.value,r);a&&io(t,"change")}}}};function Za(t,e,n){Ka(t,e,n),(tt||nt)&&setTimeout(function(){Ka(t,e,n)},0)}function Ka(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var a,o,s=0,u=t.options.length;s<u;s++)if(o=t.options[s],r)a=U(i,to(o))>-1,o.selected!==a&&(o.selected=a);else if(N(to(o),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function Qa(t,e){return e.every(function(e){return!N(e,t)})}function to(t){return"_value"in t?t._value:t.value}function eo(t){t.target.composing=!0}function no(t){t.target.composing&&(t.target.composing=!1,io(t.target,"input"))}function io(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function ro(t){return!t.componentInstance||t.data&&t.data.transition?t:ro(t.componentInstance._vnode)}var ao={bind:function(t,e,n){var i=e.value;n=ro(n);var r=n.data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,za(n,function(){t.style.display=a})):t.style.display=i?a:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=ro(n);var a=n.data&&n.data.transition;a?(n.data.show=!0,i?za(n,function(){t.style.display=t.__vOriginalDisplay}):Va(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},oo={model:Ja,show:ao},so={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function uo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?uo(Tn(e.children)):t}function lo(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var a in r)e[T(a)]=r[a];return e}function co(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ho(t){while(t=t.parent)if(t.data.transition)return!0}function po(t,e){return e.key===t.key&&e.tag===t.tag}var fo=function(t){return t.tag||xn(t)},mo=function(t){return"show"===t.name},go={name:"transition",props:so,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(fo),n.length)){0;var i=this.mode;0;var r=n[0];if(ho(this.$vnode))return r;var a=uo(r);if(!a)return r;if(this._leaving)return co(t,r);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var u=(a.data||(a.data={})).transition=lo(this),l=this._vnode,c=uo(l);if(a.data.directives&&a.data.directives.some(mo)&&(a.data.show=!0),c&&c.data&&!po(a,c)&&!xn(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=O({},u);if("out-in"===i)return this._leaving=!0,we(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),co(t,r);if("in-out"===i){if(xn(a))return l;var d,p=function(){d()};we(u,"afterEnter",p),we(u,"enterCancelled",p),we(h,"delayLeave",function(t){d=t})}}return r}}},vo=O({tag:String,moveClass:String},so);delete vo.mode;var yo={props:vo,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=On(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=lo(this),s=0;s<r.length;s++){var u=r[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(i){for(var l=[],c=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?l.push(d):c.push(d)}this.kept=t(e,null,l),this.removed=c}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(_o),t.forEach(bo),t.forEach(wo),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;Ia(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(ka,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(ka,t),n._moveCb=null,Da(n,e))})}}))},methods:{hasMove:function(t,e){if(!Ea)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){xa(n,t)}),wa(n,e),n.style.display="none",this.$el.appendChild(n);var i=Ba(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function _o(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function bo(t){t.data.newPos=t.elm.getBoundingClientRect()}function wo(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+r+"px)",a.transitionDuration="0s"}}var xo={Transition:go,TransitionGroup:yo};Ti.config.mustUseProp=Fi,Ti.config.isReservedTag=ar,Ti.config.isReservedAttr=Bi,Ti.config.getTagNamespace=or,Ti.config.isUnknownElement=ur,O(Ti.options.directives,oo),O(Ti.options.components,xo),Ti.prototype.__patch__=J?Ya:R,Ti.prototype.$mount=function(t,e){return t=t&&J?cr(t):void 0,In(this,t,e)},J&&setTimeout(function(){V.devtools&&lt&&lt.emit("init",Ti)},0),e["default"]=Ti}.call(this,n("c8ba"))},"2b4c":function(t,e,n){var i=n("5537")("wks"),r=n("ca5a"),a=n("7726").Symbol,o="function"==typeof a,s=t.exports=function(t){return i[t]||(i[t]=o&&a[t]||(o?a:r)("Symbol."+t))};s.store=i},"2b8c":function(t,e,n){var i=n("be09"),r=t.exports={WebVTT:n("d02c"),VTTCue:n("b03c"),VTTRegion:n("f97d")};i.vttjs=r,i.WebVTT=r.WebVTT;var a=r.VTTCue,o=r.VTTRegion,s=i.VTTCue,u=i.VTTRegion;r.shim=function(){i.VTTCue=a,i.VTTRegion=o},r.restore=function(){i.VTTCue=s,i.VTTRegion=u},i.VTTCue||r.shim()},"2bb5":function(t,e,n){"use strict";e.__esModule=!0;n("8122");e.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2e20":function(t,e,n){"use strict";(function(t,i){n.d(e,"f",function(){return r}),n.d(e,"h",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return h}),n.d(e,"e",function(){return d});
/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */
var r="undefined"!==typeof window?window:t.exports&&"undefined"!==typeof i?i:{},a=function(t){var e={},n=t.document,i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(i.TweenLite)return i.TweenLite;var r,a,o,s,u,l=function(t){var e,n=t.split("."),r=i;for(e=0;e<n.length;e++)r[n[e]]=r=r[n[e]]||{};return r},c=l("com.greensock"),h=1e-8,d=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},p=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"===typeof n&&!!n.push&&t.call(n)===e)}}(),m={},g=function(t,n,r,a){this.sc=m[t]?m[t].sc:[],m[t]=this,this.gsClass=null,this.func=r;var o=[];this.check=function(s){var u,c,h,d,p=n.length,f=p;while(--p>-1)(u=m[n[p]]||new g(n[p],[])).gsClass?(o[p]=u.gsClass,f--):s&&u.sc.push(this);if(0===f&&r)for(c=("com.greensock."+t).split("."),h=c.pop(),d=l(c.join("."))[h]=this.gsClass=r.apply(r,o),a&&(i[h]=e[h]=d),p=0;p<this.sc.length;p++)this.sc[p].check()},this.check(!0)},v=t._gsDefine=function(t,e,n,i){return new g(t,e,n,i)},y=c._class=function(t,e,n){return e=e||function(){},v(t,[],function(){return e},n),e};v.globals=i;var _=[0,0,1,1],b=y("easing.Ease",function(t,e,n,i){this._func=t,this._type=n||0,this._power=i||0,this._params=e?_.concat(e):_},!0),w=b.map={},x=b.register=function(t,e,n,i){var r,a,o,s,u=e.split(","),l=u.length,h=(n||"easeIn,easeOut,easeInOut").split(",");while(--l>-1){a=u[l],r=i?y("easing."+a,null,!0):c.easing[a]||{},o=h.length;while(--o>-1)s=h[o],w[a+"."+s]=w[s+a]=r[s]=t.getRatio?t:t[s]||new t}};o=b.prototype,o._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,i=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===e?1-i:2===e?i:t<.5?i/2:1-i/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=r.length;while(--a>-1)o=r[a]+",Power"+a,x(new b(null,null,1,a),o,"easeOut",!0),x(new b(null,null,2,a),o,"easeIn"+(0===a?",easeNone":"")),x(new b(null,null,3,a),o,"easeInOut");w.linear=c.easing.Linear.easeIn,w.swing=c.easing.Quad.easeInOut;var T=y("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});o=T.prototype,o.addEventListener=function(t,e,n,i,r){r=r||0;var a,o,l=this._listeners[t],c=0;this!==s||u||s.wake(),null==l&&(this._listeners[t]=l=[]),o=l.length;while(--o>-1)a=l[o],a.c===e&&a.s===n?l.splice(o,1):0===c&&a.pr<r&&(c=o+1);l.splice(c,0,{c:e,s:n,up:i,pr:r})},o.removeEventListener=function(t,e){var n,i=this._listeners[t];if(i){n=i.length;while(--n>-1)if(i[n].c===e)return void i.splice(n,1)}},o.dispatchEvent=function(t){var e,n,i,r=this._listeners[t];if(r){e=r.length,e>1&&(r=r.slice(0)),n=this._eventTarget;while(--e>-1)i=r[e],i&&(i.up?i.c.call(i.s||n,{type:t,target:n}):i.c.call(i.s||n))}};var S=t.requestAnimationFrame,E=t.cancelAnimationFrame,M=Date.now||function(){return(new Date).getTime()},C=M();r=["ms","moz","webkit","o"],a=r.length;while(--a>-1&&!S)S=t[r[a]+"RequestAnimationFrame"],E=t[r[a]+"CancelAnimationFrame"]||t[r[a]+"CancelRequestAnimationFrame"];y("Ticker",function(t,e){var i,r,a,o,l,c=this,d=M(),f=!(!1===e||!S)&&"auto",m=500,g=33,v="tick",y=function(t){var e,n,s=M()-C;s>m&&(d+=s-g),C+=s,c.time=(C-d)/1e3,e=c.time-l,(!i||e>0||!0===t)&&(c.frame++,l+=e+(e>=o?.004:o-e),n=!0),!0!==t&&(a=r(y)),n&&c.dispatchEvent(v)};T.call(c),c.time=c.frame=0,c.tick=function(){y(!0)},c.lagSmoothing=function(t,e){if(!arguments.length)return m<1/h;m=t||1/h,g=Math.min(e,m,0)},c.sleep=function(){null!=a&&(f&&E?E(a):clearTimeout(a),r=p,a=null,c===s&&(u=!1))},c.wake=function(t){null!==a?c.sleep():t?d+=-C+(C=M()):c.frame>10&&(C=M()-m+5),r=0===i?p:f&&S?S:function(t){return setTimeout(t,1e3*(l-c.time)+1|0)},c===s&&(u=!0),y(2)},c.fps=function(t){if(!arguments.length)return i;i=t,o=1/(i||60),l=this.time+o,c.wake()},c.useRAF=function(t){if(!arguments.length)return f;c.sleep(),f=t,c.fps(i)},c.fps(t),setTimeout(function(){"auto"===f&&c.frame<5&&"hidden"!==(n||{}).visibilityState&&c.useRAF(!1)},1500)}),o=c.Ticker.prototype=new c.events.EventDispatcher,o.constructor=c.Ticker;var A=y("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!!e.immediateRender,this.data=e.data,this._reversed=!!e.reversed,Y){u||s.wake();var n=this.vars.useFrames?X:Y;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});s=A.ticker=new c.Ticker,o=A.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var k=function(){u&&M()-C>2e3&&("hidden"!==(n||{}).visibilityState||!s.lagSmoothing())&&s.wake();var t=setTimeout(k,2e3);t.unref&&t.unref()};k(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(t,e,n){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<n+this.totalDuration()/this._timeScale-h},o._enabled=function(t,e){return u||s.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(t,e){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){var e=t?this:this.timeline;while(e)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){var e=t.length,n=t.concat();while(--e>-1)"{self}"===t[e]&&(n[e]=this);return n},o._callback=function(t){var e=this.vars,n=e[t],i=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this,a=i?i.length:0;switch(a){case 0:n.call(r);break;case 1:n.call(r,i[0]);break;case 2:n.call(r,i[0],i[1]);break;default:n.apply(r,i)}},o.eventCallback=function(t,e,n,i){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,r[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,n){if(u||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;if(t>i&&!n&&(t=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)while(r._timeline)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(I.length&&Z(),this.render(t,e,!1),I.length&&Z())}return this},o.progress=o.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,n;t=t||h,this._timeline&&this._timeline.smoothChildTiming&&(e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/t),this._timeScale=t,n=this.timeline;while(n&&n.timeline)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;var e,n,i=this._timeline;return t!=this._paused&&i&&(u||t||s.wake(),e=i.rawTime(),n=e-this._pauseTime,!t&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&(e=i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var P=y("core.SimpleTimeline",function(t){A.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});o=P.prototype=new A,o.constructor=P,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e,n,i){var r,a;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren){a=t._startTime;while(r&&r._startTime>a)r=r._prev}return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,n){var i,r=this._first;this._totalTime=this._time=this._rawPrevTime=t;while(r)i=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=i},o.rawTime=function(){return u||s.wake(),this._totalTime};var O=y("TweenLite",function(e,n,i){if(A.call(this,n,i),this.render=O.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!==typeof e?e:O.selector(e)||e;var r,a,o,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?q[O.defaultOverwrite]:"number"===typeof u?u>>0:q[u],(s||e instanceof Array||e.push&&f(e))&&"number"!==typeof e[0])for(this._targets=o=d(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)a=o[r],a?"string"!==typeof a?a.length&&a!==t&&a[0]&&(a[0]===t||a[0].nodeType&&a[0].style&&!a.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(d(a))):(this._siblings[r]=K(a,this,!1),1===u&&this._siblings[r].length>1&&tt(a,this,null,1,this._siblings[r])):(a=o[r--]=O.selector(a),"string"===typeof a&&o.splice(r+1,1)):o.splice(r--,1);else this._propLookup={},this._siblings=K(e,this,!1),1===u&&this._siblings.length>1&&tt(e,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-h,this.render(Math.min(0,-this._delay)))},!0),L=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},R=function(t,e){var n,i={};for(n in t)$[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!H[n]||H[n]&&H[n]._autoCSS)||(i[n]=t[n],delete t[n]);t.css=i};o=O.prototype=new A,o.constructor=O,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,O.version="2.1.3",O.defaultEase=o._ease=new b(null,null,1,1),O.defaultOverwrite="auto",O.ticker=s,O.autoSleep=120,O.lagSmoothing=function(t,e){s.lagSmoothing(t,e)},O.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(O.selector=i,i(e)):(n||(n=t.document),n?n.querySelectorAll?n.querySelectorAll(e):n.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var I=[],D={},N=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,U=/[\+-]=-?[\.\d]/,B=function(t){var e,n=this._firstPT,i=1e-6;while(n)e=n.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:n.c*t+n.s,n.m?e=n.m.call(this._tween,e,this._target||n.t,this._tween):e<i&&e>-i&&!n.blob&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},j=function(t){return(1e3*t|0)/1e3+""},F=function(t,e,n,i){var r,a,o,s,u,l,c,h=[],d=0,p="",f=0;for(h.start=t,h.end=e,t=h[0]=t+"",e=h[1]=e+"",n&&(n(h),t=h[0],e=h[1]),h.length=0,r=t.match(N)||[],a=e.match(N)||[],i&&(i._next=null,i.blob=1,h._firstPT=h._applyPT=i),u=a.length,s=0;s<u;s++)c=a[s],l=e.substr(d,e.indexOf(c,d)-d),p+=l||!s?l:",",d+=l.length,f?f=(f+1)%5:"rgba("===l.substr(-5)&&(f=1),c===r[s]||r.length<=s?p+=c:(p&&(h.push(p),p=""),o=parseFloat(r[s]),h.push(o),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:o,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-o)||0,f:0,m:f&&f<4?Math.round:j}),d+=c.length;return p+=e.substr(d),p&&h.push(p),h.setRatio=B,U.test(e)&&(h.end=null),h},z=function(t,e,n,i,r,a,o,s,u){"function"===typeof i&&(i=i(u||0,t));var l,c=typeof t[e],h="function"!==c?"":e.indexOf("set")||"function"!==typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d="get"!==n?n:h?o?t[h](o):t[h]():t[e],p="string"===typeof i&&"="===i.charAt(1),f={t:t,p:e,s:d,f:"function"===c,pg:0,n:r||e,m:a?"function"===typeof a?a:Math.round:0,pr:0,c:p?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-d||0};if(("number"!==typeof d||"number"!==typeof i&&!p)&&(o||isNaN(d)||!p&&isNaN(i)||"boolean"===typeof d||"boolean"===typeof i?(f.fp=o,l=F(d,p?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):i,s||O.defaultStringFilter,f),f={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(f.s=parseFloat(d),p||(f.c=parseFloat(i)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},V=O._internals={isArray:f,isSelector:L,lazyTweens:I,blobDif:F},H=O._plugins={},G=V.tweenLookup={},W=0,$=V.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},X=A._rootFramesTimeline=new P,Y=A._rootTimeline=new P,J=30,Z=V.lazyRender=function(){var t,e,n=I.length;for(D={},t=0;t<n;t++)e=I[t],e&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);I.length=0};Y._startTime=s.time,X._startTime=s.frame,Y._active=X._active=!0,setTimeout(Z,1),A._updateRoot=O.render=function(){var t,e,n;if(I.length&&Z(),Y.render((s.time-Y._startTime)*Y._timeScale,!1,!1),X.render((s.frame-X._startTime)*X._timeScale,!1,!1),I.length&&Z(),s.frame>=J){for(n in J=s.frame+(parseInt(O.autoSleep,10)||120),G){e=G[n].tweens,t=e.length;while(--t>-1)e[t]._gc&&e.splice(t,1);0===e.length&&delete G[n]}if(n=Y._first,(!n||n._paused)&&O.autoSleep&&!X._first&&1===s._listeners.tick.length){while(n&&n._paused)n=n._next;n||s.sleep()}}},s.addEventListener("tick",A._updateRoot);var K=function(t,e,n){var i,r,a=t._gsTweenID;if(G[a||(t._gsTweenID=a="t"+W++)]||(G[a]={target:t,tweens:[]}),e&&(i=G[a].tweens,i[r=i.length]=e,n))while(--r>-1)i[r]===e&&i.splice(r,1);return G[a].tweens},Q=function(t,e,n,i){var r,a,o=t.vars.onOverwrite;return o&&(r=o(t,e,n,i)),o=O.onOverwrite,o&&(a=o(t,e,n,i)),!1!==r&&!1!==a},tt=function(t,e,n,i,r){var a,o,s,u;if(1===i||i>=4){for(u=r.length,a=0;a<u;a++)if((s=r[a])!==e)s._gc||s._kill(null,t,e)&&(o=!0);else if(5===i)break;return o}var l,c=e._startTime+h,d=[],p=0,f=0===e._duration;a=r.length;while(--a>-1)(s=r[a])===e||s._gc||s._paused||(s._timeline!==e._timeline?(l=l||et(e,0,f),0===et(s,l,f)&&(d[p++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((f||!s._initted)&&c-s._startTime<=2*h||(d[p++]=s)));a=p;while(--a>-1)if(s=d[a],u=s._firstPT,2===i&&s._kill(n,t,e)&&(o=!0),2!==i||!s._firstPT&&s._initted&&u){if(2!==i&&!Q(s,e))continue;s._enabled(!1,!1)&&(o=!0)}return o},et=function(t,e,n){var i=t._timeline,r=i._timeScale,a=t._startTime;while(i._timeline){if(a+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return a/=r,a>e?a-e:n&&a===e||!t._initted&&a-e<2*h?h:(a+=t.totalDuration()/t._timeScale/r)>e+h?0:a-e-h};o._init=function(){var t,e,n,i,r,a,o=this.vars,s=this._overwrittenProps,u=this._duration,l=!!o.immediateRender,c=o.ease,h=this._startAt;if(o.startAt){for(i in h&&(h.render(-1,!0),h.kill()),r={},o.startAt)r[i]=o.startAt[i];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&!1!==o.lazy,r.startAt=r.delay=null,r.onUpdate=o.onUpdate,r.onUpdateParams=o.onUpdateParams,r.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=O.to(this.target||{},0,r),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(o.runBackwards&&0!==u)if(h)h.render(-1,!0),h.kill(),this._startAt=null;else{for(i in 0!==this._time&&(l=!1),n={},o)$[i]&&"autoCSS"!==i||(n[i]=o[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&!1!==o.lazy,n.immediateRender=l,this._startAt=O.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof b?c:"function"===typeof c?new b(c,o.easeParams):w[c]||O.defaultEase:O.defaultEase,o.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,t=0;t<a;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&O._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!==typeof this.target&&this._enabled(!1,!1)),o.runBackwards){n=this._firstPT;while(n)n.s+=n.c,n.c=-n.c,n=n._next}this._onUpdate=o.onUpdate,this._initted=!0},o._initProps=function(e,n,i,r,a){var o,s,u,l,c,h;if(null==e)return!1;for(o in D[e._gsTweenID]&&Z(),this.vars.css||e.style&&e!==t&&e.nodeType&&H.css&&!1!==this.vars.autoCSS&&R(this.vars,e),this.vars)if(h=this.vars[o],$[o])h&&(h instanceof Array||h.push&&f(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(H[o]&&(l=new H[o])._onInitTween(e,this.vars[o],this,a)){this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;while(--s>-1)n[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else n[o]=z.call(this,e,o,"get",h,o,0,null,this.vars.stringFilter,a);return r&&this._kill(r,e)?this._initProps(e,n,i,r,a):this._overwrite>1&&this._firstPT&&i.length>1&&tt(e,this,n,this._overwrite,i)?(this._kill(n,e),this._initProps(e,n,i,r,a)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(D[e._gsTweenID]=!0),u)},o.render=function(t,e,n){var i,r,a,o,s=this,u=s._time,l=s._duration,c=s._rawPrevTime;if(t>=l-h&&t>=0)s._totalTime=s._time=l,s.ratio=s._ease._calcEnd?s._ease.getRatio(1):1,s._reversed||(i=!0,r="onComplete",n=n||s._timeline.autoRemoveChildren),0===l&&(s._initted||!s.vars.lazy||n)&&(s._startTime===s._timeline._duration&&(t=0),(c<0||t<=0&&t>=-h||c===h&&"isPause"!==s.data)&&c!==t&&(n=!0,c>h&&(r="onReverseComplete")),s._rawPrevTime=o=!e||t||c===t?t:h);else if(t<h)s._totalTime=s._time=0,s.ratio=s._ease._calcEnd?s._ease.getRatio(0):0,(0!==u||0===l&&c>0)&&(r="onReverseComplete",i=s._reversed),t>-h?t=0:t<0&&(s._active=!1,0===l&&(s._initted||!s.vars.lazy||n)&&(c>=0&&(c!==h||"isPause"!==s.data)&&(n=!0),s._rawPrevTime=o=!e||t||c===t?t:h)),(!s._initted||s._startAt&&s._startAt.progress())&&(n=!0);else if(s._totalTime=s._time=t,s._easeType){var d=t/l,p=s._easeType,f=s._easePower;(1===p||3===p&&d>=.5)&&(d=1-d),3===p&&(d*=2),1===f?d*=d:2===f?d*=d*d:3===f?d*=d*d*d:4===f&&(d*=d*d*d*d),s.ratio=1===p?1-d:2===p?d:t/l<.5?d/2:1-d/2}else s.ratio=s._ease.getRatio(t/l);if(s._time!==u||n){if(!s._initted){if(s._init(),!s._initted||s._gc)return;if(!n&&s._firstPT&&(!1!==s.vars.lazy&&s._duration||s.vars.lazy&&!s._duration))return s._time=s._totalTime=u,s._rawPrevTime=c,I.push(s),void(s._lazy=[t,e]);s._time&&!i?s.ratio=s._ease.getRatio(s._time/l):i&&s._ease._calcEnd&&(s.ratio=s._ease.getRatio(0===s._time?0:1))}!1!==s._lazy&&(s._lazy=!1),s._active||!s._paused&&s._time!==u&&t>=0&&(s._active=!0),0===u&&(s._startAt&&(t>=0?s._startAt.render(t,!0,n):r||(r="_dummyGS")),s.vars.onStart&&(0===s._time&&0!==l||e||s._callback("onStart"))),a=s._firstPT;while(a)a.f?a.t[a.p](a.c*s.ratio+a.s):a.t[a.p]=a.c*s.ratio+a.s,a=a._next;s._onUpdate&&(t<0&&s._startAt&&-1e-4!==t&&s._startAt.render(t,!0,n),e||(s._time!==u||i||n)&&s._callback("onUpdate")),r&&(s._gc&&!n||(t<0&&s._startAt&&!s._onUpdate&&-1e-4!==t&&s._startAt.render(t,!0,n),i&&(s._timeline.autoRemoveChildren&&s._enabled(!1,!1),s._active=!1),!e&&s.vars[r]&&s._callback(r),0===l&&s._rawPrevTime===h&&o!==h&&(s._rawPrevTime=0)))}},o._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!==typeof e?e||this._targets||this.target:O.selector(e)||e;var i,r,a,o,s,u,l,c,h,d=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline,p=this._firstPT;if((f(e)||L(e))&&"number"!==typeof e[0]){i=e.length;while(--i>-1)this._kill(t,e[i],n)&&(u=!0)}else{if(this._targets){i=this._targets.length;while(--i>-1)if(e===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(l=t||s,c=t!==r&&"all"!==r&&t!==s&&("object"!==typeof t||!t._tempKill),n&&(O.onOverwrite||this.vars.onOverwrite)){for(a in l)s[a]&&(h||(h=[]),h.push(a));if((h||!t)&&!Q(this,n,e,h))return!1}for(a in l)(o=s[a])&&(d&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,u=!0),o.pg&&o.t._kill(l)&&(u=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete s[a]),c&&(r[a]=1);!this._firstPT&&this._initted&&p&&this._enabled(!1,!1)}}return u},o.invalidate=function(){this._notifyPluginsOfEnabled&&O._onPluginEvent("_onDisable",this);var t=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],A.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(t,!1,!1!==this.vars.lazy)),this},o._enabled=function(t,e){if(u||s.wake(),t&&this._gc){var n,i=this._targets;if(i){n=i.length;while(--n>-1)this._siblings[n]=K(i[n],this,!0)}else this._siblings=K(this.target,this,!0)}return A.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&O._onPluginEvent(t?"_onEnable":"_onDisable",this)},O.to=function(t,e,n){return new O(t,e,n)},O.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new O(t,e,n)},O.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new O(t,e,i)},O.delayedCall=function(t,e,n,i,r){return new O(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},O.set=function(t,e){return new O(t,0,e)},O.getTweensOf=function(t,e){if(null==t)return[];var n,i,r,a;if(t="string"!==typeof t?t:O.selector(t)||t,(f(t)||L(t))&&"number"!==typeof t[0]){n=t.length,i=[];while(--n>-1)i=i.concat(O.getTweensOf(t[n],e));n=i.length;while(--n>-1){a=i[n],r=n;while(--r>-1)a===i[r]&&i.splice(n,1)}}else if(t._gsTweenID){i=K(t).concat(),n=i.length;while(--n>-1)(i[n]._gc||e&&!i[n].isActive())&&i.splice(n,1)}return i||[]},O.killTweensOf=O.killDelayedCallsTo=function(t,e,n){"object"===typeof e&&(n=e,e=!1);var i=O.getTweensOf(t,e),r=i.length;while(--r>-1)i[r]._kill(n,t)};var nt=y("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=nt.prototype},!0);if(o=nt.prototype,nt.version="1.19.0",nt.API=2,o._firstPT=null,o._addTween=z,o.setRatio=B,o._kill=function(t){var e,n=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else{e=n.length;while(--e>-1)null!=t[n[e]]&&n.splice(e,1)}while(i)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},o._mod=o._roundProps=function(t){var e,n=this._firstPT;while(n)e=t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")],e&&"function"===typeof e&&(2===n.f?n.t._applyPT.m=e:n.m=e),n=n._next},O._onPluginEvent=function(t,e){var n,i,r,a,o,s=e._firstPT;if("_onInitAllProps"===t){while(s){o=s._next,i=r;while(i&&i.pr>s.pr)i=i._next;(s._prev=i?i._prev:a)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:a=s,s=o}s=e._firstPT=r}while(s)s.pg&&"function"===typeof s.t[t]&&s.t[t]()&&(n=!0),s=s._next;return n},nt.activate=function(t){var e=t.length;while(--e>-1)t[e].API===nt.API&&(H[(new t[e])._propName]=t[e]);return!0},v.plugin=function(t){if(!t||!t.propName||!t.init||!t.API)throw"illegal plugin definition.";var e,n=t.propName,i=t.priority||0,r=t.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=y("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){nt.call(this,n,i),this._overwriteProps=r||[]},!0===t.global),s=o.prototype=new nt(n);for(e in s.constructor=o,o.API=t.API,a)"function"===typeof t[e]&&(s[a[e]]=t[e]);return o.version=t.version,nt.activate([o]),o},r=t._gsQueue,r){for(a=0;a<r.length;a++)r[a]();for(o in m)m[o].func||t.console.log("GSAP encountered missing dependency: "+o)}return u=!1,O}(r),o=r.GreenSockGlobals,s=o.com.greensock,u=s.core.SimpleTimeline,l=s.core.Animation,c=o.Ease,h=(o.Linear,o.Power1,o.Power2),d=(o.Power3,o.Power4,o.TweenPlugin);s.events.EventDispatcher}).call(this,n("dd40")(t),n("c8ba"))},"2e9f":function(t,e){var n=function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)n=t[e],"access_unit_delimiter_rbsp"===n.nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),i=[n],i.byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},i=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)n=t[e],n.keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),i=[n],i.nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},r=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},a=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},o=function(t,e){var n=a();return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},s=function(t,e){var n,i,r,a,s,u=e||0,l=[];for(n=0;n<t.length;n++)for(a=t[n],i=0;i<a.length;i++)s=a[i],r=o(s,u),u+=r.size,l.push(r);return l},u=function(t){var e,n,i,r,a,o,s=0,u=t.byteLength,l=t.nalCount,c=u+4*l,h=new Uint8Array(c),d=new DataView(h.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)o=a[i],d.setUint32(s,o.data.byteLength),s+=4,h.set(o.data,s),s+=o.data.byteLength;return h};t.exports={groupNalsIntoFrames:n,groupFramesIntoGops:i,extendFirstKeyFrame:r,generateSampleTable:s,concatenateNalData:u}},"2f17":function(t,e,n){"use strict";var i=Object.prototype.toString,r=n("4de8"),a=n("21d0"),o={"[[DefaultValue]]":function(t){var e;if(e=arguments.length>1?arguments[1]:"[object Date]"===i.call(t)?String:Number,e===String||e===Number){var n,o,s=e===String?["toString","valueOf"]:["valueOf","toString"];for(o=0;o<s.length;++o)if(a(t[s[o]])&&(n=t[s[o]](),r(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(t){return r(t)?t:arguments.length>1?o["[[DefaultValue]]"](t,arguments[1]):o["[[DefaultValue]]"](t)}},"2f62":function(t,e,n){"use strict";(function(t){
/**
 * vuex v3.1.1
 * (c) 2019 Evan You
 * @license MIT
 */
function i(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:i});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,n.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}n.d(e,"d",function(){return O}),n.d(e,"c",function(){return L}),n.d(e,"b",function(){return R});var r="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},a=r.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t){a&&(t._devtoolHook=a,a.emit("vuex:init",t),a.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){a.emit("vuex:mutation",t,e)}))}function s(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function u(t){return null!==t&&"object"===typeof t}function l(t){return t&&"function"===typeof t.then}function c(t,e){return function(){return t(e)}}var h=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},d={namespaced:{configurable:!0}};d.namespaced.get=function(){return!!this._rawModule.namespaced},h.prototype.addChild=function(t,e){this._children[t]=e},h.prototype.removeChild=function(t){delete this._children[t]},h.prototype.getChild=function(t){return this._children[t]},h.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},h.prototype.forEachChild=function(t){s(this._children,t)},h.prototype.forEachGetter=function(t){this._rawModule.getters&&s(this._rawModule.getters,t)},h.prototype.forEachAction=function(t){this._rawModule.actions&&s(this._rawModule.actions,t)},h.prototype.forEachMutation=function(t){this._rawModule.mutations&&s(this._rawModule.mutations,t)},Object.defineProperties(h.prototype,d);var p=function(t){this.register([],t,!1)};function f(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;f(t.concat(i),e.getChild(i),n.modules[i])}}p.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},p.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},p.prototype.update=function(t){f([],this.root,t)},p.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new h(e,n);if(0===t.length)this.root=r;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],r)}e.modules&&s(e.modules,function(e,r){i.register(t.concat(r),e,n)})},p.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var m;var g=function(t){var e=this;void 0===t&&(t={}),!m&&"undefined"!==typeof window&&window.Vue&&P(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new p(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new m;var r=this,a=this,s=a.dispatch,u=a.commit;this.dispatch=function(t,e){return s.call(r,t,e)},this.commit=function(t,e,n){return u.call(r,t,e,n)},this.strict=i;var l=this._modules.root.state;w(this,l,[],this._modules.root),b(this,l),n.forEach(function(t){return t(e)});var c=void 0!==t.devtools?t.devtools:m.config.devtools;c&&o(this)},v={state:{configurable:!0}};function y(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function _(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;w(t,n,[],t._modules.root,!0),b(t,n,e)}function b(t,e,n){var i=t._vm;t.getters={};var r=t._wrappedGetters,a={};s(r,function(e,n){a[n]=c(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var o=m.config.silent;m.config.silent=!0,t._vm=new m({data:{$$state:e},computed:a}),m.config.silent=o,t.strict&&C(t),i&&(n&&t._withCommit(function(){i._data.$$state=null}),m.nextTick(function(){return i.$destroy()}))}function w(t,e,n,i,r){var a=!n.length,o=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[o]=i),!a&&!r){var s=A(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){m.set(s,u,i.state)})}var l=i.context=x(t,o,n);i.forEachMutation(function(e,n){var i=o+n;S(t,i,e,l)}),i.forEachAction(function(e,n){var i=e.root?n:o+n,r=e.handler||e;E(t,i,r,l)}),i.forEachGetter(function(e,n){var i=o+n;M(t,i,e,l)}),i.forEachChild(function(i,a){w(t,e,n.concat(a),i,r)})}function x(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var a=k(n,i,r),o=a.payload,s=a.options,u=a.type;return s&&s.root||(u=e+u),t.dispatch(u,o)},commit:i?t.commit:function(n,i,r){var a=k(n,i,r),o=a.payload,s=a.options,u=a.type;s&&s.root||(u=e+u),t.commit(u,o,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return T(t,e)}},state:{get:function(){return A(t.state,n)}}}),r}function T(t,e){var n={},i=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var a=r.slice(i);Object.defineProperty(n,a,{get:function(){return t.getters[r]},enumerable:!0})}}),n}function S(t,e,n,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push(function(e){n.call(t,i.state,e)})}function E(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(e,r){var a=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return l(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}function M(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)})}function C(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}function A(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function k(t,e,n){return u(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function P(t){m&&t===m||(m=t,i(m))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(t){0},g.prototype.commit=function(t,e,n){var i=this,r=k(t,e,n),a=r.type,o=r.payload,s=(r.options,{type:a,payload:o}),u=this._mutations[a];u&&(this._withCommit(function(){u.forEach(function(t){t(o)})}),this._subscribers.forEach(function(t){return t(s,i.state)}))},g.prototype.dispatch=function(t,e){var n=this,i=k(t,e),r=i.type,a=i.payload,o={type:r,payload:a},s=this._actions[r];if(s){try{this._actionSubscribers.filter(function(t){return t.before}).forEach(function(t){return t.before(o,n.state)})}catch(l){0}var u=s.length>1?Promise.all(s.map(function(t){return t(a)})):s[0](a);return u.then(function(t){try{n._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(o,n.state)})}catch(l){0}return t})}},g.prototype.subscribe=function(t){return y(t,this._subscribers)},g.prototype.subscribeAction=function(t){var e="function"===typeof t?{before:t}:t;return y(e,this._actionSubscribers)},g.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},g.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},g.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),w(this,this.state,t,this._modules.get(t),n.preserveState),b(this,this.state)},g.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=A(e.state,t.slice(0,-1));m.delete(n,t[t.length-1])}),_(this)},g.prototype.hotUpdate=function(t){this._modules.update(t),_(this,!0)},g.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(g.prototype,v);var O=U(function(t,e){var n={};return N(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=B(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"===typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0}),n}),L=U(function(t,e){var n={};return N(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.commit;if(t){var a=B(this.$store,"mapMutations",t);if(!a)return;i=a.context.commit}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),R=U(function(t,e){var n={};return N(e).forEach(function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||B(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0}),n}),I=U(function(t,e){var n={};return N(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var a=B(this.$store,"mapActions",t);if(!a)return;i=a.context.dispatch}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),D=function(t){return{mapState:O.bind(null,t),mapGetters:R.bind(null,t),mapMutations:L.bind(null,t),mapActions:I.bind(null,t)}};function N(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function U(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function B(t,e,n){var i=t._modulesNamespaceMap[n];return i}var j={Store:g,install:P,version:"3.1.1",mapState:O,mapMutations:L,mapGetters:R,mapActions:I,createNamespacedHelpers:D};e["a"]=j}).call(this,n("c8ba"))},"300a":function(t,e,n){"use strict";var i,r,a,o,s=n("4329"),u=n("194a"),l=n("2e9f"),c=n("13a3"),h=n("ed93"),d=n("0ea2"),p=n("4fcf"),f=n("631a").H264Stream,m=n("9d56"),g=n("fbd0").isLikelyAacData,v=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],y=["width","height","profileIdc","levelIdc","profileCompatibility"],_=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},b=function(t,e,n,i,r,a){var o=n-e,s=i-e,u=r-n;return{start:{dts:t,pts:t+o},end:{dts:t+s,pts:t+u},prependedContentDuration:a,baseMediaDecodeTime:t}};r=function(t,e){var n=[],i=0,a=0,o=0,s=1/0;e=e||{},r.prototype.init.call(this),this.push=function(e){h.collectDtsInfo(t,e),t&&v.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){a=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var r,l,d,p;0!==n.length?(r=c.trimAdtsFramesByEarliestDts(n,t,a),t.baseMediaDecodeTime=h.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),c.prefixWithSilence(t,r,o,s),t.samples=c.generateSampleTable(r),d=u.mdat(c.concatenateFrameData(r)),n=[],l=u.moof(i,[t]),p=new Uint8Array(l.byteLength+d.byteLength),i++,p.set(l),p.set(d,l.byteLength),h.clearDtsInfo(t),this.trigger("data",{track:t,boxes:p}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}},r.prototype=new s,i=function(t,e){var n,r,a=0,o=[],s=[];e=e||{},i.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){h.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],y.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){var n,i,r,c,d,p,f,m,g=0;while(o.length){if("access_unit_delimiter_rbsp"===o[0].nalUnitType)break;o.shift()}if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=l.groupNalsIntoFrames(o),r=l.groupFramesIntoGops(n),r[0][0].keyFrame||(i=this.getGopForFusion_(o[0],t),i?(g=i.duration,r.unshift(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.pts=i.pts,r.dts=i.dts,r.duration+=i.duration):r=l.extendFirstKeyFrame(r)),s.length){var v;if(v=e.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r),!v)return this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");h.clearDtsInfo(t),r=v}h.collectDtsInfo(t,r),t.samples=l.generateSampleTable(r),d=u.mdat(l.concatenateNalData(r)),t.baseMediaDecodeTime=h.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",r.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),f=r[0],m=r[r.length-1],this.trigger("segmentTimingInfo",b(t.baseMediaDecodeTime,f.dts,f.pts,m.dts+m.duration,m.pts+m.duration,g)),this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),c=u.moof(a,[t]),p=new Uint8Array(c.byteLength+d.byteLength),a++,p.set(c),p.set(d,c.byteLength),this.trigger("data",{track:t,boxes:p}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){h.clearDtsInfo(t),n=void 0,r=void 0},this.getGopForFusion_=function(e){var n,i,r,a,o,s=45e3,u=1e4,l=1/0;for(o=0;o<this.gopCache_.length;o++)a=this.gopCache_[o],r=a.gop,t.pps&&_(t.pps[0],a.pps[0])&&t.sps&&_(t.sps[0],a.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration,n>=-u&&n<=s&&(!i||l>n)&&(i=a,l=n)));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,a,o,u,l;a=t.byteLength,o=t.nalCount,u=t.duration,e=n=0;while(e<s.length&&n<t.length){if(i=s[e],r=t[n],i.pts===r.pts)break;r.pts>i.pts?e++:(n++,a-=r.byteLength,o-=r.nalCount,u-=r.duration)}return 0===n?t:n===t.length?null:(l=t.slice(n),l.byteLength=a,l.duration=u,l.nalCount=o,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,o,u;e=s.length-1,n=t.length-1,a=null,o=!1;while(e>=0&&n>=0){if(i=s[e],r=t[n],i.pts===r.pts){o=!0;break}i.pts>r.pts?e--:(e===s.length-1&&(a=n),n--)}if(!o&&null===a)return null;if(u=o?n:a,0===u)return t;var l=t.slice(u),c=l.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){s=t}},i.prototype=new s,o=function(t,e){this.numberOfTracks=0,this.metadataStream=e,t=t||{},"undefined"!==typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"===typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}},o.prototype=new s,o.prototype.flush=function(t){var e,n,i,r,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,y.forEach(function(t){o.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,v.forEach(function(t){o.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=u.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)e=this.pendingCaptions[r],e.startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=s),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=s),e.endTime/=9e4,o.captionStreams[e.stream]=!0,o.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)n=this.pendingMetadata[r],n.cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},a=function(t){var e,n,s=this,u=!0;a.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new d.MetadataStream,e.aacStream=new m,e.audioTimestampRolloverStream=new d.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new d.TimestampRolloverStream("timed-metadata"),e.adtsStream=new p,e.coalesceStream=new o(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(i){"timed-metadata"!==i.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new r(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new d.MetadataStream,a.packetStream=new d.TransportPacketStream,a.parseStream=new d.TransportParseStream,a.elementaryStream=new d.ElementaryStream,a.videoTimestampRolloverStream=new d.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new d.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new d.TimestampRolloverStream("timed-metadata"),a.adtsStream=new p,a.h264Stream=new f,a.captionStream=new d.CaptionStream,a.coalesceStream=new o(t,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(o){var u;if("metadata"===o.type){u=o.tracks.length;while(u--)e||"video"!==o.tracks[u].type?n||"audio"!==o.tracks[u].type||(n=o.tracks[u],n.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(e=o.tracks[u],e.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime);e&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new i(e,t),a.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts))}),a.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),n&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new r(n,t),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,h.clearDtsInfo(n),t.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,h.clearDtsInfo(e),r.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=i)),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(u){var e=g(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),u=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){u=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},a.prototype=new s,t.exports={Transmuxer:a,VideoSegmentStream:i,AudioSegmentStream:r,AUDIO_PROPERTIES:v,VIDEO_PROPERTIES:y,generateVideoSegmentTimingInfo:b}},"30f1":function(t,e,n){"use strict";var i=n("b8e3"),r=n("63b6"),a=n("9138"),o=n("35e8"),s=n("481b"),u=n("8f60"),l=n("45f2"),c=n("53e2"),h=n("5168")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,y,_,b){u(n,e,v);var w,x,T,S=function(t){if(!d&&t in A)return A[t];switch(t){case f:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",M=y==m,C=!1,A=t.prototype,k=A[h]||A[p]||y&&A[y],P=k||S(y),O=y?M?S("entries"):P:void 0,L="Array"==e&&A.entries||k;if(L&&(T=c(L.call(new t)),T!==Object.prototype&&T.next&&(l(T,E,!0),i||"function"==typeof T[h]||o(T,h,g))),M&&k&&k.name!==m&&(C=!0,P=function(){return k.call(this)}),i&&!b||!d&&!C&&A[h]||o(A,h,P),s[e]=P,s[E]=g,y)if(w={values:M?P:S(m),keys:_?P:S(f),entries:O},b)for(x in w)x in A||a(A,x,w[x]);else r(r.P+r.F*(d||C),e,w);return w}},"31f4":function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},3240:function(t,e,n){"use strict";var i;i=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,a=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");a.set(t.subarray(r,r+o)),n=new DataView(a.buffer).getUint32(0),i=8*o,e-=o},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,r=Math.floor(t/8),t-=8*r,e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),a=n>>>32-r;return i-=r,i>0?n<<=r:e>0&&this.loadWord(),r=t-r,r>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!==(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=i},"32e9":function(t,e,n){var i=n("86cc"),r=n("4630");t.exports=n("9e1e")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var i=n("e53d").document;t.exports=i&&i.documentElement},"335c":function(t,e,n){var i=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"33a4":function(t,e,n){var i=n("84f2"),r=n("2b4c")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,n){var i=n("d9f6"),r=n("aebd");t.exports=n("8e60")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var i=n("335c"),r=n("25eb");t.exports=function(t){return i(r(t))}},"36c6":function(t,e){var n,i,r,a,o,s,u=9e4;n=function(t){return t*u},i=function(t,e){return t*e},r=function(t){return t/u},a=function(t,e){return t/e},o=function(t,e){return n(a(t,e))},s=function(t,e){return i(r(t),e)},t.exports={secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s}},"37c8":function(t,e,n){e.f=n("2b4c")},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"38fd":function(t,e,n){var i=n("69a8"),r=n("4bf8"),a=n("613b")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"3a38":function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"3a72":function(t,e,n){var i=n("7726"),r=n("8378"),a=n("2d00"),o=n("37c8"),s=n("86cc").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},"3c4e":function(t,e,n){"use strict";var i=function(t){return r(t)&&!a(t)};function r(t){return!!t&&"object"===typeof t}function a(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||u(t)}var o="function"===typeof Symbol&&Symbol.for,s=o?Symbol.for("react.element"):60103;function u(t){return t.$$typeof===s}function l(t){return Array.isArray(t)?[]:{}}function c(t,e){var n=e&&!0===e.clone;return n&&i(t)?p(l(t),t,e):t}function h(t,e,n){var r=t.slice();return e.forEach(function(e,a){"undefined"===typeof r[a]?r[a]=c(e,n):i(e)?r[a]=p(t[a],e,n):-1===t.indexOf(e)&&r.push(c(e,n))}),r}function d(t,e,n){var r={};return i(t)&&Object.keys(t).forEach(function(e){r[e]=c(t[e],n)}),Object.keys(e).forEach(function(a){i(e[a])&&t[a]?r[a]=p(t[a],e[a],n):r[a]=c(e[a],n)}),r}function p(t,e,n){var i=Array.isArray(e),r=Array.isArray(t),a=n||{arrayMerge:h},o=i===r;if(o){if(i){var s=a.arrayMerge||h;return s(t,e,n)}return d(t,e,n)}return c(e,n)}p.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,n){return p(t,n,e)})};var f=p;t.exports=f},4010:function(t,e,n){"use strict";e.__esModule=!0,e.removeResizeListener=e.addResizeListener=void 0;var i=n("6dd8"),r=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var o="undefined"===typeof window,s=function(t){var e=t,n=Array.isArray(e),i=0;for(e=n?e:e[Symbol.iterator]();;){var r;if(n){if(i>=e.length)break;r=e[i++]}else{if(i=e.next(),i.done)break;r=i.value}var a=r,o=a.target.__resizeListeners__||[];o.length&&o.forEach(function(t){t()})}};e.addResizeListener=function(t,e){o||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new r.default(s),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},e.removeResizeListener=function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}},"40c3":function(t,e,n){var i=n("6b4c"),r=n("5168")("toStringTag"),a="Arguments"==i(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),r))?n:a?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},"417f":function(t,e,n){"use strict";e.__esModule=!0;var i=n("2b0e"),r=o(i),a=n("5924");function o(t){return t&&t.__esModule?t:{default:t}}var s=[],u="@@clickoutsideContext",l=void 0,c=0;function h(t,e,n){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&i.target&&r.target)||t.contains(i.target)||t.contains(r.target)||t===i.target||n.context.popperElm&&(n.context.popperElm.contains(i.target)||n.context.popperElm.contains(r.target))||(e.expression&&t[u].methodName&&n.context[t[u].methodName]?n.context[t[u].methodName]():t[u].bindingFn&&t[u].bindingFn())}}!r.default.prototype.$isServer&&(0,a.on)(document,"mousedown",function(t){return l=t}),!r.default.prototype.$isServer&&(0,a.on)(document,"mouseup",function(t){s.forEach(function(e){return e[u].documentHandler(t,l)})}),e.default={bind:function(t,e,n){s.push(t);var i=c++;t[u]={id:i,documentHandler:h(t,e,n),methodName:e.expression,bindingFn:e.value}},update:function(t,e,n){t[u].documentHandler=h(t,e,n),t[u].methodName=e.expression,t[u].bindingFn=e.value},unbind:function(t){for(var e=s.length,n=0;n<e;n++)if(s[n][u].id===t[u].id){s.splice(n,1);break}delete t[u]}}},"41a0":function(t,e,n){"use strict";var i=n("2aeb"),r=n("4630"),a=n("7f20"),o={};n("32e9")(o,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(o,{next:r(1,n)}),a(t,e+" Iterator")}},"41f8":function(t,e,n){"use strict";e.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isVNode=a;var r=n("8122");function a(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":i(t))&&(0,r.hasOwn)(t,"componentOptions")}},"423e":function(t,e,n){"use strict";var i=n("ae75"),r=function(t){var e=31&t[1];return e<<=8,e|=t[2],e},a=function(t){return!!(64&t[1])},o=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},s=function(t,e){var n=r(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},u=function(t){var e=a(t),n=4+o(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},l=function(t){var e={},n=a(t),i=4+o(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r,s,u;r=(15&t[i+1])<<8|t[i+2],s=3+r-4,u=(15&t[i+10])<<8|t[i+11];var l=12+u;while(l<s){var c=i+l;e[(31&t[c+1])<<8|t[c+2]]=t[c],l+=5+((15&t[c+3])<<8|t[c+4])}return e}},c=function(t,e){var n=r(t),a=e[n];switch(a){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},h=function(t){var e=a(t);if(!e)return null;var n=4+o(t);if(n>=t.byteLength)return null;var i,r=null;return i=t[n+7],192&i&&(r={},r.pts=(14&t[n+9])<<27|(255&t[n+10])<<20|(254&t[n+11])<<12|(255&t[n+12])<<5|(254&t[n+13])>>>3,r.pts*=4,r.pts+=(6&t[n+13])>>>1,r.dts=r.pts,64&i&&(r.dts=(14&t[n+14])<<27|(255&t[n+15])<<20|(254&t[n+16])<<12|(255&t[n+17])<<5|(254&t[n+18])>>>3,r.dts*=4,r.dts+=(6&t[n+18])>>>1)),r},d=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},p=function(t){for(var e,n=4+o(t),i=t.subarray(n),r=0,a=0,s=!1;a<i.byteLength-3;a++)if(1===i[a+2]){r=a+5;break}while(r<i.byteLength)switch(i[r]){case 0:if(0!==i[r-1]){r+=2;break}if(0!==i[r-2]){r++;break}a+3!==r-2&&(e=d(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(s=!0));do{r++}while(1!==i[r]&&r<i.length);a=r-2,r+=3;break;case 1:if(0!==i[r-1]||0!==i[r-2]){r+=3;break}e=d(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(s=!0),a=r-2,r+=3;break;default:r+=3;break}return i=i.subarray(a),r-=a,a=0,i&&i.byteLength>3&&(e=d(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(s=!0)),s};t.exports={parseType:s,parsePat:u,parsePmt:l,parsePayloadUnitStartIndicator:a,parsePesType:c,parsePesTime:h,videoPacketContainsKeyFrame:p}},4329:function(t,e,n){"use strict";var i=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,a;if(n=t[e],n)if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){t={}}}};i.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},i.prototype.push=function(t){this.trigger("data",t)},i.prototype.flush=function(t){this.trigger("done",t)},t.exports=i},"450d":function(t,e,n){},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"456d":function(t,e,n){var i=n("4bf8"),r=n("0d58");n("5eda")("keys",function(){return function(t){return r(i(t))}})},4588:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"45f2":function(t,e,n){var i=n("d9f6").f,r=n("07e3"),a=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"47ee":function(t,e,n){var i=n("c3a1"),r=n("9aa9"),a=n("355d");t.exports=function(t){var e=i(t),n=r.f;if(n){var o,s=n(t),u=a.f,l=0;while(s.length>l)u.call(t,o=s[l++])&&e.push(o)}return e}},"481b":function(t,e){t.exports={}},4897:function(t,e,n){"use strict";e.__esModule=!0,e.i18n=e.use=e.t=void 0;var i=n("f0d9"),r=h(i),a=n("2b0e"),o=h(a),s=n("3c4e"),u=h(s),l=n("9d7e"),c=h(l);function h(t){return t&&t.__esModule?t:{default:t}}var d=(0,c.default)(o.default),p=r.default,f=!1,m=function(){var t=Object.getPrototypeOf(this||o.default).$t;if("function"===typeof t&&o.default.locale)return f||(f=!0,o.default.locale(o.default.config.lang,(0,u.default)(p,o.default.locale(o.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},g=e.t=function(t,e){var n=m.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var i=t.split("."),r=p,a=0,o=i.length;a<o;a++){var s=i[a];if(n=r[s],a===o-1)return d(n,e);if(!n)return"";r=n}return""},v=e.use=function(t){p=t||p},y=e.i18n=function(t){m=t||m};e.default={use:v,t:g,i18n:y}},4917:function(t,e,n){"use strict";var i=n("cb7c"),r=n("9def"),a=n("0390"),o=n("5f1b");n("214f")("match",1,function(t,e,n,s){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=i(t),l=String(this);if(!u.global)return o(u,l);var c=u.unicode;u.lastIndex=0;var h,d=[],p=0;while(null!==(h=o(u,l))){var f=String(h[0]);d[p]=f,""===f&&(u.lastIndex=a(l,r(u.lastIndex),c)),p++}return 0===p?null:d}]})},"4a59":function(t,e,n){var i=n("9b43"),r=n("1fa8"),a=n("33a4"),o=n("cb7c"),s=n("9def"),u=n("27ee"),l={},c={};e=t.exports=function(t,e,n,h,d){var p,f,m,g,v=d?function(){return t}:u(t),y=i(n,h,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(a(v)){for(p=s(t.length);p>_;_++)if(g=e?y(o(f=t[_])[0],f[1]):y(t[_]),g===l||g===c)return g}else for(m=v.call(t);!(f=m.next()).done;)if(g=r(m,y,f.value,e),g===l||g===c)return g};e.BREAK=l,e.RETURN=c},"4b26":function(t,e,n){"use strict";e.__esModule=!0;var i=n("2b0e"),r=o(i),a=n("5924");function o(t){return t&&t.__esModule?t:{default:t}}var s=!1,u=!1,l=void 0,c=function(){if(!r.default.prototype.$isServer){var t=d.modalDom;return t?s=!0:(s=!1,t=document.createElement("div"),d.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){d.doOnModalClick&&d.doOnModalClick()})),t}},h={},d={modalFade:!0,getInstance:function(t){return h[t]},register:function(t,e){t&&e&&(h[t]=e)},deregister:function(t){t&&(h[t]=null,delete h[t])},nextZIndex:function(){return d.zIndex++},modalStack:[],doOnModalClick:function(){var t=d.modalStack[d.modalStack.length-1];if(t){var e=d.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,n,i,o){if(!r.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=o;for(var u=this.modalStack,l=0,h=u.length;l<h;l++){var d=u[l];if(d.id===t)return}var p=c();if((0,a.addClass)(p,"v-modal"),this.modalFade&&!s&&(0,a.addClass)(p,"v-modal-enter"),i){var f=i.trim().split(/\s+/);f.forEach(function(t){return(0,a.addClass)(p,t)})}setTimeout(function(){(0,a.removeClass)(p,"v-modal-enter")},200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(p):document.body.appendChild(p),e&&(p.style.zIndex=e),p.tabIndex=0,p.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:i})}},closeModal:function(t){var e=this.modalStack,n=c();if(e.length>0){var i=e[e.length-1];if(i.id===t){if(i.modalClass){var r=i.modalClass.trim().split(/\s+/);r.forEach(function(t){return(0,a.removeClass)(n,t)})}e.pop(),e.length>0&&(n.style.zIndex=e[e.length-1].zIndex)}else for(var o=e.length-1;o>=0;o--)if(e[o].id===t){e.splice(o,1);break}}0===e.length&&(this.modalFade&&(0,a.addClass)(n,"v-modal-leave"),setTimeout(function(){0===e.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",d.modalDom=void 0),(0,a.removeClass)(n,"v-modal-leave")},200))}};Object.defineProperty(d,"zIndex",{configurable:!0,get:function(){return u||(l=l||(r.default.prototype.$ELEMENT||{}).zIndex||2e3,u=!0),l},set:function(t){l=t}});var p=function(){if(!r.default.prototype.$isServer&&d.modalStack.length>0){var t=d.modalStack[d.modalStack.length-1];if(!t)return;var e=d.getInstance(t.id);return e}};r.default.prototype.$isServer||window.addEventListener("keydown",function(t){if(27===t.keyCode){var e=p();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}),e.default=d},"4bf8":function(t,e,n){var i=n("be13");t.exports=function(t){return Object(i(t))}},"4de8":function(t,e){t.exports=function(t){return null===t||"function"!==typeof t&&"object"!==typeof t}},"4e69":function(t,e,n){"use strict";var i=n("4329"),r=n("dc6d"),a=function(){a.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new h(0,0),new h(0,1),new h(1,0),new h(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};a.prototype=new i,a.prototype.push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=r.parseSei(t.escapedRBSP),e.payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(n=r.parseUserData(e),n)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=r.parseCaptionPackets(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},a.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},a.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},a.prototype.setsChannel1Active=function(t){return 4096===(30720&t.ccData)},a.prototype.setsChannel2Active=function(t){return 6144===(30720&t.ccData)},a.prototype.setsTextOrXDSActive=function(t){return 256===(28928&t.ccData)||4138===(30974&t.ccData)||6186===(30974&t.ccData)};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(t){return null===t?"":(t=o[t]||t,String.fromCharCode(t))},u=14,l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){var t=[],e=u+1;while(e--)t.push("");return t},h=function(t,e){h.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if(e=32639&t.ccData,e!==this.lastControlCode_){if(4096===(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=c();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))i=(3&i)<<8,a=s(i|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=(3&i)<<8,a=s(i|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14===(14&r)&&this.addFormatting(t.pts,["i"]),1===(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var o=l.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16===(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=s(i),a+=s(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};h.prototype=new i,h.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(e){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},h.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=u,this.rollUpRows_=2,this.formatting_=[]},h.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},h.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},h.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},h.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},h.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},h.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},h.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},h.prototype.isNormalChar=function(t){return t>=32&&t<=127},h.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=u,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},h.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},h.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},h.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},h.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},h.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<u+1;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},h.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},t.exports={CaptionStream:a,Cea608Stream:h}},"4fcf":function(t,e,n){"use strict";var i,r=n("4329"),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=function(){var t;i.prototype.init.call(this),this.push=function(e){var n,i,r,o,s,u,l=0,c=0;if("audio"===e.type){t?(o=t,t=new Uint8Array(o.byteLength+e.data.byteLength),t.set(o),t.set(e.data,o.byteLength)):t=e.data;while(l+5<t.length)if(255===t[l]&&240===(246&t[l+1])){if(i=2*(1&~t[l+1]),n=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,s=1024*(1+(3&t[l+6])),u=9e4*s/a[(60&t[l+2])>>>2],r=l+n,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+c*u,dts:e.dts+c*u,sampleCount:s,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:a[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+i,r)}),t.byteLength===r)return void(t=void 0);c++,t=t.subarray(r)}else l++}},this.flush=function(){this.trigger("done")}},i.prototype=new r,t.exports=i},"4ffc":function(t,e,n){},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5128:function(t,e,n){"use strict";e.__esModule=!0,e.PopupManager=void 0;var i=n("2b0e"),r=d(i),a=n("7f4d"),o=d(a),s=n("4b26"),u=d(s),l=n("e62d"),c=d(l),h=n("5924");function d(t){return t&&t.__esModule?t:{default:t}}var p=1,f=void 0;e.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+p++,u.default.register(this._popupId,this)},beforeDestroy:function(){u.default.deregister(this._popupId),u.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,r.default.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0);var n=(0,o.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var i=Number(n.openDelay);i>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(n)},i):this.doOpen(n)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var e=this.$el,n=t.modal,i=t.zIndex;if(i&&(u.default.zIndex=i),n&&(this._closing&&(u.default.closeModal(this._popupId),this._closing=!1),u.default.openModal(this._popupId,u.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!(0,h.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,h.getStyle)(document.body,"paddingRight"),10)),f=(0,c.default)();var r=document.documentElement.clientHeight<document.body.scrollHeight,a=(0,h.getStyle)(document.body,"overflowY");f>0&&(r||"scroll"===a)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+f+"px"),(0,h.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=u.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){u.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,h.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},e.PopupManager=u.default},5168:function(t,e,n){var i=n("dbdb")("wks"),r=n("62a0"),a=n("e53d").Symbol,o="function"==typeof a,s=t.exports=function(t){return i[t]||(i[t]=o&&a[t]||(o?a:r)("Symbol."+t))};s.store=i},"520a":function(t,e,n){"use strict";var i=n("0bfb"),r=RegExp.prototype.exec,a=String.prototype.replace,o=r,s="lastIndex",u=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],c=u||l;c&&(o=function(t){var e,n,o,c,h=this;return l&&(n=new RegExp("^"+h.source+"$(?!\\s)",i.call(h))),u&&(e=h[s]),o=r.call(h,t),u&&o&&(h[s]=h.global?o.index+o[0].length:e),l&&o&&o.length>1&&a.call(o[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)}),o}),t.exports=o},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53a8":function(t,e){t.exports=i;var n=Object.prototype.hasOwnProperty;function i(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var r in i)n.call(i,r)&&(t[r]=i[r])}return t}},"53e2":function(t,e,n){var i=n("07e3"),r=n("241e"),a=n("5559")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"551c":function(t,e,n){"use strict";var i,r,a,o,s=n("2d00"),u=n("7726"),l=n("9b43"),c=n("23c6"),h=n("5ca1"),d=n("d3f4"),p=n("d8e8"),f=n("f605"),m=n("4a59"),g=n("ebd6"),v=n("1991").set,y=n("8079")(),_=n("a5b8"),b=n("9c80"),w=n("a25f"),x=n("bcaa"),T="Promise",S=u.TypeError,E=u.process,M=E&&E.versions,C=M&&M.v8||"",A=u[T],k="process"==c(E),P=function(){},O=r=_.f,L=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(P,P)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(i){}}(),R=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){var i=t._v,r=1==t._s,a=0,o=function(e){var n,a,o,s=r?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(r||(2==t._h&&U(t),t._h=1),!0===s?n=i:(c&&c.enter(),n=s(i),c&&(c.exit(),o=!0)),n===e.promise?l(S("Promise-chain cycle")):(a=R(n))?a.call(n,u,l):u(n)):l(i)}catch(h){c&&!o&&c.exit(),l(h)}};while(n.length>a)o(n[a++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){v.call(u,function(){var e,n,i,r=t._v,a=N(t);if(a&&(e=b(function(){k?E.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=k||N(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},U=function(t){v.call(u,function(){var e;k?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},j=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=R(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,l(j,i,1),l(B,i,1))}catch(r){B.call(i,r)}}):(n._v=t,n._s=1,I(n,!1))}catch(i){B.call({_w:n,_d:!1},i)}}};L||(A=function(t){f(this,A,T,"_h"),p(t),i.call(this);try{t(l(j,this,1),l(B,this,1))}catch(e){B.call(this,e)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n("dcbc")(A.prototype,{then:function(t,e){var n=O(g(this,A));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new i;this.promise=t,this.resolve=l(j,t,1),this.reject=l(B,t,1)},_.f=O=function(t){return t===A||t===o?new a(t):r(t)}),h(h.G+h.W+h.F*!L,{Promise:A}),n("7f20")(A,T),n("7a56")(T),o=n("8378")[T],h(h.S+h.F*!L,T,{reject:function(t){var e=O(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(s||!L),T,{resolve:function(t){return x(s&&this===o?A:this,t)}}),h(h.S+h.F*!(L&&n("5cc5")(function(t){A.all(t)["catch"](P)})),T,{all:function(t){var e=this,n=O(e),i=n.resolve,r=n.reject,a=b(function(){var n=[],a=0,o=1;m(t,!1,function(t){var s=a++,u=!1;n.push(void 0),o++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--o||i(n))},r)}),--o||i(n)});return a.e&&r(a.v),n.promise},race:function(t){var e=this,n=O(e),i=n.reject,r=b(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},5537:function(t,e,n){var i=n("8378"),r=n("7726"),a="__core-js_shared__",o=r[a]||(r[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var i=n("dbdb")("keys"),r=n("62a0");t.exports=function(t){return i[t]||(i[t]=r(t))}},"560b":function(t,e,n){},"562e":function(t,e,n){"use strict";var i=n("0f7c"),r=n("0f01"),a=i.call(Function.call,String.prototype.replace),o=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return a(a(t,o,""),s,"")}},"584a":function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},5924:function(t,e,n){"use strict";e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=m,e.addClass=g,e.removeClass=v,e.setStyle=_;var r=n("2b0e"),a=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var s=a.default.prototype.$isServer,u=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/,c=s?0:Number(document.documentMode),h=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},d=function(t){return t.replace(u,function(t,e,n,i){return i?n.toUpperCase():n}).replace(l,"Moz$1")},p=e.on=function(){return!s&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),f=e.off=function(){return!s&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}();e.once=function(t,e,n){var i=function i(){n&&n.apply(this,arguments),f(t,e,i)};p(t,e,i)};function m(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function g(t,e){if(t){for(var n=t.className,i=(e||"").split(" "),r=0,a=i.length;r<a;r++){var o=i[r];o&&(t.classList?t.classList.add(o):m(t,o)||(n+=" "+o))}t.classList||(t.className=n)}}function v(t,e){if(t&&e){for(var n=e.split(" "),i=" "+t.className+" ",r=0,a=n.length;r<a;r++){var o=n[r];o&&(t.classList?t.classList.remove(o):m(t,o)&&(i=i.replace(" "+o+" "," ")))}t.classList||(t.className=h(i))}}var y=e.getStyle=c<9?function(t,e){if(!s){if(!t||!e)return null;e=d(e),"float"===e&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(n){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(n){return t.style[e]}}}:function(t,e){if(!s){if(!t||!e)return null;e=d(e),"float"===e&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(i){return t.style[e]}}};function _(t,e,n){if(t&&e)if("object"===("undefined"===typeof e?"undefined":i(e)))for(var r in e)e.hasOwnProperty(r)&&_(t,r,e[r]);else e=d(e),"opacity"===e&&c<9?t.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":t.style[e]=n}var b=e.isScroll=function(t,e){if(!s){var n=null!==e||void 0!==e,i=y(t,n?e?"overflow-y":"overflow-x":"overflow");return i.match(/(scroll|auto)/)}};e.getScrollContainer=function(t,e){if(!s){var n=t;while(n){if([window,document,document.documentElement].includes(n))return window;if(b(n,e))return n;n=n.parentNode}return n}},e.isInContainer=function(t,e){if(s||!t||!e)return!1;var n=t.getBoundingClientRect(),i=void 0;return i=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right}},5975:function(t,e){t.exports=function(t){return t>=0?1:-1}},"5a89":function(t,e,n){"use strict";function i(){}n.r(e),n.d(e,"ACESFilmicToneMapping",function(){return ct}),n.d(e,"AddEquation",function(){return L}),n.d(e,"AddOperation",function(){return rt}),n.d(e,"AdditiveBlending",function(){return A}),n.d(e,"AlphaFormat",function(){return Gt}),n.d(e,"AlwaysDepth",function(){return Y}),n.d(e,"AlwaysStencilFunc",function(){return un}),n.d(e,"AmbientLight",function(){return Yc}),n.d(e,"AmbientLightProbe",function(){return bh}),n.d(e,"AnimationClip",function(){return Jl}),n.d(e,"AnimationLoader",function(){return rc}),n.d(e,"AnimationMixer",function(){return Uh}),n.d(e,"AnimationObjectGroup",function(){return Dh}),n.d(e,"AnimationUtils",function(){return Ul}),n.d(e,"ArcCurve",function(){return dc}),n.d(e,"ArrayCamera",function(){return Ls}),n.d(e,"ArrowHelper",function(){return hd}),n.d(e,"Audio",function(){return Sh}),n.d(e,"AudioAnalyser",function(){return Mh}),n.d(e,"AudioContext",function(){return mh}),n.d(e,"AudioListener",function(){return Th}),n.d(e,"AudioLoader",function(){return gh}),n.d(e,"AxesHelper",function(){return dd}),n.d(e,"AxisHelper",function(){return Bd}),n.d(e,"BackSide",function(){return _}),n.d(e,"BasicDepthPacking",function(){return Ve}),n.d(e,"BasicShadowMap",function(){return m}),n.d(e,"BinaryTextureLoader",function(){return Hd}),n.d(e,"Bone",function(){return Ys}),n.d(e,"BooleanKeyframeTrack",function(){return Hl}),n.d(e,"BoundingBoxHelper",function(){return jd}),n.d(e,"Box2",function(){return Wh}),n.d(e,"Box3",function(){return kn}),n.d(e,"Box3Helper",function(){return ld}),n.d(e,"BoxBufferGeometry",function(){return oi}),n.d(e,"BoxGeometry",function(){return ai}),n.d(e,"BoxHelper",function(){return ud}),n.d(e,"BufferAttribute",function(){return Vn}),n.d(e,"BufferGeometry",function(){return ei}),n.d(e,"BufferGeometryLoader",function(){return eh}),n.d(e,"ByteType",function(){return Rt}),n.d(e,"Cache",function(){return Ql}),n.d(e,"Camera",function(){return pi}),n.d(e,"CameraHelper",function(){return sd}),n.d(e,"CanvasRenderer",function(){return Wd}),n.d(e,"CanvasTexture",function(){return ru}),n.d(e,"CatmullRomCurve3",function(){return yc}),n.d(e,"CineonToneMapping",function(){return lt}),n.d(e,"CircleBufferGeometry",function(){return Sl}),n.d(e,"CircleGeometry",function(){return Tl}),n.d(e,"ClampToEdgeWrapping",function(){return bt}),n.d(e,"Clock",function(){return xh}),n.d(e,"ClosedSplineCurve3",function(){return Dd}),n.d(e,"Color",function(){return In}),n.d(e,"ColorKeyframeTrack",function(){return Gl}),n.d(e,"CompressedTexture",function(){return iu}),n.d(e,"CompressedTextureLoader",function(){return ac}),n.d(e,"ConeBufferGeometry",function(){return xl}),n.d(e,"ConeGeometry",function(){return wl}),n.d(e,"CubeCamera",function(){return vi}),n.d(e,"CubeGeometry",function(){return ai}),n.d(e,"CubeReflectionMapping",function(){return dt}),n.d(e,"CubeRefractionMapping",function(){return pt}),n.d(e,"CubeTexture",function(){return Za}),n.d(e,"CubeTextureLoader",function(){return uc}),n.d(e,"CubeUVReflectionMapping",function(){return vt}),n.d(e,"CubeUVRefractionMapping",function(){return yt}),n.d(e,"CubicBezierCurve",function(){return kc}),n.d(e,"CubicBezierCurve3",function(){return Pc}),n.d(e,"CubicInterpolant",function(){return jl}),n.d(e,"CullFaceBack",function(){return c}),n.d(e,"CullFaceFront",function(){return h}),n.d(e,"CullFaceFrontBack",function(){return d}),n.d(e,"CullFaceNone",function(){return l}),n.d(e,"Curve",function(){return cc}),n.d(e,"CurvePath",function(){return Uc}),n.d(e,"CustomBlending",function(){return O}),n.d(e,"CylinderBufferGeometry",function(){return bl}),n.d(e,"CylinderGeometry",function(){return _l}),n.d(e,"Cylindrical",function(){return Gh}),n.d(e,"DataTexture",function(){return _i}),n.d(e,"DataTexture2DArray",function(){return Ka}),n.d(e,"DataTexture3D",function(){return Qa}),n.d(e,"DataTextureLoader",function(){return oc}),n.d(e,"DecrementStencilOp",function(){return Je}),n.d(e,"DecrementWrapStencilOp",function(){return Ke}),n.d(e,"DefaultLoadingManager",function(){return ec}),n.d(e,"DepthFormat",function(){return Jt}),n.d(e,"DepthStencilFormat",function(){return Zt}),n.d(e,"DepthTexture",function(){return au}),n.d(e,"DirectionalLight",function(){return Xc}),n.d(e,"DirectionalLightHelper",function(){return od}),n.d(e,"DirectionalLightShadow",function(){return qc}),n.d(e,"DiscreteInterpolant",function(){return zl}),n.d(e,"DodecahedronBufferGeometry",function(){return yu}),n.d(e,"DodecahedronGeometry",function(){return vu}),n.d(e,"DoubleSide",function(){return b}),n.d(e,"DstAlphaFactor",function(){return H}),n.d(e,"DstColorFactor",function(){return W}),n.d(e,"DynamicBufferAttribute",function(){return Ed}),n.d(e,"EdgesGeometry",function(){return yl}),n.d(e,"EdgesHelper",function(){return Fd}),n.d(e,"EllipseCurve",function(){return hc}),n.d(e,"EqualDepth",function(){return K}),n.d(e,"EqualStencilFunc",function(){return nn}),n.d(e,"EquirectangularReflectionMapping",function(){return ft}),n.d(e,"EquirectangularRefractionMapping",function(){return mt}),n.d(e,"Euler",function(){return Tn}),n.d(e,"EventDispatcher",function(){return i}),n.d(e,"ExtrudeBufferGeometry",function(){return rl}),n.d(e,"ExtrudeGeometry",function(){return il}),n.d(e,"Face3",function(){return Bn}),n.d(e,"Face4",function(){return pd}),n.d(e,"FaceColors",function(){return S}),n.d(e,"FaceNormalsHelper",function(){return ad}),n.d(e,"FileLoader",function(){return ic}),n.d(e,"FlatShading",function(){return w}),n.d(e,"Float32Attribute",function(){return Rd}),n.d(e,"Float32BufferAttribute",function(){return Jn}),n.d(e,"Float64Attribute",function(){return Id}),n.d(e,"Float64BufferAttribute",function(){return Zn}),n.d(e,"FloatType",function(){return Bt}),n.d(e,"Fog",function(){return zs}),n.d(e,"FogExp2",function(){return Fs}),n.d(e,"Font",function(){return ch}),n.d(e,"FontLoader",function(){return ph}),n.d(e,"FrontFaceDirectionCCW",function(){return f}),n.d(e,"FrontFaceDirectionCW",function(){return p}),n.d(e,"FrontSide",function(){return y}),n.d(e,"Frustum",function(){return wi}),n.d(e,"GammaEncoding",function(){return Ne}),n.d(e,"Geometry",function(){return ri}),n.d(e,"GeometryUtils",function(){return Gd}),n.d(e,"GreaterDepth",function(){return tt}),n.d(e,"GreaterEqualDepth",function(){return Q}),n.d(e,"GreaterEqualStencilFunc",function(){return sn}),n.d(e,"GreaterStencilFunc",function(){return an}),n.d(e,"GridHelper",function(){return nd}),n.d(e,"Group",function(){return Os}),n.d(e,"HalfFloatType",function(){return jt}),n.d(e,"HemisphereLight",function(){return zc}),n.d(e,"HemisphereLightHelper",function(){return td}),n.d(e,"HemisphereLightProbe",function(){return _h}),n.d(e,"IcosahedronBufferGeometry",function(){return gu}),n.d(e,"IcosahedronGeometry",function(){return mu}),n.d(e,"ImageBitmapLoader",function(){return uh}),n.d(e,"ImageLoader",function(){return sc}),n.d(e,"ImageUtils",function(){return gn}),n.d(e,"ImmediateRenderObject",function(){return qh}),n.d(e,"IncrementStencilOp",function(){return Ye}),n.d(e,"IncrementWrapStencilOp",function(){return Ze}),n.d(e,"InstancedBufferAttribute",function(){return th}),n.d(e,"InstancedBufferGeometry",function(){return Qc}),n.d(e,"InstancedInterleavedBuffer",function(){return jh}),n.d(e,"Int16Attribute",function(){return kd}),n.d(e,"Int16BufferAttribute",function(){return $n}),n.d(e,"Int32Attribute",function(){return Od}),n.d(e,"Int32BufferAttribute",function(){return Xn}),n.d(e,"Int8Attribute",function(){return Md}),n.d(e,"Int8BufferAttribute",function(){return Hn}),n.d(e,"IntType",function(){return Nt}),n.d(e,"InterleavedBuffer",function(){return Vs}),n.d(e,"InterleavedBufferAttribute",function(){return Hs}),n.d(e,"Interpolant",function(){return Bl}),n.d(e,"InterpolateDiscrete",function(){return Ee}),n.d(e,"InterpolateLinear",function(){return Me}),n.d(e,"InterpolateSmooth",function(){return Ce}),n.d(e,"InvertStencilOp",function(){return Qe}),n.d(e,"JSONLoader",function(){return $d}),n.d(e,"KeepStencilOp",function(){return qe}),n.d(e,"KeyframeTrack",function(){return Vl}),n.d(e,"LOD",function(){return $s}),n.d(e,"LatheBufferGeometry",function(){return fl}),n.d(e,"LatheGeometry",function(){return pl}),n.d(e,"Layers",function(){return Sn}),n.d(e,"LensFlare",function(){return Xd}),n.d(e,"LessDepth",function(){return J}),n.d(e,"LessEqualDepth",function(){return Z}),n.d(e,"LessEqualStencilFunc",function(){return rn}),n.d(e,"LessStencilFunc",function(){return en}),n.d(e,"Light",function(){return Fc}),n.d(e,"LightProbe",function(){return yh}),n.d(e,"LightProbeHelper",function(){return ed}),n.d(e,"LightShadow",function(){return Vc}),n.d(e,"Line",function(){return Zs}),n.d(e,"Line3",function(){return $h}),n.d(e,"LineBasicMaterial",function(){return Js}),n.d(e,"LineCurve",function(){return Oc}),n.d(e,"LineCurve3",function(){return Lc}),n.d(e,"LineDashedMaterial",function(){return Dl}),n.d(e,"LineLoop",function(){return Qs}),n.d(e,"LinePieces",function(){return md}),n.d(e,"LineSegments",function(){return Ks}),n.d(e,"LineStrip",function(){return fd}),n.d(e,"LinearEncoding",function(){return Ie}),n.d(e,"LinearFilter",function(){return Ct}),n.d(e,"LinearInterpolant",function(){return Fl}),n.d(e,"LinearMipMapLinearFilter",function(){return Ot}),n.d(e,"LinearMipMapNearestFilter",function(){return kt}),n.d(e,"LinearMipmapLinearFilter",function(){return Pt}),n.d(e,"LinearMipmapNearestFilter",function(){return At}),n.d(e,"LinearToneMapping",function(){return ot}),n.d(e,"Loader",function(){return fh}),n.d(e,"LoaderUtils",function(){return Kc}),n.d(e,"LoadingManager",function(){return tc}),n.d(e,"LogLuvEncoding",function(){return Be}),n.d(e,"LoopOnce",function(){return xe}),n.d(e,"LoopPingPong",function(){return Se}),n.d(e,"LoopRepeat",function(){return Te}),n.d(e,"LuminanceAlphaFormat",function(){return Xt}),n.d(e,"LuminanceFormat",function(){return qt}),n.d(e,"MOUSE",function(){return s}),n.d(e,"Material",function(){return Fn}),n.d(e,"MaterialLoader",function(){return Zc}),n.d(e,"Math",function(){return ln}),n.d(e,"Matrix3",function(){return pn}),n.d(e,"Matrix4",function(){return xn}),n.d(e,"MaxEquation",function(){return N}),n.d(e,"Mesh",function(){return ni}),n.d(e,"MeshBasicMaterial",function(){return zn}),n.d(e,"MeshDepthMaterial",function(){return Es}),n.d(e,"MeshDistanceMaterial",function(){return Ms}),n.d(e,"MeshFaceMaterial",function(){return gd}),n.d(e,"MeshLambertMaterial",function(){return Rl}),n.d(e,"MeshMatcapMaterial",function(){return Il}),n.d(e,"MeshNormalMaterial",function(){return Ll}),n.d(e,"MeshPhongMaterial",function(){return Pl}),n.d(e,"MeshPhysicalMaterial",function(){return kl}),n.d(e,"MeshStandardMaterial",function(){return Al}),n.d(e,"MeshToonMaterial",function(){return Ol}),n.d(e,"MinEquation",function(){return D}),n.d(e,"MirroredRepeatWrapping",function(){return wt}),n.d(e,"MixOperation",function(){return it}),n.d(e,"MultiMaterial",function(){return vd}),n.d(e,"MultiplyBlending",function(){return P}),n.d(e,"MultiplyOperation",function(){return nt}),n.d(e,"NearestFilter",function(){return xt}),n.d(e,"NearestMipMapLinearFilter",function(){return Mt}),n.d(e,"NearestMipMapNearestFilter",function(){return St}),n.d(e,"NearestMipmapLinearFilter",function(){return Et}),n.d(e,"NearestMipmapNearestFilter",function(){return Tt}),n.d(e,"NeverDepth",function(){return X}),n.d(e,"NeverStencilFunc",function(){return tn}),n.d(e,"NoBlending",function(){return M}),n.d(e,"NoColors",function(){return T}),n.d(e,"NoToneMapping",function(){return at}),n.d(e,"NormalBlending",function(){return C}),n.d(e,"NotEqualDepth",function(){return et}),n.d(e,"NotEqualStencilFunc",function(){return on}),n.d(e,"NumberKeyframeTrack",function(){return Wl}),n.d(e,"Object3D",function(){return Cn}),n.d(e,"ObjectLoader",function(){return ih}),n.d(e,"ObjectSpaceNormalMap",function(){return We}),n.d(e,"OctahedronBufferGeometry",function(){return fu}),n.d(e,"OctahedronGeometry",function(){return pu}),n.d(e,"OneFactor",function(){return B}),n.d(e,"OneMinusDstAlphaFactor",function(){return G}),n.d(e,"OneMinusDstColorFactor",function(){return $}),n.d(e,"OneMinusSrcAlphaFactor",function(){return V}),n.d(e,"OneMinusSrcColorFactor",function(){return F}),n.d(e,"OrthographicCamera",function(){return $c}),n.d(e,"PCFShadowMap",function(){return g}),n.d(e,"PCFSoftShadowMap",function(){return v}),n.d(e,"ParametricBufferGeometry",function(){return uu}),n.d(e,"ParametricGeometry",function(){return su}),n.d(e,"Particle",function(){return _d}),n.d(e,"ParticleBasicMaterial",function(){return xd}),n.d(e,"ParticleSystem",function(){return bd}),n.d(e,"ParticleSystemMaterial",function(){return Td}),n.d(e,"Path",function(){return Bc}),n.d(e,"PerspectiveCamera",function(){return fi}),n.d(e,"Plane",function(){return bi}),n.d(e,"PlaneBufferGeometry",function(){return ja}),n.d(e,"PlaneGeometry",function(){return Ba}),n.d(e,"PlaneHelper",function(){return cd}),n.d(e,"PointCloud",function(){return yd}),n.d(e,"PointCloudMaterial",function(){return wd}),n.d(e,"PointLight",function(){return Wc}),n.d(e,"PointLightHelper",function(){return Kh}),n.d(e,"Points",function(){return eu}),n.d(e,"PointsMaterial",function(){return tu}),n.d(e,"PolarGridHelper",function(){return id}),n.d(e,"PolyhedronBufferGeometry",function(){return cu}),n.d(e,"PolyhedronGeometry",function(){return lu}),n.d(e,"PositionalAudio",function(){return Eh}),n.d(e,"PositionalAudioHelper",function(){return rd}),n.d(e,"PropertyBinding",function(){return Ih}),n.d(e,"PropertyMixer",function(){return Ch}),n.d(e,"QuadraticBezierCurve",function(){return Rc}),n.d(e,"QuadraticBezierCurve3",function(){return Ic}),n.d(e,"Quaternion",function(){return hn}),n.d(e,"QuaternionKeyframeTrack",function(){return ql}),n.d(e,"QuaternionLinearInterpolant",function(){return $l}),n.d(e,"REVISION",function(){return o}),n.d(e,"RGBADepthPacking",function(){return He}),n.d(e,"RGBAFormat",function(){return $t}),n.d(e,"RGBA_ASTC_10x10_Format",function(){return _e}),n.d(e,"RGBA_ASTC_10x5_Format",function(){return ge}),n.d(e,"RGBA_ASTC_10x6_Format",function(){return ve}),n.d(e,"RGBA_ASTC_10x8_Format",function(){return ye}),n.d(e,"RGBA_ASTC_12x10_Format",function(){return be}),n.d(e,"RGBA_ASTC_12x12_Format",function(){return we}),n.d(e,"RGBA_ASTC_4x4_Format",function(){return ue}),n.d(e,"RGBA_ASTC_5x4_Format",function(){return le}),n.d(e,"RGBA_ASTC_5x5_Format",function(){return ce}),n.d(e,"RGBA_ASTC_6x5_Format",function(){return he}),n.d(e,"RGBA_ASTC_6x6_Format",function(){return de}),n.d(e,"RGBA_ASTC_8x5_Format",function(){return pe}),n.d(e,"RGBA_ASTC_8x6_Format",function(){return fe}),n.d(e,"RGBA_ASTC_8x8_Format",function(){return me}),n.d(e,"RGBA_PVRTC_2BPPV1_Format",function(){return oe}),n.d(e,"RGBA_PVRTC_4BPPV1_Format",function(){return ae}),n.d(e,"RGBA_S3TC_DXT1_Format",function(){return te}),n.d(e,"RGBA_S3TC_DXT3_Format",function(){return ee}),n.d(e,"RGBA_S3TC_DXT5_Format",function(){return ne}),n.d(e,"RGBDEncoding",function(){return ze}),n.d(e,"RGBEEncoding",function(){return Ue}),n.d(e,"RGBEFormat",function(){return Yt}),n.d(e,"RGBFormat",function(){return Wt}),n.d(e,"RGBM16Encoding",function(){return Fe}),n.d(e,"RGBM7Encoding",function(){return je}),n.d(e,"RGB_ETC1_Format",function(){return se}),n.d(e,"RGB_PVRTC_2BPPV1_Format",function(){return re}),n.d(e,"RGB_PVRTC_4BPPV1_Format",function(){return ie}),n.d(e,"RGB_S3TC_DXT1_Format",function(){return Qt}),n.d(e,"RawShaderMaterial",function(){return Cl}),n.d(e,"Ray",function(){return On}),n.d(e,"Raycaster",function(){return Fh}),n.d(e,"RectAreaLight",function(){return Jc}),n.d(e,"RectAreaLightHelper",function(){return Qh}),n.d(e,"RedFormat",function(){return Kt}),n.d(e,"ReinhardToneMapping",function(){return st}),n.d(e,"RepeatWrapping",function(){return _t}),n.d(e,"ReplaceStencilOp",function(){return Xe}),n.d(e,"ReverseSubtractEquation",function(){return I}),n.d(e,"RingBufferGeometry",function(){return dl}),n.d(e,"RingGeometry",function(){return hl}),n.d(e,"Scene",function(){return An}),n.d(e,"SceneUtils",function(){return qd}),n.d(e,"ShaderChunk",function(){return Ra}),n.d(e,"ShaderLib",function(){return Da}),n.d(e,"ShaderMaterial",function(){return di}),n.d(e,"ShadowMaterial",function(){return Ml}),n.d(e,"Shape",function(){return jc}),n.d(e,"ShapeBufferGeometry",function(){return gl}),n.d(e,"ShapeGeometry",function(){return ml}),n.d(e,"ShapePath",function(){return lh}),n.d(e,"ShapeUtils",function(){return tl}),n.d(e,"ShortType",function(){return It}),n.d(e,"Skeleton",function(){return Xs}),n.d(e,"SkeletonHelper",function(){return Zh}),n.d(e,"SkinnedMesh",function(){return qs}),n.d(e,"SmoothShading",function(){return x}),n.d(e,"Sphere",function(){return Pn}),n.d(e,"SphereBufferGeometry",function(){return cl}),n.d(e,"SphereGeometry",function(){return ll}),n.d(e,"Spherical",function(){return Hh}),n.d(e,"SphericalHarmonics3",function(){return vh}),n.d(e,"SphericalReflectionMapping",function(){return gt}),n.d(e,"Spline",function(){return Ud}),n.d(e,"SplineCurve",function(){return Dc}),n.d(e,"SplineCurve3",function(){return Nd}),n.d(e,"SpotLight",function(){return Gc}),n.d(e,"SpotLightHelper",function(){return Yh}),n.d(e,"SpotLightShadow",function(){return Hc}),n.d(e,"Sprite",function(){return Ws}),n.d(e,"SpriteMaterial",function(){return Gs}),n.d(e,"SrcAlphaFactor",function(){return z}),n.d(e,"SrcAlphaSaturateFactor",function(){return q}),n.d(e,"SrcColorFactor",function(){return j}),n.d(e,"StereoCamera",function(){return wh}),n.d(e,"StringKeyframeTrack",function(){return Xl}),n.d(e,"SubtractEquation",function(){return R}),n.d(e,"SubtractiveBlending",function(){return k}),n.d(e,"TOUCH",function(){return u}),n.d(e,"TangentSpaceNormalMap",function(){return Ge}),n.d(e,"TetrahedronBufferGeometry",function(){return du}),n.d(e,"TetrahedronGeometry",function(){return hu}),n.d(e,"TextBufferGeometry",function(){return ul}),n.d(e,"TextGeometry",function(){return sl}),n.d(e,"Texture",function(){return yn}),n.d(e,"TextureLoader",function(){return lc}),n.d(e,"TorusBufferGeometry",function(){return Su}),n.d(e,"TorusGeometry",function(){return Tu}),n.d(e,"TorusKnotBufferGeometry",function(){return xu}),n.d(e,"TorusKnotGeometry",function(){return wu}),n.d(e,"Triangle",function(){return Ln}),n.d(e,"TriangleFanDrawMode",function(){return Re}),n.d(e,"TriangleStripDrawMode",function(){return Le}),n.d(e,"TrianglesDrawMode",function(){return Oe}),n.d(e,"TubeBufferGeometry",function(){return bu}),n.d(e,"TubeGeometry",function(){return _u}),n.d(e,"UVMapping",function(){return ht}),n.d(e,"Uint16Attribute",function(){return Pd}),n.d(e,"Uint16BufferAttribute",function(){return qn}),n.d(e,"Uint32Attribute",function(){return Ld}),n.d(e,"Uint32BufferAttribute",function(){return Yn}),n.d(e,"Uint8Attribute",function(){return Cd}),n.d(e,"Uint8BufferAttribute",function(){return Gn}),n.d(e,"Uint8ClampedAttribute",function(){return Ad}),n.d(e,"Uint8ClampedBufferAttribute",function(){return Wn}),n.d(e,"Uncharted2ToneMapping",function(){return ut}),n.d(e,"Uniform",function(){return Bh}),n.d(e,"UniformsLib",function(){return Ia}),n.d(e,"UniformsUtils",function(){return li}),n.d(e,"UnsignedByteType",function(){return Lt}),n.d(e,"UnsignedInt248Type",function(){return Ht}),n.d(e,"UnsignedIntType",function(){return Ut}),n.d(e,"UnsignedShort4444Type",function(){return Ft}),n.d(e,"UnsignedShort5551Type",function(){return zt}),n.d(e,"UnsignedShort565Type",function(){return Vt}),n.d(e,"UnsignedShortType",function(){return Dt}),n.d(e,"Vector2",function(){return cn}),n.d(e,"Vector3",function(){return dn}),n.d(e,"Vector4",function(){return _n}),n.d(e,"VectorKeyframeTrack",function(){return Yl}),n.d(e,"Vertex",function(){return Sd}),n.d(e,"VertexColors",function(){return E}),n.d(e,"VertexNormalsHelper",function(){return Xh}),n.d(e,"VideoTexture",function(){return nu}),n.d(e,"WebGLMultisampleRenderTarget",function(){return wn}),n.d(e,"WebGLRenderTarget",function(){return bn}),n.d(e,"WebGLRenderTargetCube",function(){return yi}),n.d(e,"WebGLRenderer",function(){return js}),n.d(e,"WebGLUtils",function(){return Ps}),n.d(e,"WireframeGeometry",function(){return ou}),n.d(e,"WireframeHelper",function(){return zd}),n.d(e,"WrapAroundEnding",function(){return Pe}),n.d(e,"XHRLoader",function(){return Vd}),n.d(e,"ZeroCurvatureEnding",function(){return Ae}),n.d(e,"ZeroFactor",function(){return U}),n.d(e,"ZeroSlopeEnding",function(){return ke}),n.d(e,"ZeroStencilOp",function(){return $e}),n.d(e,"sRGBEncoding",function(){return De}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}}(),Object.assign(i.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,i=n[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var i=n.slice(0),r=0,a=i.length;r<a;r++)i[r].call(this,t)}}}});var r,a,o="107",s={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},u={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},l=0,c=1,h=2,d=3,p=0,f=1,m=0,g=1,v=2,y=0,_=1,b=2,w=1,x=2,T=0,S=1,E=2,M=0,C=1,A=2,k=3,P=4,O=5,L=100,R=101,I=102,D=103,N=104,U=200,B=201,j=202,F=203,z=204,V=205,H=206,G=207,W=208,$=209,q=210,X=0,Y=1,J=2,Z=3,K=4,Q=5,tt=6,et=7,nt=0,it=1,rt=2,at=0,ot=1,st=2,ut=3,lt=4,ct=5,ht=300,dt=301,pt=302,ft=303,mt=304,gt=305,vt=306,yt=307,_t=1e3,bt=1001,wt=1002,xt=1003,Tt=1004,St=1004,Et=1005,Mt=1005,Ct=1006,At=1007,kt=1007,Pt=1008,Ot=1008,Lt=1009,Rt=1010,It=1011,Dt=1012,Nt=1013,Ut=1014,Bt=1015,jt=1016,Ft=1017,zt=1018,Vt=1019,Ht=1020,Gt=1021,Wt=1022,$t=1023,qt=1024,Xt=1025,Yt=$t,Jt=1026,Zt=1027,Kt=1028,Qt=33776,te=33777,ee=33778,ne=33779,ie=35840,re=35841,ae=35842,oe=35843,se=36196,ue=37808,le=37809,ce=37810,he=37811,de=37812,pe=37813,fe=37814,me=37815,ge=37816,ve=37817,ye=37818,_e=37819,be=37820,we=37821,xe=2200,Te=2201,Se=2202,Ee=2300,Me=2301,Ce=2302,Ae=2400,ke=2401,Pe=2402,Oe=0,Le=1,Re=2,Ie=3e3,De=3001,Ne=3007,Ue=3002,Be=3003,je=3004,Fe=3005,ze=3006,Ve=3200,He=3201,Ge=0,We=1,$e=0,qe=7680,Xe=7681,Ye=7682,Je=7683,Ze=34055,Ke=34056,Qe=5386,tn=512,en=513,nn=514,rn=515,an=516,on=517,sn=518,un=519,ln={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,a=t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&i|128]+t[i>>8&255]+"-"+t[i>>16&255]+t[i>>24&255]+t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255];return a.toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(6*t-15)+10))},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*ln.DEG2RAD},radToDeg:function(t){return t*ln.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function cn(t,e){this.x=t||0,this.y=e||0}function hn(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1}function dn(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function pn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(cn.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(cn.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}}),Object.assign(hn,{slerp:function(t,e,n,i){return n.copy(t).slerp(e,i)},slerpFlat:function(t,e,n,i,r,a,o){var s=n[i+0],u=n[i+1],l=n[i+2],c=n[i+3],h=r[a+0],d=r[a+1],p=r[a+2],f=r[a+3];if(c!==f||s!==h||u!==d||l!==p){var m=1-o,g=s*h+u*d+l*p+c*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,g*v);m=Math.sin(m*b)/_,o=Math.sin(o*b)/_}var w=o*v;if(s=s*m+h*w,u=u*m+d*w,l=l*m+p*w,c=c*m+f*w,m===1-o){var x=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=x,u*=x,l*=x,c*=x}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=c}}),Object.defineProperties(hn.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Object.assign(hn.prototype,{isQuaternion:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,a=t.order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(i/2),c=o(r/2),h=s(n/2),d=s(i/2),p=s(r/2);return"XYZ"===a?(this._x=h*l*c+u*d*p,this._y=u*d*c-h*l*p,this._z=u*l*p+h*d*c,this._w=u*l*c-h*d*p):"YXZ"===a?(this._x=h*l*c+u*d*p,this._y=u*d*c-h*l*p,this._z=u*l*p-h*d*c,this._w=u*l*c+h*d*p):"ZXY"===a?(this._x=h*l*c-u*d*p,this._y=u*d*c+h*l*p,this._z=u*l*p+h*d*c,this._w=u*l*c-h*d*p):"ZYX"===a?(this._x=h*l*c-u*d*p,this._y=u*d*c+h*l*p,this._z=u*l*p-h*d*c,this._w=u*l*c+h*d*p):"YZX"===a?(this._x=h*l*c+u*d*p,this._y=u*d*c+h*l*p,this._z=u*l*p-h*d*c,this._w=u*l*c-h*d*p):"XZY"===a&&(this._x=h*l*c-u*d*p,this._y=u*d*c-h*l*p,this._z=u*l*p+h*d*c,this._w=u*l*c+h*d*p),!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,i=n[0],r=n[4],a=n[8],o=n[1],s=n[5],u=n[9],l=n[2],c=n[6],h=n[10],d=i+s+h;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(c-u)*e,this._y=(a-l)*e,this._z=(o-r)*e):i>s&&i>h?(e=2*Math.sqrt(1+i-s-h),this._w=(c-u)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+l)/e):s>h?(e=2*Math.sqrt(1+s-i-h),this._w=(a-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(u+c)/e):(e=2*Math.sqrt(1+h-i-s),this._w=(o-r)/e,this._x=(a+l)/e,this._y=(u+c)/e,this._z=.25*e),this._onChangeCallback(),this},setFromUnitVectors:function(t,e){var n=1e-6,i=t.dot(e)+1;return i<n?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(ln.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,u=e._z,l=e._w;return this._x=n*l+a*o+i*u-r*s,this._y=i*l+a*s+r*o-n*u,this._z=r*l+a*u+n*s-i*o,this._w=a*l-n*o-i*s-r*u,this._onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-e;return this._w=u*a+e*this._w,this._x=u*n+e*this._x,this._y=u*i+e*this._y,this._z=u*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),h=Math.sin((1-e)*c)/l,d=Math.sin(e*c)/l;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign(dn.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new hn;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new hn;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*i-o*n,l=s*n+o*e-r*i,c=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=u*s+h*-r+l*-o-c*-a,this.y=l*s+h*-a+c*-r-u*-o,this.z=c*s+h*-o+u*-a-l*-r,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new dn;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new dn;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(ln.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(pn.prototype,{isMatrix3:!0,set:function(t,e,n,i,r,a,o,s,u){var l=this.elements;return l[0]=t,l[1]=i,l[2]=o,l[3]=e,l[4]=r,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(t){void 0===r&&(r=new dn);for(var e=0,n=t.count;e<n;e++)r.x=t.getX(e),r.y=t.getY(e),r.z=t.getZ(e),r.applyMatrix3(this),t.setXYZ(e,r.x,r.y,r.z);return t},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],h=n[2],d=n[5],p=n[8],f=i[0],m=i[3],g=i[6],v=i[1],y=i[4],_=i[7],b=i[2],w=i[5],x=i[8];return r[0]=a*f+o*v+s*b,r[3]=a*m+o*y+s*w,r[6]=a*g+o*_+s*x,r[1]=u*f+l*v+c*b,r[4]=u*m+l*y+c*w,r[7]=u*g+l*_+c*x,r[2]=h*f+d*v+p*b,r[5]=h*m+d*y+p*w,r[8]=h*g+d*_+p*x,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*a*l-e*o*u-n*r*l+n*o*s+i*r*u-i*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,i=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],d=n[8],p=d*u-l*h,f=l*c-d*s,m=h*s-u*c,g=r*p+a*f+o*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return i[0]=p*y,i[1]=(o*h-d*a)*y,i[2]=(l*a-o*u)*y,i[3]=f*y,i[4]=(d*r-o*c)*y,i[5]=(o*s-l*r)*y,i[6]=m*y,i[7]=(a*c-h*r)*y,i[8]=(u*r-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,i,r,a,o){var s=Math.cos(r),u=Math.sin(r);this.set(n*s,n*u,-n*(s*a+u*o)+a+t,-i*u,i*s,-i*(-u*a+s*o)+o+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],u=i[4],l=i[7];return i[0]=e*r+n*s,i[3]=e*a+n*u,i[6]=e*o+n*l,i[1]=-n*r+e*s,i[4]=-n*a+e*u,i[7]=-n*o+e*l,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var fn,mn,gn={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===a&&(a=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),a.width=t.width,a.height=t.height;var n=a.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=a}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},vn=0;function yn(t,e,n,i,r,a,o,s,u,l){Object.defineProperty(this,"id",{value:vn++}),this.uuid=ln.generateUUID(),this.name="",this.image=void 0!==t?t:yn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:yn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:bt,this.wrapT=void 0!==i?i:bt,this.magFilter=void 0!==r?r:Ct,this.minFilter=void 0!==a?a:Pt,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:$t,this.type=void 0!==s?s:Lt,this.offset=new cn(0,0),this.repeat=new cn(1,1),this.center=new cn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new pn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Ie,this.version=0,this.onUpdate=null}function _n(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1}function bn(t,e,n){this.width=t,this.height=e,this.scissor=new _n(0,0,t,e),this.scissorTest=!1,this.viewport=new _n(0,0,t,e),n=n||{},this.texture=new yn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ct,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function wn(t,e,n){bn.call(this,t,e,n),this.samples=4}function xn(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Tn(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||Tn.DefaultOrder}function Sn(){this.mask=1}yn.DEFAULT_IMAGE=void 0,yn.DEFAULT_MAPPING=ht,yn.prototype=Object.assign(Object.create(i.prototype),{constructor:yn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=ln.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)r.push(gn.getDataURL(i[a]))}else r=gn.getDataURL(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==ht)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case _t:t.x=t.x-Math.floor(t.x);break;case bt:t.x=t.x<0?0:1;break;case wt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case _t:t.y=t.y-Math.floor(t.y);break;case bt:t.y=t.y<0?0:1;break;case wt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(yn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.defineProperties(_n.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Object.assign(_n.prototype,{isVector4:!0,set:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,i,r,a=.01,o=.1,s=t.elements,u=s[0],l=s[4],c=s[8],h=s[1],d=s[5],p=s[9],f=s[2],m=s[6],g=s[10];if(Math.abs(l-h)<a&&Math.abs(c-f)<a&&Math.abs(p-m)<a){if(Math.abs(l+h)<o&&Math.abs(c+f)<o&&Math.abs(p+m)<o&&Math.abs(u+d+g-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var v=(u+1)/2,y=(d+1)/2,_=(g+1)/2,b=(l+h)/4,w=(c+f)/4,x=(p+m)/4;return v>y&&v>_?v<a?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(v),i=b/n,r=w/n):y>_?y<a?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(y),n=b/i,r=x/i):_<a?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(_),n=w/r,i=x/r),this.set(n,i,r,e),this}var T=Math.sqrt((m-p)*(m-p)+(c-f)*(c-f)+(h-l)*(h-l));return Math.abs(T)<.001&&(T=1),this.x=(m-p)/T,this.y=(c-f)/T,this.z=(h-l)/T,this.w=Math.acos((u+d+g-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),bn.prototype=Object.assign(Object.create(i.prototype),{constructor:bn,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),wn.prototype=Object.assign(Object.create(bn.prototype),{constructor:wn,isWebGLMultisampleRenderTarget:!0,copy:function(t){return bn.prototype.copy.call(this,t),this.samples=t.samples,this}}),Object.assign(xn.prototype,{isMatrix4:!0,set:function(t,e,n,i,r,a,o,s,u,l,c,h,d,p,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=r,g[5]=a,g[9]=o,g[13]=s,g[2]=u,g[6]=l,g[10]=c,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new xn).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new dn;return function(e){var n=this.elements,i=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),u=Math.sin(i),l=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var h=a*l,d=a*c,p=o*l,f=o*c;e[0]=s*l,e[4]=-s*c,e[8]=u,e[1]=d+p*u,e[5]=h-f*u,e[9]=-o*s,e[2]=f-h*u,e[6]=p+d*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,g=s*c,v=u*l,y=u*c;e[0]=m+y*o,e[4]=v*o-g,e[8]=a*u,e[1]=a*c,e[5]=a*l,e[9]=-o,e[2]=g*o-v,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order){m=s*l,g=s*c,v=u*l,y=u*c;e[0]=m-y*o,e[4]=-a*c,e[8]=v+g*o,e[1]=g+v*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*u,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){h=a*l,d=a*c,p=o*l,f=o*c;e[0]=s*l,e[4]=p*u-d,e[8]=h*u+f,e[1]=s*c,e[5]=f*u+h,e[9]=d*u-p,e[2]=-u,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var _=a*s,b=a*u,w=o*s,x=o*u;e[0]=s*l,e[4]=x-_*c,e[8]=w*c+b,e[1]=c,e[5]=a*l,e[9]=-o*l,e[2]=-u*l,e[6]=b*c+w,e[10]=_-x*c}else if("XZY"===t.order){_=a*s,b=a*u,w=o*s,x=o*u;e[0]=s*l,e[4]=-c,e[8]=u*l,e[1]=_*c+x,e[5]=a*l,e[9]=b*c-w,e[2]=w*c-b,e[6]=o*l,e[10]=x*c+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new dn(0,0,0),e=new dn(1,1,1);return function(n){return this.compose(t,n,e)}}(),lookAt:function(){var t=new dn,e=new dn,n=new dn;return function(i,r,a){var o=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(a,n),0===t.lengthSq()&&(1===Math.abs(a.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),t.crossVectors(a,n)),t.normalize(),e.crossVectors(n,t),o[0]=t.x,o[4]=e.x,o[8]=n.x,o[1]=t.y,o[5]=e.y,o[9]=n.y,o[2]=t.z,o[6]=e.z,o[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],b=n[15],w=i[0],x=i[4],T=i[8],S=i[12],E=i[1],M=i[5],C=i[9],A=i[13],k=i[2],P=i[6],O=i[10],L=i[14],R=i[3],I=i[7],D=i[11],N=i[15];return r[0]=a*w+o*E+s*k+u*R,r[4]=a*x+o*M+s*P+u*I,r[8]=a*T+o*C+s*O+u*D,r[12]=a*S+o*A+s*L+u*N,r[1]=l*w+c*E+h*k+d*R,r[5]=l*x+c*M+h*P+d*I,r[9]=l*T+c*C+h*O+d*D,r[13]=l*S+c*A+h*L+d*N,r[2]=p*w+f*E+m*k+g*R,r[6]=p*x+f*M+m*P+g*I,r[10]=p*T+f*C+m*O+g*D,r[14]=p*S+f*A+m*L+g*N,r[3]=v*w+y*E+_*k+b*R,r[7]=v*x+y*M+_*P+b*I,r[11]=v*T+y*C+_*O+b*D,r[15]=v*S+y*A+_*L+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new dn;return function(e){for(var n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],u=t[13],l=t[2],c=t[6],h=t[10],d=t[14],p=t[3],f=t[7],m=t[11],g=t[15];return p*(+r*s*c-i*u*c-r*o*h+n*u*h+i*o*d-n*s*d)+f*(+e*s*d-e*u*h+r*a*h-i*a*d+i*u*l-r*s*l)+m*(+e*u*c-e*o*d-r*a*c+n*a*d+r*o*l-n*u*l)+g*(-i*o*l-e*s*c+e*o*h+i*a*c-n*a*h+n*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this},getInverse:function(t,e){var n=this.elements,i=t.elements,r=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],c=i[6],h=i[7],d=i[8],p=i[9],f=i[10],m=i[11],g=i[12],v=i[13],y=i[14],_=i[15],b=p*y*h-v*f*h+v*c*m-l*y*m-p*c*_+l*f*_,w=g*f*h-d*y*h-g*c*m+u*y*m+d*c*_-u*f*_,x=d*v*h-g*p*h+g*l*m-u*v*m-d*l*_+u*p*_,T=g*p*c-d*v*c-g*l*f+u*v*f+d*l*y-u*p*y,S=r*b+a*w+o*x+s*T;if(0===S){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(E);return console.warn(E),this.identity()}var M=1/S;return n[0]=b*M,n[1]=(v*f*s-p*y*s-v*o*m+a*y*m+p*o*_-a*f*_)*M,n[2]=(l*y*s-v*c*s+v*o*h-a*y*h-l*o*_+a*c*_)*M,n[3]=(p*c*s-l*f*s-p*o*h+a*f*h+l*o*m-a*c*m)*M,n[4]=w*M,n[5]=(d*y*s-g*f*s+g*o*m-r*y*m-d*o*_+r*f*_)*M,n[6]=(g*c*s-u*y*s-g*o*h+r*y*h+u*o*_-r*c*_)*M,n[7]=(u*f*s-d*c*s+d*o*h-r*f*h-u*o*m+r*c*m)*M,n[8]=x*M,n[9]=(g*p*s-d*v*s-g*a*m+r*v*m+d*a*_-r*p*_)*M,n[10]=(u*v*s-g*l*s+g*a*h-r*v*h-u*a*_+r*l*_)*M,n[11]=(d*l*s-u*p*s-d*a*h+r*p*h+u*a*m-r*l*m)*M,n[12]=T*M,n[13]=(d*v*o-g*p*o+g*a*f-r*v*f-d*a*y+r*p*y)*M,n[14]=(g*l*o-u*v*o-g*a*c+r*v*c+u*a*y-r*l*y)*M,n[15]=(u*p*o-d*l*o+d*a*c-r*p*c-u*a*f+r*l*f)*M,this},scale:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,u=r*a,l=r*o;return this.set(u*a+n,u*o-i*s,u*s+i*o,0,u*o+i*s,l*o+n,l*s-i*a,0,u*s-i*o,l*s+i*a,r*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,u=r+r,l=a+a,c=o+o,h=r*u,d=r*l,p=r*c,f=a*l,m=a*c,g=o*c,v=s*u,y=s*l,_=s*c,b=n.x,w=n.y,x=n.z;return i[0]=(1-(f+g))*b,i[1]=(d+_)*b,i[2]=(p-y)*b,i[3]=0,i[4]=(d-_)*w,i[5]=(1-(h+g))*w,i[6]=(m+v)*w,i[7]=0,i[8]=(p+y)*x,i[9]=(m-v)*x,i[10]=(1-(h+f))*x,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},decompose:function(){var t=new dn,e=new xn;return function(n,i,r){var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),u=t.set(a[8],a[9],a[10]).length(),l=this.determinant();l<0&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],e.copy(this);var c=1/o,h=1/s,d=1/u;return e.elements[0]*=c,e.elements[1]*=c,e.elements[2]*=c,e.elements[4]*=h,e.elements[5]*=h,e.elements[6]*=h,e.elements[8]*=d,e.elements[9]*=d,e.elements[10]*=d,i.setFromRotationMatrix(e),r.x=o,r.y=s,r.z=u,this}}(),makePerspective:function(t,e,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(e-t),u=2*r/(n-i),l=(e+t)/(e-t),c=(n+i)/(n-i),h=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),u=1/(n-i),l=1/(a-r),c=(e+t)*s,h=(n+i)*u,d=(a+r)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),Tn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Tn.DefaultOrder="XYZ",Object.defineProperties(Tn.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Object.assign(Tn.prototype,{isEuler:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var i=ln.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],u=r[1],l=r[5],c=r[9],h=r[2],d=r[6],p=r[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-h,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===e?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(i(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(t,e,n){return void 0===fn&&(fn=new xn),fn.makeRotationFromQuaternion(t),this.setFromRotationMatrix(fn,e,n)},setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(t){return void 0===mn&&(mn=new hn),mn.setFromEuler(this),this.setFromQuaternion(mn,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new dn(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign(Sn.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!==(this.mask&t.mask)}});var En,Mn=0;function Cn(){Object.defineProperty(this,"id",{value:Mn++}),this.uuid=ln.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Cn.DefaultUp.clone();var t=new dn,e=new Tn,n=new hn,i=new dn(1,1,1);function r(){n.setFromEuler(e,!1)}function a(){e.setFromQuaternion(n,void 0,!1)}e._onChange(r),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new xn},normalMatrix:{value:new pn}}),this.matrix=new xn,this.matrixWorld=new xn,this.matrixAutoUpdate=Cn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Sn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function An(){Cn.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function kn(t,e){this.min=void 0!==t?t:new dn(1/0,1/0,1/0),this.max=void 0!==e?e:new dn(-1/0,-1/0,-1/0)}function Pn(t,e){this.center=void 0!==t?t:new dn,this.radius=void 0!==e?e:0}function On(t,e){this.origin=void 0!==t?t:new dn,this.direction=void 0!==e?e:new dn}function Ln(t,e,n){this.a=void 0!==t?t:new dn,this.b=void 0!==e?e:new dn,this.c=void 0!==n?n:new dn}Cn.DefaultUp=new dn(0,1,0),Cn.DefaultMatrixAutoUpdate=!0,Cn.prototype=Object.assign(Object.create(i.prototype),{constructor:Cn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new hn;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new hn;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new dn(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new dn(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new dn(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new dn;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new dn(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new dn(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new dn(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new xn;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new hn,e=new xn,n=new dn,i=new dn;return function(r,a,o){r.isVector3?n.copy(r):n.set(r,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(i,n,this.up):e.lookAt(n,i,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent({type:"added"})):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent({type:"removed"})),this},attach:function(){var t=new xn;return function(e){return this.updateWorldMatrix(!0,!1),t.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),t.multiply(e.parent.matrixWorld)),e.applyMatrix(t),e.updateWorldMatrix(!1,!1),this.add(e),this}}(),getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n],a=r.getObjectByProperty(t,e);if(void 0!==a)return a}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new dn),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new dn,e=new dn;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new hn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldScale:function(){var t=new dn,e=new hn;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new dn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new dn),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==Oe&&(i.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];r(t.shapes,l)}else r(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(r(t.materials,this.material[s]));i.material=c}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(t).object)}if(e){var h=m(t.geometries),d=m(t.materials),p=m(t.textures),f=m(t.images);o=m(t.shapes);h.length>0&&(n.geometries=h),d.length>0&&(n.materials=d),p.length>0&&(n.textures=p),f.length>0&&(n.images=f),o.length>0&&(n.shapes=o)}return n.object=i,n;function m(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}}),An.prototype=Object.assign(Object.create(Cn.prototype),{constructor:An,isScene:!0,copy:function(t,e){return Cn.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Cn.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.assign(kn.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],c=t[s+1],h=t[s+2];l<e&&(e=l),c<n&&(n=c),h<i&&(i=h),l>r&&(r=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),c=t.getY(s),h=t.getZ(s);l<e&&(e=l),c<n&&(n=c),h<i&&(i=h),l>r&&(r=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new dn;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new dn),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new dn),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,n,i=new dn;function r(r){var a=r.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,n=o.length;e<n;e++)i.copy(o[e]),i.applyMatrix4(r.matrixWorld),t.expandByPoint(i)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,n=s.count;e<n;e++)i.fromBufferAttribute(s,e).applyMatrix4(r.matrixWorld),t.expandByPoint(i)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(r),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new dn),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new dn;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(){var t=new dn,e=new dn,n=new dn,i=new dn,r=new dn,a=new dn,o=new dn,s=new dn,u=new dn,l=new dn;function c(i){var r,a;for(r=0,a=i.length-3;r<=a;r+=3){o.fromArray(i,r);var s=u.x*Math.abs(o.x)+u.y*Math.abs(o.y)+u.z*Math.abs(o.z),l=t.dot(o),c=e.dot(o),h=n.dot(o);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),n.subVectors(o.c,s),i.subVectors(e,t),r.subVectors(n,e),a.subVectors(t,n);var h=[0,-i.z,i.y,0,-r.z,r.y,0,-a.z,a.y,i.z,0,-i.x,r.z,0,-r.x,a.z,0,-a.x,-i.y,i.x,0,-r.y,r.x,0,-a.y,a.x,0];return!!c(h)&&(h=[1,0,0,0,1,0,0,0,1],!!c(h)&&(l.crossVectors(i,r),h=[l.x,l.y,l.z],c(h)))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new dn),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new dn;return function(e){var n=t.copy(e).clamp(this.min,this.max);return n.sub(e).length()}}(),getBoundingSphere:function(){var t=new dn;return function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new dn,new dn,new dn,new dn,new dn,new dn,new dn,new dn];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Pn.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){void 0===En&&(En=new kn);var n=this.center;void 0!==e?n.copy(e):En.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new dn),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new kn),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(On.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new dn),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new dn;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new dn),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new dn;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new dn,e=new dn,n=new dn;return function(i,r,a,o){t.copy(i).add(r).multiplyScalar(.5),e.copy(r).sub(i).normalize(),n.copy(this.origin).sub(t);var s,u,l,c,h=.5*i.distanceTo(r),d=-this.direction.dot(e),p=n.dot(this.direction),f=-n.dot(e),m=n.lengthSq(),g=Math.abs(1-d*d);if(g>0)if(s=d*f-p,u=d*p-f,c=h*g,s>=0)if(u>=-c)if(u<=c){var v=1/g;s*=v,u*=v,l=s*(s+d*u+2*p)+u*(d*s+u+2*f)+m}else u=h,s=Math.max(0,-(d*u+p)),l=-s*s+u*(u+2*f)+m;else u=-h,s=Math.max(0,-(d*u+p)),l=-s*s+u*(u+2*f)+m;else u<=-c?(s=Math.max(0,-(-d*h+p)),u=s>0?-h:Math.min(Math.max(-h,-f),h),l=-s*s+u*(u+2*f)+m):u<=c?(s=0,u=Math.min(Math.max(-h,-f),h),l=u*(u+2*f)+m):(s=Math.max(0,-(d*h+p)),u=s>0?h:Math.min(Math.max(-h,-f),h),l=-s*s+u*(u+2*f)+m);else u=d>0?-h:h,s=Math.max(0,-(d*u+p)),l=-s*s+u*(u+2*f)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(e).multiplyScalar(u).add(t),l}}(),intersectSphere:function(){var t=new dn;return function(e,n){t.subVectors(e.center,this.origin);var i=t.dot(this.direction),r=t.dot(t)-i*i,a=e.radius*e.radius;if(r>a)return null;var o=Math.sqrt(a-r),s=i-o,u=i+o;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var n=t.normal.dot(this.direction);return n*e<0},intersectBox:function(t,e){var n,i,r,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,i=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,i=(t.min.x-h.x)*u),l>=0?(r=(t.min.y-h.y)*l,a=(t.max.y-h.y)*l):(r=(t.max.y-h.y)*l,a=(t.min.y-h.y)*l),n>a||r>i?null:((r>n||n!==n)&&(n=r),(a<i||i!==i)&&(i=a),c>=0?(o=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(o=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))},intersectsBox:function(){var t=new dn;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new dn,e=new dn,n=new dn,i=new dn;return function(r,a,o,s,u){e.subVectors(a,r),n.subVectors(o,r),i.crossVectors(e,n);var l,c=this.direction.dot(i);if(c>0){if(s)return null;l=1}else{if(!(c<0))return null;l=-1,c=-c}t.subVectors(this.origin,r);var h=l*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var d=l*this.direction.dot(e.cross(t));if(d<0)return null;if(h+d>c)return null;var p=-l*t.dot(i);return p<0?null:this.at(p/c,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(Ln,{getNormal:function(){var t=new dn;return function(e,n,i,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new dn),r.subVectors(i,n),t.subVectors(e,n),r.cross(t);var a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}}(),getBarycoord:function(){var t=new dn,e=new dn,n=new dn;return function(i,r,a,o,s){t.subVectors(o,r),e.subVectors(a,r),n.subVectors(i,r);var u=t.dot(t),l=t.dot(e),c=t.dot(n),h=e.dot(e),d=e.dot(n),p=u*h-l*l;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new dn),0===p)return s.set(-2,-1,-1);var f=1/p,m=(h*c-l*d)*f,g=(u*d-l*c)*f;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var t=new dn;return function(e,n,i,r){return Ln.getBarycoord(e,n,i,r,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:function(){var t=new dn;return function(e,n,i,r,a,o,s,u){return this.getBarycoord(e,n,i,r,t),u.set(0,0),u.addScaledVector(a,t.x),u.addScaledVector(o,t.y),u.addScaledVector(s,t.z),u}}(),isFrontFacing:function(){var t=new dn,e=new dn;return function(n,i,r,a){return t.subVectors(r,i),e.subVectors(n,i),t.cross(e).dot(a)<0}}()}),Object.assign(Ln.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new dn,e=new dn;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new dn),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Ln.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new dn),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return Ln.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,n,i,r){return Ln.getUV(t,this.a,this.b,this.c,e,n,i,r)},containsPoint:function(t){return Ln.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return Ln.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(){var t=new dn,e=new dn,n=new dn,i=new dn,r=new dn,a=new dn;return function(o,s){void 0===s&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),s=new dn);var u,l,c=this.a,h=this.b,d=this.c;t.subVectors(h,c),e.subVectors(d,c),i.subVectors(o,c);var p=t.dot(i),f=e.dot(i);if(p<=0&&f<=0)return s.copy(c);r.subVectors(o,h);var m=t.dot(r),g=e.dot(r);if(m>=0&&g<=m)return s.copy(h);var v=p*g-m*f;if(v<=0&&p>=0&&m<=0)return u=p/(p-m),s.copy(c).addScaledVector(t,u);a.subVectors(o,d);var y=t.dot(a),_=e.dot(a);if(_>=0&&y<=_)return s.copy(d);var b=y*f-p*_;if(b<=0&&f>=0&&_<=0)return l=f/(f-_),s.copy(c).addScaledVector(e,l);var w=m*_-y*g;if(w<=0&&g-m>=0&&y-_>=0)return n.subVectors(d,h),l=(g-m)/(g-m+(y-_)),s.copy(h).addScaledVector(n,l);var x=1/(w+b+v);return u=b*x,l=v*x,s.copy(c).addScaledVector(t,u).addScaledVector(e,l)}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});var Rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function In(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function Dn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function Nn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Un(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function Bn(t,e,n,i,r,a){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new dn,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new In,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}Object.assign(In.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(t,e,n){if(t=ln.euclideanModulo(t,1),e=ln.clamp(e,0,1),n=ln.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=Dn(r,i,t+1/3),this.g=Dn(r,i,t),this.b=Dn(r,i,t-1/3)}return this},setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,u=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(o,s,u)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l=n[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(t&&t.length>0){l=Rn[t];void 0!==l?this.setHex(l):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=Nn(t.r),this.g=Nn(t.g),this.b=Nn(t.b),this},copyLinearToSRGB:function(t){return this.r=Un(t.r),this.g=Un(t.g),this.b=Un(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),u=(s+o)/2;if(s===o)e=0,n=0;else{var l=o-s;switch(n=u<=.5?l/(o+s):l/(2-o-s),o){case i:e=(r-a)/l+(r<a?6:0);break;case r:e=(a-i)/l+2;break;case a:e=(i-r)/l+4;break}e/=6}return t.h=e,t.s=n,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var t={};return function(e,n,i){return this.getHSL(t),t.h+=e,t.s+=n,t.l+=i,this.setHSL(t.h,t.s,t.l),this}}(),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(){var t={h:0,s:0,l:0},e={h:0,s:0,l:0};return function(n,i){this.getHSL(t),n.getHSL(e);var r=ln.lerp(t.h,e.h,i),a=ln.lerp(t.s,e.s,i),o=ln.lerp(t.l,e.l,i);return this.setHSL(r,a,o),this}}(),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}}),Object.assign(Bn.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var jn=0;function Fn(){Object.defineProperty(this,"id",{value:jn++}),this.uuid=ln.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=C,this.side=y,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=T,this.opacity=1,this.transparent=!1,this.blendSrc=z,this.blendDst=V,this.blendEquation=L,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Z,this.depthTest=!0,this.depthWrite=!0,this.stencilFunc=un,this.stencilRef=0,this.stencilMask=255,this.stencilFail=qe,this.stencilZFail=qe,this.stencilZPass=qe,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function zn(t){Fn.call(this),this.type="MeshBasicMaterial",this.color=new In(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Vn(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Hn(t,e,n){Vn.call(this,new Int8Array(t),e,n)}function Gn(t,e,n){Vn.call(this,new Uint8Array(t),e,n)}function Wn(t,e,n){Vn.call(this,new Uint8ClampedArray(t),e,n)}function $n(t,e,n){Vn.call(this,new Int16Array(t),e,n)}function qn(t,e,n){Vn.call(this,new Uint16Array(t),e,n)}function Xn(t,e,n){Vn.call(this,new Int32Array(t),e,n)}function Yn(t,e,n){Vn.call(this,new Uint32Array(t),e,n)}function Jn(t,e,n){Vn.call(this,new Float32Array(t),e,n)}function Zn(t,e,n){Vn.call(this,new Float64Array(t),e,n)}function Kn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Qn(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}Fn.prototype=Object.assign(Object.create(i.prototype),{constructor:Fn,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===w;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==C&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==y&&(n.side=this.side),this.vertexColors!==T&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilMask=this.stencilMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWrite=t.stencilWrite,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilMask=t.stencilMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),zn.prototype=Object.create(Fn.prototype),zn.prototype.constructor=zn,zn.prototype.isMeshBasicMaterial=!0,zn.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Object.defineProperty(Vn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Vn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new In),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new cn),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new dn),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new _n),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Hn.prototype=Object.create(Vn.prototype),Hn.prototype.constructor=Hn,Gn.prototype=Object.create(Vn.prototype),Gn.prototype.constructor=Gn,Wn.prototype=Object.create(Vn.prototype),Wn.prototype.constructor=Wn,$n.prototype=Object.create(Vn.prototype),$n.prototype.constructor=$n,qn.prototype=Object.create(Vn.prototype),qn.prototype.constructor=qn,Xn.prototype=Object.create(Vn.prototype),Xn.prototype.constructor=Xn,Yn.prototype=Object.create(Vn.prototype),Yn.prototype.constructor=Yn,Jn.prototype=Object.create(Vn.prototype),Jn.prototype.constructor=Jn,Zn.prototype=Object.create(Vn.prototype),Zn.prototype.constructor=Zn,Object.assign(Kn.prototype,{computeGroups:function(t){for(var e,n=[],i=void 0,r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:i})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,i=t.vertices,r=t.faceVertexUvs,a=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var l=0;l<u;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var c,h=t.morphNormals,d=h.length;if(d>0){c=[];for(l=0;l<d;l++)c[l]={name:h[l].name,data:[]};this.morphTargets.normal=c}var p=t.skinIndices,f=t.skinWeights,m=p.length===i.length,g=f.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<n.length;l++){var v=n[l];this.vertices.push(i[v.a],i[v.b],i[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=v.normal;this.normals.push(_,_,_)}var b=v.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===a){var x=r[0][l];void 0!==x?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new cn,new cn,new cn))}if(!0===o){x=r[1][l];void 0!==x?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new cn,new cn,new cn))}for(var T=0;T<u;T++){var S=s[T].vertices;e[T].data.push(S[v.a],S[v.b],S[v.c])}for(T=0;T<d;T++){var E=h[T].vertexNormals[l];c[T].data.push(E.a,E.b,E.c)}m&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}});var ti=1;function ei(){Object.defineProperty(this,"id",{value:ti+=2}),this.uuid=ln.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function ni(t,e){Cn.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new ei,this.material=void 0!==e?e:new zn({color:16777215*Math.random()}),this.drawMode=Oe,this.updateMorphTargets()}ei.prototype=Object.assign(Object.create(i.prototype),{constructor:ei,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Qn(t)>65535?Yn:qn)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new Vn(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new pn).getNormalMatrix(t);i.applyToBufferAttribute(n),n.needsUpdate=!0}var r=this.attributes.tangent;if(void 0!==r){i=(new pn).getNormalMatrix(t);i.applyToBufferAttribute(r),r.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new xn;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new xn;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new xn;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new xn;return function(e,n,i){return t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t=new xn;return function(e,n,i){return t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Cn;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new dn;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Jn(3*e.vertices.length,3),i=new Jn(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new Jn(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new Jn(e,3)),this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(e=this.attributes.position,void 0!==e&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(e=this.attributes.normal,void 0!==e&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(e=this.attributes.color,void 0!==e&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(e=this.attributes.uv,void 0!==e&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(e=this.attributes.lineDistance,void 0!==e&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Kn).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new Vn(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new Vn(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.addAttribute("color",new Vn(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new Vn(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new Vn(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],u=t.morphTargets[o],l=0,c=u.length;l<c;l++){var h=u[l],d=new Jn(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var p=new Jn(4*t.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Jn(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){var t=new kn;return function(){null===this.boundingBox&&(this.boundingBox=new kn);var e=this.attributes.position,n=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),n)for(var i=0,r=n.length;i<r;i++){var a=n[i];t.setFromBufferAttribute(a),this.boundingBox.expandByPoint(t.min),this.boundingBox.expandByPoint(t.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var t=new kn,e=new kn,n=new dn;return function(){null===this.boundingSphere&&(this.boundingSphere=new Pn);var i=this.attributes.position,r=this.morphAttributes.position;if(i){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(i),r)for(var o=0,s=r.length;o<s;o++){var u=r[o];e.setFromBufferAttribute(u),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var l=0;for(o=0,s=i.count;o<s;o++)n.fromBufferAttribute(i,o),l=Math.max(l,a.distanceToSquared(n));if(r)for(o=0,s=r.length;o<s;o++){u=r[o];for(var c=0,h=u.count;c<h;c++)n.fromBufferAttribute(u,c),l=Math.max(l,a.distanceToSquared(n))}this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new Vn(new Float32Array(n.length),3));else for(var i=e.normal.array,r=0,a=i.length;r<a;r++)i[r]=0;var o,s,u,l=e.normal.array,c=new dn,h=new dn,d=new dn,p=new dn,f=new dn;if(t){var m=t.array;for(r=0,a=t.count;r<a;r+=3)o=3*m[r+0],s=3*m[r+1],u=3*m[r+2],c.fromArray(n,o),h.fromArray(n,s),d.fromArray(n,u),p.subVectors(d,h),f.subVectors(c,h),p.cross(f),l[o]+=p.x,l[o+1]+=p.y,l[o+2]+=p.z,l[s]+=p.x,l[s+1]+=p.y,l[s+2]+=p.z,l[u]+=p.x,l[u+1]+=p.y,l[u+2]+=p.z}else for(r=0,a=n.length;r<a;r+=9)c.fromArray(n,r),h.fromArray(n,r+3),d.fromArray(n,r+6),p.subVectors(d,h),f.subVectors(c,h),p.cross(f),l[r]=p.x,l[r+1]=p.y,l[r+2]=p.z,l[r+3]=p.x,l[r+4]=p.y,l[r+5]=p.z,l[r+6]=p.x,l[r+7]=p.y,l[r+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i],a=r.array,o=t.attributes[i],s=o.array,u=o.itemSize*e,l=Math.min(s.length,a.length-u),c=0,h=u;c<l;c++,h++)a[h]=s[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){var t=new dn;return function(){for(var e=this.attributes.normal,n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=new n.constructor(e.length*i),a=0,o=0,s=0,u=e.length;s<u;s++){a=e[s]*i;for(var l=0;l<i;l++)r[o++]=n[a++]}return new Vn(r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new ei,n=this.index.array,i=this.attributes;for(var r in i){var a=i[r],o=t(a,n);e.addAttribute(r,o)}var s=this.morphAttributes;for(r in s){for(var u=[],l=s[r],c=0,h=l.length;c<h;c++){a=l[c],o=t(a,n);u.push(o)}e.morphAttributes[r]=u}for(var d=this.groups,p=(c=0,d.length);c<p;c++){var f=d[c];e.addGroup(f.start,f.count,f.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var n in r){var a=r[n],o=a.toJSON();""!==a.name&&(o.name=a.name),t.data.attributes[n]=o}var s={},u=!1;for(var n in this.morphAttributes){for(var l=this.morphAttributes[n],c=[],h=0,d=l.length;h<d;h++){a=l[h],o=a.toJSON();""!==a.name&&(o.name=a.name),c.push(o)}c.length>0&&(s[n]=c,u=!0)}u&&(t.data.morphAttributes=s);var p=this.groups;p.length>0&&(t.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(t.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),t},clone:function(){return(new ei).copy(this)},copy:function(t){var e,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(n=0,i=l.length;n<i;n++)u.push(l[n].clone());this.morphAttributes[e]=u}var c=t.groups;for(n=0,i=c.length;n<i;n++){var h=c[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=t.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ni.prototype=Object.assign(Object.create(Cn.prototype),{constructor:ni,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Cn.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var t=new xn,e=new On,n=new Pn,i=new dn,r=new dn,a=new dn,o=new dn,s=new dn,u=new dn,l=new dn,c=new dn,h=new dn,d=new cn,p=new cn,f=new cn,m=new dn,g=new dn;function v(t,e,n,i,r,a,o,s){var u;if(u=e.side===_?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,e.side!==b,s),null===u)return null;g.copy(s),g.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(g);return l<n.near||l>n.far?null:{distance:l,point:g.clone(),object:t}}function y(t,e,n,g,y,_,b,w,x,T,S){i.fromBufferAttribute(y,x),r.fromBufferAttribute(y,T),a.fromBufferAttribute(y,S);var E=t.morphTargetInfluences;if(e.morphTargets&&_&&E){l.set(0,0,0),c.set(0,0,0),h.set(0,0,0);for(var M=0,C=_.length;M<C;M++){var A=E[M],k=_[M];0!==A&&(o.fromBufferAttribute(k,x),s.fromBufferAttribute(k,T),u.fromBufferAttribute(k,S),l.addScaledVector(o.sub(i),A),c.addScaledVector(s.sub(r),A),h.addScaledVector(u.sub(a),A))}i.add(l),r.add(c),a.add(h)}var P=v(t,e,n,g,i,r,a,m);if(P){b&&(d.fromBufferAttribute(b,x),p.fromBufferAttribute(b,T),f.fromBufferAttribute(b,S),P.uv=Ln.getUV(m,i,r,a,d,p,f,new cn)),w&&(d.fromBufferAttribute(w,x),p.fromBufferAttribute(w,T),f.fromBufferAttribute(w,S),P.uv2=Ln.getUV(m,i,r,a,d,p,f,new cn));var O=new Bn(x,T,S);Ln.getNormal(i,r,a,O.normal),P.face=O}return P}return function(i,r){var a,o=this.geometry,s=this.material,u=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(u),!1!==i.ray.intersectsSphere(n)&&(t.getInverse(u),e.copy(i.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var l,c,h,g,_,b,w,x,T,S,E,M=o.index,C=o.attributes.position,A=o.morphAttributes.position,k=o.attributes.uv,P=o.attributes.uv2,O=o.groups,L=o.drawRange;if(null!==M)if(Array.isArray(s))for(g=0,b=O.length;g<b;g++)for(x=O[g],T=s[x.materialIndex],S=Math.max(x.start,L.start),E=Math.min(x.start+x.count,L.start+L.count),_=S,w=E;_<w;_+=3)l=M.getX(_),c=M.getX(_+1),h=M.getX(_+2),a=y(this,T,i,e,C,A,k,P,l,c,h),a&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=x.materialIndex,r.push(a));else for(S=Math.max(0,L.start),E=Math.min(M.count,L.start+L.count),g=S,b=E;g<b;g+=3)l=M.getX(g),c=M.getX(g+1),h=M.getX(g+2),a=y(this,s,i,e,C,A,k,P,l,c,h),a&&(a.faceIndex=Math.floor(g/3),r.push(a));else if(void 0!==C)if(Array.isArray(s))for(g=0,b=O.length;g<b;g++)for(x=O[g],T=s[x.materialIndex],S=Math.max(x.start,L.start),E=Math.min(x.start+x.count,L.start+L.count),_=S,w=E;_<w;_+=3)l=_,c=_+1,h=_+2,a=y(this,T,i,e,C,A,k,P,l,c,h),a&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=x.materialIndex,r.push(a));else for(S=Math.max(0,L.start),E=Math.min(C.count,L.start+L.count),g=S,b=E;g<b;g+=3)l=g,c=g+1,h=g+2,a=y(this,s,i,e,C,A,k,P,l,c,h),a&&(a.faceIndex=Math.floor(g/3),r.push(a))}else if(o.isGeometry){var R,I,D,N,U=Array.isArray(s),B=o.vertices,j=o.faces,F=o.faceVertexUvs[0];F.length>0&&(N=F);for(var z=0,V=j.length;z<V;z++){var H=j[z],G=U?s[H.materialIndex]:s;if(void 0!==G&&(R=B[H.a],I=B[H.b],D=B[H.c],a=v(this,G,i,e,R,I,D,m),a)){if(N&&N[z]){var W=N[z];d.copy(W[0]),p.copy(W[1]),f.copy(W[2]),a.uv=Ln.getUV(m,R,I,D,d,p,f,new cn)}a.face=H,a.faceIndex=z,r.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ii=0;function ri(){Object.defineProperty(this,"id",{value:ii+=2}),this.uuid=ln.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function ai(t,e,n,i,r,a){ri.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new oi(t,e,n,i,r,a)),this.mergeVertices()}function oi(t,e,n,i,r,a){ei.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};var o=this;t=t||1,e=e||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],c=[],h=0,d=0;function p(t,e,n,i,r,a,p,f,m,g,v){var y,_,b=a/m,w=p/g,x=a/2,T=p/2,S=f/2,E=m+1,M=g+1,C=0,A=0,k=new dn;for(_=0;_<M;_++){var P=_*w-T;for(y=0;y<E;y++){var O=y*b-x;k[t]=O*i,k[e]=P*r,k[n]=S,u.push(k.x,k.y,k.z),k[t]=0,k[e]=0,k[n]=f>0?1:-1,l.push(k.x,k.y,k.z),c.push(y/m),c.push(1-_/g),C+=1}}for(_=0;_<g;_++)for(y=0;y<m;y++){var L=h+y+E*_,R=h+y+E*(_+1),I=h+(y+1)+E*(_+1),D=h+(y+1)+E*_;s.push(L,R,D),s.push(R,I,D),A+=6}o.addGroup(d,A,v),d+=A,h+=C}p("z","y","x",-1,-1,n,e,t,a,r,0),p("z","y","x",1,-1,n,e,-t,a,r,1),p("x","z","y",1,1,t,n,e,i,a,2),p("x","z","y",1,-1,t,n,-e,i,a,3),p("x","y","z",1,-1,t,e,n,i,r,4),p("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(s),this.addAttribute("position",new Jn(u,3)),this.addAttribute("normal",new Jn(l,3)),this.addAttribute("uv",new Jn(c,2))}function si(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}return e}function ui(t){for(var e={},n=0;n<t.length;n++){var i=si(t[n]);for(var r in i)e[r]=i[r]}return e}ri.prototype=Object.assign(Object.create(i.prototype),{constructor:ri,isGeometry:!0,applyMatrix:function(t){for(var e=(new pn).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++){var r=this.vertices[n];r.applyMatrix4(t)}for(n=0,i=this.faces.length;n<i;n++){var a=this.faces[n];a.normal.applyMatrix3(e).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++)a.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new xn;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new xn;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new xn;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new xn;return function(e,n,i){return t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t=new xn;return function(e,n,i){return t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Cn;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,i=t.attributes,r=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,o=void 0!==i.color?i.color.array:void 0,s=void 0!==i.uv?i.uv.array:void 0,u=void 0!==i.uv2?i.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<r.length;l+=3)e.vertices.push((new dn).fromArray(r,l)),void 0!==o&&e.colors.push((new In).fromArray(o,l));function c(t,n,i,r){var l=void 0===o?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],c=void 0===a?[]:[(new dn).fromArray(a,3*t),(new dn).fromArray(a,3*n),(new dn).fromArray(a,3*i)],h=new Bn(t,n,i,c,l,r);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new cn).fromArray(s,2*t),(new cn).fromArray(s,2*n),(new cn).fromArray(s,2*i)]),void 0!==u&&e.faceVertexUvs[1].push([(new cn).fromArray(u,2*t),(new cn).fromArray(u,2*n),(new cn).fromArray(u,2*i)])}var h=t.groups;if(h.length>0)for(l=0;l<h.length;l++)for(var d=h[l],p=d.start,f=d.count,m=p,g=p+f;m<g;m+=3)void 0!==n?c(n[m],n[m+1],n[m+2],d.materialIndex):c(m,m+1,m+2,d.materialIndex);else if(void 0!==n)for(l=0;l<n.length;l+=3)c(n[l],n[l+1],n[l+2]);else for(l=0;l<r.length/3;l+=3)c(l,l+1,l+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new dn;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new xn;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var t=new dn,e=new dn,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,n,i,r,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)o[e]=new dn;if(t){var s,u,l,c=new dn,h=new dn;for(i=0,r=this.faces.length;i<r;i++)a=this.faces[i],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],c.subVectors(l,u),h.subVectors(s,u),c.cross(h),o[a.a].add(c),o[a.b].add(c),o[a.c].add(c)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)a=this.faces[i],o[a.a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,n=this.vertices.length;e<n;e++)o[e].normalize();for(i=0,r=this.faces.length;i<r;i++){a=this.faces[i];var d=a.vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for(r=this.faces[n],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new ri;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)u=new dn,l={a:new dn,b:new dn,c:new dn},o.push(u),s.push(l)}var u,l,c=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)r=this.faces[n],u=c.faceNormals[n],l=c.vertexNormals[n],u.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new kn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Pn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var i,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,u=t.faces,l=this.colors,c=t.colors;void 0===n&&(n=0),void 0!==e&&(i=(new pn).getNormalMatrix(e));for(var h=0,d=o.length;h<d;h++){var p=o[h],f=p.clone();void 0!==e&&f.applyMatrix4(e),a.push(f)}for(h=0,d=c.length;h<d;h++)l.push(c[h].clone());for(h=0,d=u.length;h<d;h++){var m,g,v,y=u[h],_=y.vertexNormals,b=y.vertexColors;m=new Bn(y.a+r,y.b+r,y.c+r),m.normal.copy(y.normal),void 0!==i&&m.normal.applyMatrix3(i).normalize();for(var w=0,x=_.length;w<x;w++)g=_[w].clone(),void 0!==i&&g.applyMatrix3(i).normalize(),m.vertexNormals.push(g);m.color.copy(y.color);for(w=0,x=b.length;w<x;w++)v=b[w],m.vertexColors.push(v.clone());m.materialIndex=y.materialIndex+n,s.push(m)}for(h=0,d=t.faceVertexUvs.length;h<d;h++){var T=t.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(w=0,x=T.length;w<x;w++){for(var S=T[w],E=[],M=0,C=S.length;M<C;M++)E.push(S[M].clone());this.faceVertexUvs[h].push(E)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,i,r,a,o,s,u={},l=[],c=[],h=4,d=Math.pow(10,h);for(n=0,i=this.vertices.length;n<i;n++)t=this.vertices[n],e=Math.round(t.x*d)+"_"+Math.round(t.y*d)+"_"+Math.round(t.z*d),void 0===u[e]?(u[e]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[u[e]];var p=[];for(n=0,i=this.faces.length;n<i;n++){r=this.faces[n],r.a=c[r.a],r.b=c[r.b],r.c=c[r.c],a=[r.a,r.b,r.c];for(var f=0;f<3;f++)if(a[f]===a[(f+1)%3]){p.push(n);break}}for(n=p.length-1;n>=0;n--){var m=p[n];for(this.faces.splice(m,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(m,1)}var g=this.vertices.length-l.length;return this.vertices=l,g},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];this.vertices.push(new dn(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;function i(t,e){return t.materialIndex-e.materialIndex}t.sort(i);var r,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===e&&(r=[]),s&&s.length===e&&(a=[]);for(n=0;n<e;n++){var u=t[n]._id;r&&r.push(o[u]),a&&a.push(s[u])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var i=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];i.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],c={},h=[],d={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],f=!0,m=!1,g=void 0!==this.faceVertexUvs[0][r],v=p.normal.length()>0,y=p.vertexNormals.length>0,_=1!==p.color.r||1!==p.color.g||1!==p.color.b,b=p.vertexColors.length>0,w=0;if(w=E(w,0,0),w=E(w,1,f),w=E(w,2,m),w=E(w,3,g),w=E(w,4,v),w=E(w,5,y),w=E(w,6,_),w=E(w,7,b),o.push(w),o.push(p.a,p.b,p.c),o.push(p.materialIndex),g){var x=this.faceVertexUvs[0][r];o.push(A(x[0]),A(x[1]),A(x[2]))}if(v&&o.push(M(p.normal)),y){var T=p.vertexNormals;o.push(M(T[0]),M(T[1]),M(T[2]))}if(_&&o.push(C(p.color)),b){var S=p.vertexColors;o.push(C(S[0]),C(S[1]),C(S[2]))}}function E(t,e,n){return n?t|1<<e:t&~(1<<e)}function M(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]?u[e]:(u[e]=s.length/3,s.push(t.x,t.y,t.z),u[e])}function C(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==c[e]?c[e]:(c[e]=l.length,l.push(t.getHex()),c[e])}function A(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]?d[e]:(d[e]=h.length/2,h.push(t.x,t.y),d[e])}return t.data={},t.data.vertices=i,t.data.normals=s,l.length>0&&(t.data.colors=l),h.length>0&&(t.data.uvs=[h]),t.data.faces=o,t},clone:function(){return(new ri).copy(this)},copy:function(t){var e,n,i,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,n=u.length;e<n;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,n=l.length;e<n;e++)this.faces.push(l[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),i=0,r=c.length;i<r;i++){var h=c[i],d=[];for(a=0,o=h.length;a<o;a++){var p=h[a];d.push(p.clone())}this.faceVertexUvs[e].push(d)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],i=0,r=f[e].vertices.length;i<r;i++)m.vertices.push(f[e].vertices[i].clone());if(void 0!==f[e].normals)for(m.normals=[],i=0,r=f[e].normals.length;i<r;i++)m.normals.push(f[e].normals[i].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,n=g.length;e<n;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],i=0,r=g[e].vertexNormals.length;i<r;i++){var y=g[e].vertexNormals[i],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),v.vertexNormals.push(_)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],i=0,r=g[e].faceNormals.length;i<r;i++)v.faceNormals.push(g[e].faceNormals[i].clone());this.morphNormals.push(v)}var b=t.skinWeights;for(e=0,n=b.length;e<n;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,n=w.length;e<n;e++)this.skinIndices.push(w[e].clone());var x=t.lineDistances;for(e=0,n=x.length;e<n;e++)this.lineDistances.push(x[e]);var T=t.boundingBox;null!==T&&(this.boundingBox=T.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ai.prototype=Object.create(ri.prototype),ai.prototype.constructor=ai,oi.prototype=Object.create(ei.prototype),oi.prototype.constructor=oi;var li={clone:si,merge:ui},ci="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",hi="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function di(t){Fn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=ci,this.fragmentShader=hi,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function pi(){Cn.call(this),this.type="Camera",this.matrixWorldInverse=new xn,this.projectionMatrix=new xn,this.projectionMatrixInverse=new xn}function fi(t,e,n,i){pi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}di.prototype=Object.create(Fn.prototype),di.prototype.constructor=di,di.prototype.isShaderMaterial=!0,di.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=si(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},di.prototype.toJSON=function(t){var e=Fn.prototype.toJSON.call(this,t);for(var n in e.uniforms={},this.uniforms){var i=this.uniforms[n],r=i.value;r&&r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(e.extensions=a),e},pi.prototype=Object.assign(Object.create(Cn.prototype),{constructor:pi,isCamera:!0,copy:function(t,e){return Cn.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new dn),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Cn.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),fi.prototype=Object.assign(Object.create(pi.prototype),{constructor:fi,isPerspectiveCamera:!0,copy:function(t,e){return pi.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*ln.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*ln.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*ln.RAD2DEG*Math.atan(Math.tan(.5*ln.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*ln.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(r+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Cn.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var mi=90,gi=1;function vi(t,e,n,i){Cn.call(this),this.type="CubeCamera";var r=new fi(mi,gi,t,e);r.up.set(0,-1,0),r.lookAt(new dn(1,0,0)),this.add(r);var a=new fi(mi,gi,t,e);a.up.set(0,-1,0),a.lookAt(new dn(-1,0,0)),this.add(a);var o=new fi(mi,gi,t,e);o.up.set(0,0,1),o.lookAt(new dn(0,1,0)),this.add(o);var s=new fi(mi,gi,t,e);s.up.set(0,0,-1),s.lookAt(new dn(0,-1,0)),this.add(s);var u=new fi(mi,gi,t,e);u.up.set(0,-1,0),u.lookAt(new dn(0,0,1)),this.add(u);var l=new fi(mi,gi,t,e);l.up.set(0,-1,0),l.lookAt(new dn(0,0,-1)),this.add(l),i=i||{format:Wt,magFilter:Ct,minFilter:Ct},this.renderTarget=new yi(n,n,i),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=t.getRenderTarget(),i=this.renderTarget,c=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,r),t.setRenderTarget(i,1),t.render(e,a),t.setRenderTarget(i,2),t.render(e,o),t.setRenderTarget(i,3),t.render(e,s),t.setRenderTarget(i,4),t.render(e,u),i.texture.generateMipmaps=c,t.setRenderTarget(i,5),t.render(e,l),t.setRenderTarget(n)},this.clear=function(t,e,n,i){for(var r=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,n,i);t.setRenderTarget(r)}}function yi(t,e,n){bn.call(this,t,e,n)}function _i(t,e,n,i,r,a,o,s,u,l,c,h){yn.call(this,null,a,o,s,u,l,i,r,c,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==u?u:xt,this.minFilter=void 0!==l?l:xt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function bi(t,e){this.normal=void 0!==t?t:new dn(1,0,0),this.constant=void 0!==e?e:0}function wi(t,e,n,i,r,a){this.planes=[void 0!==t?t:new bi,void 0!==e?e:new bi,void 0!==n?n:new bi,void 0!==i?i:new bi,void 0!==r?r:new bi,void 0!==a?a:new bi]}vi.prototype=Object.create(Cn.prototype),vi.prototype.constructor=vi,yi.prototype=Object.create(bn.prototype),yi.prototype.constructor=yi,yi.prototype.isWebGLRenderTargetCube=!0,yi.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var n=new An,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},r=new di({type:"CubemapFromEquirect",uniforms:si(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:_,blending:M});r.uniforms.tEquirect.value=e;var a=new ni(new oi(5,5,5),r);n.add(a);var o=new vi(1,10,1);return o.renderTarget=this,o.renderTarget.texture.name="CubeCameraTexture",o.update(t,n),a.geometry.dispose(),a.material.dispose(),this},_i.prototype=Object.create(yn.prototype),_i.prototype.constructor=_i,_i.prototype.isDataTexture=!0,Object.assign(bi.prototype,{isPlane:!0,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new dn,e=new dn;return function(n,i,r){var a=t.subVectors(r,i).cross(e.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new dn),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new dn;return function(e,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new dn);var i=e.delta(t),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?void 0:n.copy(i).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new dn),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new dn,e=new pn;return function(n,i){var r=i||e.getNormalMatrix(n),a=this.coplanarPoint(t).applyMatrix4(n),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(wi.prototype,{set:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(o-i,c-s,f-h,y-m).normalize(),e[1].setComponents(o+i,c+s,f+h,y+m).normalize(),e[2].setComponents(o+r,c+u,f+d,y+g).normalize(),e[3].setComponents(o-r,c-u,f-d,y-g).normalize(),e[4].setComponents(o-a,c-l,f-p,y-v).normalize(),e[5].setComponents(o+a,c+l,f+p,y+v).normalize(),this},intersectsObject:function(){var t=new Pn;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new Pn;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++){var a=e[r].distanceToPoint(n);if(a<i)return!1}return!0},intersectsBox:function(){var t=new dn;return function(e){for(var n=this.planes,i=0;i<6;i++){var r=n[i];if(t.x=r.normal.x>0?e.max.x:e.min.x,t.y=r.normal.y>0?e.max.y:e.min.y,t.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(t)<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var xi="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",Ti="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",Si="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",Ei="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",Mi="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Ci="vec3 transformed = vec3( position );",Ai="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",ki="vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",Pi="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",Oi="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",Li="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",Ri="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",Ii="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",Di="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",Ni="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Ui="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Bi="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",ji="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",Fi="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",zi="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",Vi="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",Hi="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",Gi="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Wi="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",$i="gl_FragColor = linearToOutputTexel( gl_FragColor );",qi="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",Xi="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",Yi="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",Ji="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",Zi="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",Ki="#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",Qi="#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",tr="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",er="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",nr="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",ir="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",rr="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",ar="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",or="uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",sr="#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",ur="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lr="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",cr="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",hr="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",dr="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",pr="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",fr="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",mr="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",gr="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",vr="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",yr="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",_r="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",br="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",wr="#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",xr="#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",Tr="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",Sr="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",Er="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",Mr="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Cr="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",Ar="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",kr="#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",Pr="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",Or="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",Lr="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",Rr="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",Ir="#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",Dr="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",Nr="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",Ur="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Br="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",jr="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",Fr="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",zr="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",Vr="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Hr="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",Gr="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",Wr="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",$r="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",qr="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Xr="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Yr="#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",Jr="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",Zr="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",Kr="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Qr="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",ta="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",ea="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",na="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",ia="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",ra="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",aa="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",oa="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",sa="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",ua="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",la="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",ca="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",ha="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",da="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",pa="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",fa="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",ma="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",ga="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",va="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ya="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",_a="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",ba="#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",wa="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",xa="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Ta="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Sa="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Ea="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",Ma="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",Ca="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Aa="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",ka="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",Pa="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Oa="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",La="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Ra={alphamap_fragment:xi,alphamap_pars_fragment:Ti,alphatest_fragment:Si,aomap_fragment:Ei,aomap_pars_fragment:Mi,begin_vertex:Ci,beginnormal_vertex:Ai,bsdfs:ki,bumpmap_pars_fragment:Pi,clipping_planes_fragment:Oi,clipping_planes_pars_fragment:Li,clipping_planes_pars_vertex:Ri,clipping_planes_vertex:Ii,color_fragment:Di,color_pars_fragment:Ni,color_pars_vertex:Ui,color_vertex:Bi,common:ji,cube_uv_reflection_fragment:Fi,defaultnormal_vertex:zi,displacementmap_pars_vertex:Vi,displacementmap_vertex:Hi,emissivemap_fragment:Gi,emissivemap_pars_fragment:Wi,encodings_fragment:$i,encodings_pars_fragment:qi,envmap_fragment:Xi,envmap_pars_fragment:Yi,envmap_pars_vertex:Ji,envmap_physical_pars_fragment:sr,envmap_vertex:Zi,fog_vertex:Ki,fog_pars_vertex:Qi,fog_fragment:tr,fog_pars_fragment:er,gradientmap_pars_fragment:nr,lightmap_fragment:ir,lightmap_pars_fragment:rr,lights_lambert_vertex:ar,lights_pars_begin:or,lights_phong_fragment:ur,lights_phong_pars_fragment:lr,lights_physical_fragment:cr,lights_physical_pars_fragment:hr,lights_fragment_begin:dr,lights_fragment_maps:pr,lights_fragment_end:fr,logdepthbuf_fragment:mr,logdepthbuf_pars_fragment:gr,logdepthbuf_pars_vertex:vr,logdepthbuf_vertex:yr,map_fragment:_r,map_pars_fragment:br,map_particle_fragment:wr,map_particle_pars_fragment:xr,metalnessmap_fragment:Tr,metalnessmap_pars_fragment:Sr,morphnormal_vertex:Er,morphtarget_pars_vertex:Mr,morphtarget_vertex:Cr,normal_fragment_begin:Ar,normal_fragment_maps:kr,normalmap_pars_fragment:Pr,packing:Or,premultiplied_alpha_fragment:Lr,project_vertex:Rr,dithering_fragment:Ir,dithering_pars_fragment:Dr,roughnessmap_fragment:Nr,roughnessmap_pars_fragment:Ur,shadowmap_pars_fragment:Br,shadowmap_pars_vertex:jr,shadowmap_vertex:Fr,shadowmask_pars_fragment:zr,skinbase_vertex:Vr,skinning_pars_vertex:Hr,skinning_vertex:Gr,skinnormal_vertex:Wr,specularmap_fragment:$r,specularmap_pars_fragment:qr,tonemapping_fragment:Xr,tonemapping_pars_fragment:Yr,uv_pars_fragment:Jr,uv_pars_vertex:Zr,uv_vertex:Kr,uv2_pars_fragment:Qr,uv2_pars_vertex:ta,uv2_vertex:ea,worldpos_vertex:na,background_frag:ia,background_vert:ra,cube_frag:aa,cube_vert:oa,depth_frag:sa,depth_vert:ua,distanceRGBA_frag:la,distanceRGBA_vert:ca,equirect_frag:ha,equirect_vert:da,linedashed_frag:pa,linedashed_vert:fa,meshbasic_frag:ma,meshbasic_vert:ga,meshlambert_frag:va,meshlambert_vert:ya,meshmatcap_frag:_a,meshmatcap_vert:ba,meshphong_frag:wa,meshphong_vert:xa,meshphysical_frag:Ta,meshphysical_vert:Sa,normal_frag:Ea,normal_vert:Ma,points_frag:Ca,points_vert:Aa,shadow_frag:ka,shadow_vert:Pa,sprite_frag:Oa,sprite_vert:La},Ia={common:{diffuse:{value:new In(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new pn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new cn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new In(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new In(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new pn}},sprite:{diffuse:{value:new In(15658734)},opacity:{value:1},center:{value:new cn(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new pn}}},Da={basic:{uniforms:ui([Ia.common,Ia.specularmap,Ia.envmap,Ia.aomap,Ia.lightmap,Ia.fog]),vertexShader:Ra.meshbasic_vert,fragmentShader:Ra.meshbasic_frag},lambert:{uniforms:ui([Ia.common,Ia.specularmap,Ia.envmap,Ia.aomap,Ia.lightmap,Ia.emissivemap,Ia.fog,Ia.lights,{emissive:{value:new In(0)}}]),vertexShader:Ra.meshlambert_vert,fragmentShader:Ra.meshlambert_frag},phong:{uniforms:ui([Ia.common,Ia.specularmap,Ia.envmap,Ia.aomap,Ia.lightmap,Ia.emissivemap,Ia.bumpmap,Ia.normalmap,Ia.displacementmap,Ia.gradientmap,Ia.fog,Ia.lights,{emissive:{value:new In(0)},specular:{value:new In(1118481)},shininess:{value:30}}]),vertexShader:Ra.meshphong_vert,fragmentShader:Ra.meshphong_frag},standard:{uniforms:ui([Ia.common,Ia.envmap,Ia.aomap,Ia.lightmap,Ia.emissivemap,Ia.bumpmap,Ia.normalmap,Ia.displacementmap,Ia.roughnessmap,Ia.metalnessmap,Ia.fog,Ia.lights,{emissive:{value:new In(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Ra.meshphysical_vert,fragmentShader:Ra.meshphysical_frag},matcap:{uniforms:ui([Ia.common,Ia.bumpmap,Ia.normalmap,Ia.displacementmap,Ia.fog,{matcap:{value:null}}]),vertexShader:Ra.meshmatcap_vert,fragmentShader:Ra.meshmatcap_frag},points:{uniforms:ui([Ia.points,Ia.fog]),vertexShader:Ra.points_vert,fragmentShader:Ra.points_frag},dashed:{uniforms:ui([Ia.common,Ia.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ra.linedashed_vert,fragmentShader:Ra.linedashed_frag},depth:{uniforms:ui([Ia.common,Ia.displacementmap]),vertexShader:Ra.depth_vert,fragmentShader:Ra.depth_frag},normal:{uniforms:ui([Ia.common,Ia.bumpmap,Ia.normalmap,Ia.displacementmap,{opacity:{value:1}}]),vertexShader:Ra.normal_vert,fragmentShader:Ra.normal_frag},sprite:{uniforms:ui([Ia.sprite,Ia.fog]),vertexShader:Ra.sprite_vert,fragmentShader:Ra.sprite_frag},background:{uniforms:{uvTransform:{value:new pn},t2D:{value:null}},vertexShader:Ra.background_vert,fragmentShader:Ra.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ra.cube_vert,fragmentShader:Ra.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ra.equirect_vert,fragmentShader:Ra.equirect_frag},distanceRGBA:{uniforms:ui([Ia.common,Ia.displacementmap,{referencePosition:{value:new dn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ra.distanceRGBA_vert,fragmentShader:Ra.distanceRGBA_frag},shadow:{uniforms:ui([Ia.lights,Ia.fog,{color:{value:new In(0)},opacity:{value:1}}]),vertexShader:Ra.shadow_vert,fragmentShader:Ra.shadow_frag}};function Na(){var t=null,e=!1,n=null;function i(r,a){!1!==e&&(n(r,a),t.requestAnimationFrame(i))}return{start:function(){!0!==e&&null!==n&&(t.requestAnimationFrame(i),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Ua(t){var e=new WeakMap;function n(e,n){var i=e.array,r=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(n,a),t.bufferData(n,i,r),e.onUploadCallback();var o=5126;return i instanceof Float32Array?o=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=5123:i instanceof Int16Array?o=5122:i instanceof Uint32Array?o=5125:i instanceof Int32Array?o=5124:i instanceof Int8Array?o=5120:i instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}function i(e,n,i){var r=n.array,a=n.updateRange;t.bindBuffer(i,e),!1===n.dynamic?t.bufferData(i,r,35044):-1===a.count?t.bufferSubData(i,0,r):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(i,a.offset*r.BYTES_PER_ELEMENT,r.subarray(a.offset,a.offset+a.count)),a.count=-1)}function r(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)}function a(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=e.get(n);i&&(t.deleteBuffer(i.buffer),e.delete(n))}function o(t,r){t.isInterleavedBufferAttribute&&(t=t.data);var a=e.get(t);void 0===a?e.set(t,n(t,r)):a.version<t.version&&(i(a.buffer,t,r),a.version=t.version)}return{get:r,remove:a,update:o}}function Ba(t,e,n,i){ri.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new ja(t,e,n,i)),this.mergeVertices()}function ja(t,e,n,i){ei.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},t=t||1,e=e||1;var r,a,o=t/2,s=e/2,u=Math.floor(n)||1,l=Math.floor(i)||1,c=u+1,h=l+1,d=t/u,p=e/l,f=[],m=[],g=[],v=[];for(a=0;a<h;a++){var y=a*p-s;for(r=0;r<c;r++){var _=r*d-o;m.push(_,-y,0),g.push(0,0,1),v.push(r/u),v.push(1-a/l)}}for(a=0;a<l;a++)for(r=0;r<u;r++){var b=r+c*a,w=r+c*(a+1),x=r+1+c*(a+1),T=r+1+c*a;f.push(b,w,T),f.push(w,x,T)}this.setIndex(f),this.addAttribute("position",new Jn(m,3)),this.addAttribute("normal",new Jn(g,3)),this.addAttribute("uv",new Jn(v,2))}function Fa(t,e,n,i){var r,a,o=new In(0),s=0,u=null,l=0;function c(e,i,c,d){var p=i.background,f=t.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(p=null),null===p?(h(o,s),u=null,l=0):p&&p.isColor&&(h(p,1),d=!0,u=null,l=0),(t.autoClear||d)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===a&&(a=new ni(new oi(1,1,1),new di({type:"BackgroundCubeMaterial",uniforms:si(Da.cube.uniforms),vertexShader:Da.cube.vertexShader,fragmentShader:Da.cube.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var g=p.isWebGLRenderTargetCube?p.texture:p;a.material.uniforms.tCube.value=g,a.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,u===p&&l===g.version||(a.material.needsUpdate=!0,u=p,l=g.version),e.unshift(a,a.geometry,a.material,0,0,null)}else p&&p.isTexture&&(void 0===r&&(r=new ni(new ja(2,2),new di({type:"BackgroundMaterial",uniforms:si(Da.background.uniforms),vertexShader:Da.background.vertexShader,fragmentShader:Da.background.fragmentShader,side:y,depthTest:!1,depthWrite:!1,fog:!1})),r.geometry.removeAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(r)),r.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),r.material.uniforms.uvTransform.value.copy(p.matrix),u===p&&l===p.version||(r.material.needsUpdate=!0,u=p,l=p.version),e.unshift(r,r.geometry,r.material,0,0,null))}function h(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,i)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),s=void 0!==e?e:1,h(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(t){s=t,h(o,s)},render:c}}function za(t,e,n,i){var r;function a(t){r=t}function o(e,i){t.drawArrays(r,e,i),n.update(i,r)}function s(a,o,s){var u;if(i.isWebGL2)u=t;else if(u=e.get("ANGLE_instanced_arrays"),null===u)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[i.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](r,o,s,a.maxInstancedCount),n.update(s,r,a.maxInstancedCount)}this.setMode=a,this.render=o,this.renderInstances=s}function Va(t,e,n){var i;function r(){if(void 0!==i)return i;var n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i}function a(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,s=void 0!==n.precision?n.precision:"highp",u=a(s);u!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",u,"instead."),s=u);var l=!0===n.logarithmicDepthBuffer,c=t.getParameter(34930),h=t.getParameter(35660),d=t.getParameter(3379),p=t.getParameter(34076),f=t.getParameter(34921),m=t.getParameter(36347),g=t.getParameter(36348),v=t.getParameter(36349),y=h>0,_=o||!!e.get("OES_texture_float"),b=y&&_,w=o?t.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:r,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:b,maxSamples:w}}function Ha(){var t=this,e=null,n=0,i=!1,r=!1,a=new bi,o=new pn,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function l(e,n,i,r){var u=null!==e?e.length:0,l=null;if(0!==u){if(l=s.value,!0!==r||null===l){var c=i+4*u,h=n.matrixWorldInverse;o.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,p=i;d!==u;++d,p+=4)a.copy(e[d]).applyMatrix4(h,o),a.normal.toArray(l,p),l[p+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,r,a){var o=0!==t.length||r||0!==n||i;return i=r,e=l(t,a,0),n=t.length,o},this.beginShadows=function(){r=!0,l(null)},this.endShadows=function(){r=!1,u()},this.setState=function(t,a,o,c,h,d){if(!i||null===t||0===t.length||r&&!o)r?l(null):u();else{var p=r?0:n,f=4*p,m=h.clippingState||null;s.value=m,m=l(t,c,f,d);for(var g=0;g!==f;++g)m[g]=e[g];h.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}}function Ga(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=i,i}}}function Wa(t,e,n){var i={},r={};function a(t){var o=t.target,s=i[o.id];for(var u in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[u]);o.removeEventListener("dispose",a),delete i[o.id];var l=r[s.id];l&&(e.remove(l),delete r[s.id]),n.memory.geometries--}function o(t,e){var r=i[e.id];return r||(e.addEventListener("dispose",a),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new ei).setFromObject(t)),r=e._bufferGeometry),i[e.id]=r,n.memory.geometries++,r)}function s(t){var n=t.index,i=t.attributes;for(var r in null!==n&&e.update(n,34963),i)e.update(i[r],34962);var a=t.morphAttributes;for(var r in a)for(var o=a[r],s=0,u=o.length;s<u;s++)e.update(o[s],34962)}function u(t){var n=[],i=t.index,a=t.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],d=s[u+2];n.push(c,h,h,d,d,c)}}else{s=a.array;o=a.version;for(u=0,l=s.length/3-1;u<l;u+=3){c=u+0,h=u+1,d=u+2;n.push(c,h,h,d,d,c)}}var p=new(Qn(n)>65535?Yn:qn)(n,1);p.version=o,e.update(p,34963);var f=r[t.id];f&&e.remove(f),r[t.id]=p}function l(t){var e=r[t.id];if(e){var n=t.index;null!==n&&e.version<n.version&&u(t)}else u(t);return r[t.id]}return{get:o,update:s,getWireframeAttribute:l}}function $a(t,e,n,i){var r,a,o;function s(t){r=t}function u(t){a=t.type,o=t.bytesPerElement}function l(e,i){t.drawElements(r,i,a,e*o),n.update(i,r)}function c(s,u,l){if(i.isWebGL2)c=t;else{var c=e.get("ANGLE_instanced_arrays");if(null===c)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}c[i.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](r,l,a,u*o,s.maxInstancedCount),n.update(l,r,s.maxInstancedCount)}this.setMode=s,this.setIndex=u,this.render=l,this.renderInstances=c}function qa(t){var e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(t,e,i){switch(i=i||1,n.calls++,e){case 4:n.triangles+=i*(t/3);break;case 5:case 6:n.triangles+=i*(t-2);break;case 1:n.lines+=i*(t/2);break;case 3:n.lines+=i*(t-1);break;case 2:n.lines+=i*t;break;case 0:n.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function Xa(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Ya(t){var e={},n=new Float32Array(8);function i(i,r,a,o){var s=i.morphTargetInfluences,u=s.length,l=e[r.id];if(void 0===l){l=[];for(var c=0;c<u;c++)l[c]=[c,0];e[r.id]=l}var h=a.morphTargets&&r.morphAttributes.position,d=a.morphNormals&&r.morphAttributes.normal;for(c=0;c<u;c++){var p=l[c];0!==p[1]&&(h&&r.removeAttribute("morphTarget"+c),d&&r.removeAttribute("morphNormal"+c))}for(c=0;c<u;c++){p=l[c];p[0]=c,p[1]=s[c]}l.sort(Xa);for(c=0;c<8;c++){p=l[c];if(p){var f=p[0],m=p[1];if(m){h&&r.addAttribute("morphTarget"+c,h[f]),d&&r.addAttribute("morphNormal"+c,d[f]),n[c]=m;continue}}n[c]=0}o.getUniforms().setValue(t,"morphTargetInfluences",n)}return{update:i}}function Ja(t,e){var n={};function i(i){var r=e.render.frame,a=i.geometry,o=t.get(i,a);return n[o.id]!==r&&(a.isGeometry&&o.updateFromObject(i),t.update(o),n[o.id]=r),o}function r(){n={}}return{update:i,dispose:r}}function Za(t,e,n,i,r,a,o,s,u,l){t=void 0!==t?t:[],e=void 0!==e?e:dt,o=void 0!==o?o:Wt,yn.call(this,t,e,n,i,r,a,o,s,u,l),this.flipY=!1}function Ka(t,e,n,i){yn.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=xt,this.minFilter=xt,this.wrapR=bt,this.generateMipmaps=!1,this.flipY=!1}function Qa(t,e,n,i){yn.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=xt,this.minFilter=xt,this.wrapR=bt,this.generateMipmaps=!1,this.flipY=!1}Da.physical={uniforms:ui([Da.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Ra.meshphysical_vert,fragmentShader:Ra.meshphysical_frag},Ba.prototype=Object.create(ri.prototype),Ba.prototype.constructor=Ba,ja.prototype=Object.create(ei.prototype),ja.prototype.constructor=ja,Za.prototype=Object.create(yn.prototype),Za.prototype.constructor=Za,Za.prototype.isCubeTexture=!0,Object.defineProperty(Za.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Ka.prototype=Object.create(yn.prototype),Ka.prototype.constructor=Ka,Ka.prototype.isDataTexture2DArray=!0,Qa.prototype=Object.create(yn.prototype),Qa.prototype.constructor=Qa,Qa.prototype.isDataTexture3D=!0;var to=new yn,eo=new Ka,no=new Qa,io=new Za,ro=[],ao=[],oo=new Float32Array(16),so=new Float32Array(9),uo=new Float32Array(4);function lo(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,a=ro[r];if(void 0===a&&(a=new Float32Array(r),ro[r]=a),0!==e){i.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function co(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function ho(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function po(t,e){var n=ao[e];void 0===n&&(n=new Int32Array(e),ao[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function fo(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function mo(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(co(n,e))return;t.uniform2fv(this.addr,e),ho(n,e)}}function go(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(co(n,e))return;t.uniform3fv(this.addr,e),ho(n,e)}}function vo(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(co(n,e))return;t.uniform4fv(this.addr,e),ho(n,e)}}function yo(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(co(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ho(n,e)}else{if(co(n,i))return;uo.set(i),t.uniformMatrix2fv(this.addr,!1,uo),ho(n,i)}}function _o(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(co(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ho(n,e)}else{if(co(n,i))return;so.set(i),t.uniformMatrix3fv(this.addr,!1,so),ho(n,i)}}function bo(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(co(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ho(n,e)}else{if(co(n,i))return;oo.set(i),t.uniformMatrix4fv(this.addr,!1,oo),ho(n,i)}}function wo(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||to,r)}function xo(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||eo,r)}function To(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||no,r)}function So(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||io,r)}function Eo(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Mo(t,e){var n=this.cache;co(n,e)||(t.uniform2iv(this.addr,e),ho(n,e))}function Co(t,e){var n=this.cache;co(n,e)||(t.uniform3iv(this.addr,e),ho(n,e))}function Ao(t,e){var n=this.cache;co(n,e)||(t.uniform4iv(this.addr,e),ho(n,e))}function ko(t){switch(t){case 5126:return fo;case 35664:return mo;case 35665:return go;case 35666:return vo;case 35674:return yo;case 35675:return _o;case 35676:return bo;case 35678:case 36198:return wo;case 35679:return To;case 35680:return So;case 36289:return xo;case 5124:case 35670:return Eo;case 35667:case 35671:return Mo;case 35668:case 35672:return Co;case 35669:case 35673:return Ao}}function Po(t,e){t.uniform1fv(this.addr,e)}function Oo(t,e){t.uniform1iv(this.addr,e)}function Lo(t,e){t.uniform2iv(this.addr,e)}function Ro(t,e){t.uniform3iv(this.addr,e)}function Io(t,e){t.uniform4iv(this.addr,e)}function Do(t,e){var n=lo(e,this.size,2);t.uniform2fv(this.addr,n)}function No(t,e){var n=lo(e,this.size,3);t.uniform3fv(this.addr,n)}function Uo(t,e){var n=lo(e,this.size,4);t.uniform4fv(this.addr,n)}function Bo(t,e){var n=lo(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function jo(t,e){var n=lo(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Fo(t,e){var n=lo(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function zo(t,e,n){var i=e.length,r=po(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTexture2D(e[a]||to,r[a])}function Vo(t,e,n){var i=e.length,r=po(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTextureCube(e[a]||io,r[a])}function Ho(t){switch(t){case 5126:return Po;case 35664:return Do;case 35665:return No;case 35666:return Uo;case 35674:return Bo;case 35675:return jo;case 35676:return Fo;case 35678:return zo;case 35680:return Vo;case 5124:case 35670:return Oo;case 35667:case 35671:return Lo;case 35668:case 35672:return Ro;case 35669:case 35673:return Io}}function Go(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=ko(e.type)}function Wo(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=Ho(e.type)}function $o(t){this.id=t,this.seq=[],this.map={}}Wo.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),ho(e,t)},$o.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(t,e[o.id],n)}};var qo=/([\w\d_]+)(\])?(\[|\.)?/g;function Xo(t,e){t.seq.push(e),t.map[e.id]=e}function Yo(t,e,n){var i=t.name,r=i.length;qo.lastIndex=0;while(1){var a=qo.exec(i),o=qo.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===r){Xo(n,void 0===l?new Go(s,t,e):new Wo(s,t,e));break}var c=n.map,h=c[s];void 0===h&&(h=new $o(s),Xo(n,h)),n=h}}function Jo(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),i=0;i<n;++i){var r=t.getActiveUniform(e,i),a=t.getUniformLocation(e,r.name);Yo(r,a,this)}}function Zo(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}Jo.prototype.setValue=function(t,e,n,i){var r=this.map[e];void 0!==r&&r.setValue(t,n,i)},Jo.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},Jo.upload=function(t,e,n,i){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},Jo.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var a=t[i];a.id in e&&n.push(a)}return n};var Ko=0;function Qo(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function ts(t){switch(t){case Ie:return["Linear","( value )"];case De:return["sRGB","( value )"];case Ue:return["RGBE","( value )"];case je:return["RGBM","( value, 7.0 )"];case Fe:return["RGBM","( value, 16.0 )"];case ze:return["RGBD","( value, 256.0 )"];case Ne:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function es(t,e,n){var i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(i&&""===r)return"";var a=t.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+Qo(a)}function ns(t,e){var n=ts(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function is(t,e){var n=ts(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function rs(t,e){var n;switch(e){case ot:n="Linear";break;case st:n="Reinhard";break;case ut:n="Uncharted2";break;case lt:n="OptimizedCineon";break;case ct:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function as(t,e,n){t=t||{};var i=[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return i.filter(us).join("\n")}function os(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}function ss(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var a=t.getActiveAttrib(e,r),o=a.name;n[o]=t.getAttribLocation(e,o)}return n}function us(t){return""!==t}function ls(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function cs(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function hs(t){var e=/^[ \t]*#include +<([\w\d.\/]+)>/gm;function n(t,e){var n=Ra[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return hs(n)}return t.replace(e,n)}function ds(t){var e=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function n(t,e,n,i){for(var r="",a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[ i \]/g,"[ "+a+" ]");return r}return t.replace(e,n)}function ps(t,e,n,i,r,a,o){var s=t.getContext(),u=i.defines,l=r.vertexShader,c=r.fragmentShader,h="SHADOWMAP_TYPE_BASIC";a.shadowMapType===g?h="SHADOWMAP_TYPE_PCF":a.shadowMapType===v&&(h="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(i.envMap.mapping){case dt:case pt:d="ENVMAP_TYPE_CUBE";break;case vt:case yt:d="ENVMAP_TYPE_CUBE_UV";break;case ft:case mt:d="ENVMAP_TYPE_EQUIREC";break;case gt:d="ENVMAP_TYPE_SPHERE";break}switch(i.envMap.mapping){case pt:case mt:p="ENVMAP_MODE_REFRACTION";break}switch(i.combine){case nt:f="ENVMAP_BLENDING_MULTIPLY";break;case it:f="ENVMAP_BLENDING_MIX";break;case rt:f="ENVMAP_BLENDING_ADD";break}}var m,y,_=t.gammaFactor>0?t.gammaFactor:1,b=o.isWebGL2?"":as(i.extensions,a,e),w=os(u),x=s.createProgram();if(i.isRawShaderMaterial?(m=[w].filter(us).join("\n"),m.length>0&&(m+="\n"),y=[b,w].filter(us).join("\n"),y.length>0&&(y+="\n")):(m=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,w,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+_,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+h:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(us).join("\n"),y=[b,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,w,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+_,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+p:"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+h:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==at?"#define TONE_MAPPING":"",a.toneMapping!==at?Ra["tonemapping_pars_fragment"]:"",a.toneMapping!==at?rs("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Ra["encodings_pars_fragment"]:"",a.mapEncoding?ns("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?ns("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?ns("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?ns("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?is("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(us).join("\n")),l=hs(l),l=ls(l,a),l=cs(l,a),c=hs(c),c=ls(c,a),c=cs(c,a),l=ds(l),c=ds(c),o.isWebGL2&&!i.isRawShaderMaterial){var T=!1,S=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==l.match(S)&&null!==c.match(S)&&(T=!0,l=l.replace(S,""),c=c.replace(S,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,y=["#version 300 es\n","#define varying in",T?"":"out highp vec4 pc_fragColor;",T?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var E,M,C=m+l,A=y+c,k=Zo(s,35633,C),P=Zo(s,35632,A);if(s.attachShader(x,k),s.attachShader(x,P),void 0!==i.index0AttributeName?s.bindAttribLocation(x,0,i.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(x,0,"position"),s.linkProgram(x),t.debug.checkShaderErrors){var O=s.getProgramInfoLog(x).trim(),L=s.getShaderInfoLog(k).trim(),R=s.getShaderInfoLog(P).trim(),I=!0,D=!0;if(!1===s.getProgramParameter(x,35714)){I=!1;var N=es(s,k,"vertex"),U=es(s,P,"fragment");console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(x,35715),"gl.getProgramInfoLog",O,N,U)}else""!==O?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",O):""!==L&&""!==R||(D=!1);D&&(this.diagnostics={runnable:I,material:i,programLog:O,vertexShader:{log:L,prefix:m},fragmentShader:{log:R,prefix:y}})}return s.deleteShader(k),s.deleteShader(P),this.getUniforms=function(){return void 0===E&&(E=new Jo(s,x)),E},this.getAttributes=function(){return void 0===M&&(M=ss(s,x)),M},this.destroy=function(){s.deleteProgram(x),this.program=void 0},this.name=r.name,this.id=Ko++,this.code=n,this.usedTimes=1,this.program=x,this.vertexShader=k,this.fragmentShader=P,this}function fs(t,e,n){var i=[],r={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function o(t){var e=t.skeleton,i=e.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,a=Math.floor((r-20)/4),o=Math.min(a,i.length);return o<i.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+i.length+" bones. This GPU supports "+o+"."),0):o}function s(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Ie,n===Ie&&e&&(n=Ne),n}this.getParameters=function(e,i,a,u,l,c,h){var d=r[e.type],p=h.isSkinnedMesh?o(h):0,f=n.precision;null!==e.precision&&(f=n.getMaxPrecision(e.precision),f!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",f,"instead."));var m=t.getRenderTarget(),g={shaderID:d,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:s(m?m.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:s(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:s(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:s(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===vt||e.envMap.mapping===yt),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:s(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===We,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!u,useFog:e.fog,fogExp:u&&u.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&a.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===b,flipSided:e.side===_,depthPacking:void 0!==e.depthPacking&&e.depthPacking};return g},this.getProgramCode=function(e,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)i.push(r),i.push(e.defines[r]);for(var o=0;o<a.length;o++)i.push(n[a[o]]);return i.push(e.onBeforeCompile.toString()),i.push(t.gammaOutput),i.push(t.gammaFactor),i.join()},this.acquireProgram=function(r,a,o,s){for(var u,l=0,c=i.length;l<c;l++){var h=i[l];if(h.code===s){u=h,++u.usedTimes;break}}return void 0===u&&(u=new ps(t,e,s,r,a,o,n),i.push(u)),u},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function ms(){var t=new WeakMap;function e(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n}function n(e){t.delete(e)}function i(e,n,i){t.get(e)[n]=i}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function gs(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function vs(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ys(){var t=[],e=0,n=[],i=[],r={id:-1};function a(){e=0,n.length=0,i.length=0}function o(n,i,a,o,s,u){var l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:i,material:a,program:a.program||r,groupOrder:o,renderOrder:n.renderOrder,z:s,group:u},t[e]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=a,l.program=a.program||r,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=u),e++,l}function s(t,e,r,a,s,u){var l=o(t,e,r,a,s,u);(!0===r.transparent?i:n).push(l)}function u(t,e,r,a,s,u){var l=o(t,e,r,a,s,u);(!0===r.transparent?i:n).unshift(l)}function l(){n.length>1&&n.sort(gs),i.length>1&&i.sort(vs)}return{opaque:n,transparent:i,init:a,push:s,unshift:u,sort:l}}function _s(){var t={};function e(n){var i=n.target;i.removeEventListener("dispose",e),delete t[i.id]}function n(n,i){var r,a=t[n.id];return void 0===a?(r=new ys,t[n.id]={},t[n.id][i.id]=r,n.addEventListener("dispose",e)):(r=a[i.id],void 0===r&&(r=new ys,a[i.id]=r)),r}function i(){t={}}return{get:n,dispose:i}}function bs(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new dn,color:new In,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new cn};break;case"SpotLight":n={position:new dn,direction:new dn,color:new In,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new cn};break;case"PointLight":n={position:new dn,color:new In,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new cn,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new dn,skyColor:new In,groundColor:new In};break;case"RectAreaLight":n={color:new In,position:new dn,halfWidth:new dn,halfHeight:new dn};break}return t[e.id]=n,n}}}var ws=0;function xs(){for(var t=new bs,e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=0;n<9;n++)e.probe.push(new dn);var i=new dn,r=new xn,a=new xn;function o(n,o,s){for(var u=0,l=0,c=0,h=0;h<9;h++)e.probe[h].set(0,0,0);for(var d=0,p=0,f=0,m=0,g=0,v=s.matrixWorldInverse,y=(h=0,n.length);h<y;h++){var _=n[h],b=_.color,w=_.intensity,x=_.distance,T=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)u+=b.r*w,l+=b.g*w,c+=b.b*w;else if(_.isLightProbe)for(var S=0;S<9;S++)e.probe[S].addScaledVector(_.sh.coefficients[S],w);else if(_.isDirectionalLight){var E=t.get(_);if(E.color.copy(_.color).multiplyScalar(_.intensity),E.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(v),E.shadow=_.castShadow,_.castShadow){var M=_.shadow;E.shadowBias=M.bias,E.shadowRadius=M.radius,E.shadowMapSize=M.mapSize}e.directionalShadowMap[d]=T,e.directionalShadowMatrix[d]=_.shadow.matrix,e.directional[d]=E,d++}else if(_.isSpotLight){E=t.get(_);if(E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),E.color.copy(b).multiplyScalar(w),E.distance=x,E.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(v),E.coneCos=Math.cos(_.angle),E.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),E.decay=_.decay,E.shadow=_.castShadow,_.castShadow){M=_.shadow;E.shadowBias=M.bias,E.shadowRadius=M.radius,E.shadowMapSize=M.mapSize}e.spotShadowMap[f]=T,e.spotShadowMatrix[f]=_.shadow.matrix,e.spot[f]=E,f++}else if(_.isRectAreaLight){E=t.get(_);E.color.copy(b).multiplyScalar(w),E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),a.identity(),r.copy(_.matrixWorld),r.premultiply(v),a.extractRotation(r),E.halfWidth.set(.5*_.width,0,0),E.halfHeight.set(0,.5*_.height,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),e.rectArea[m]=E,m++}else if(_.isPointLight){E=t.get(_);if(E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),E.color.copy(_.color).multiplyScalar(_.intensity),E.distance=_.distance,E.decay=_.decay,E.shadow=_.castShadow,_.castShadow){M=_.shadow;E.shadowBias=M.bias,E.shadowRadius=M.radius,E.shadowMapSize=M.mapSize,E.shadowCameraNear=M.camera.near,E.shadowCameraFar=M.camera.far}e.pointShadowMap[p]=T,e.pointShadowMatrix[p]=_.shadow.matrix,e.point[p]=E,p++}else if(_.isHemisphereLight){E=t.get(_);E.direction.setFromMatrixPosition(_.matrixWorld),E.direction.transformDirection(v),E.direction.normalize(),E.skyColor.copy(_.color).multiplyScalar(w),E.groundColor.copy(_.groundColor).multiplyScalar(w),e.hemi[g]=E,g++}}e.ambient[0]=u,e.ambient[1]=l,e.ambient[2]=c;var C=e.hash;C.directionalLength===d&&C.pointLength===p&&C.spotLength===f&&C.rectAreaLength===m&&C.hemiLength===g&&C.shadowsLength===o.length||(e.directional.length=d,e.spot.length=f,e.rectArea.length=m,e.point.length=p,e.hemi.length=g,C.directionalLength=d,C.pointLength=p,C.spotLength=f,C.rectAreaLength=m,C.hemiLength=g,C.shadowsLength=o.length,e.version=ws++)}return{setup:o,state:e}}function Ts(){var t=new xs,e=[],n=[];function i(){e.length=0,n.length=0}function r(t){e.push(t)}function a(t){n.push(t)}function o(i){t.setup(e,n,i)}var s={lightsArray:e,shadowsArray:n,lights:t};return{init:i,state:s,setupLights:o,pushLight:r,pushShadow:a}}function Ss(){var t={};function e(n){var i=n.target;i.removeEventListener("dispose",e),delete t[i.id]}function n(n,i){var r;return void 0===t[n.id]?(r=new Ts,t[n.id]={},t[n.id][i.id]=r,n.addEventListener("dispose",e)):void 0===t[n.id][i.id]?(r=new Ts,t[n.id][i.id]=r):r=t[n.id][i.id],r}function i(){t={}}return{get:n,dispose:i}}function Es(t){Fn.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ve,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Ms(t){Fn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new dn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Cs(t,e,n){for(var i=new wi,r=new xn,a=new cn,o=new cn(n,n),s=new dn,u=new dn,l=1,c=2,h=1+(l|c),d=new Array(h),p=new Array(h),f={},m={0:_,1:y,2:b},v=[new dn(1,0,0),new dn(-1,0,0),new dn(0,0,1),new dn(0,0,-1),new dn(0,1,0),new dn(0,-1,0)],w=[new dn(0,1,0),new dn(0,1,0),new dn(0,1,0),new dn(0,1,0),new dn(0,0,1),new dn(0,0,-1)],x=[new _n,new _n,new _n,new _n,new _n,new _n],T=0;T!==h;++T){var S=0!==(T&l),E=0!==(T&c),C=new Es({depthPacking:He,morphTargets:S,skinning:E});d[T]=C;var A=new Ms({morphTargets:S,skinning:E});p[T]=A}var k=this;function P(e,n,i,r,a,o){var s=e.geometry,u=null,h=d,g=e.customDepthMaterial;if(i&&(h=p,g=e.customDistanceMaterial),g)u=g;else{var v=!1;n.morphTargets&&(s&&s.isBufferGeometry?v=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(v=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var y=e.isSkinnedMesh&&n.skinning,_=0;v&&(_|=l),y&&(_|=c),u=h[_]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var b=u.uuid,w=n.uuid,x=f[b];void 0===x&&(x={},f[b]=x);var T=x[w];void 0===T&&(T=u.clone(),x[w]=T),u=T}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=null!=n.shadowSide?n.shadowSide:m[n.side],u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,i&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(r),u.nearDistance=a,u.farDistance=o),u}function O(n,r,a,o){if(!1!==n.visible){var s=n.layers.test(r.layers);if(s&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=e.update(n),c=n.material;if(Array.isArray(c))for(var h=l.groups,d=0,p=h.length;d<p;d++){var f=h[d],m=c[f.materialIndex];if(m&&m.visible){var g=P(n,m,o,u,a.near,a.far);t.renderBufferDirect(a,null,l,g,n,f)}}else if(c.visible){g=P(n,c,o,u,a.near,a.far);t.renderBufferDirect(a,null,l,g,n,null)}}for(var v=n.children,y=0,_=v.length;y<_;y++)O(v[y],r,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=g,this.render=function(e,n,l){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==e.length){var c,h=t.getRenderTarget(),d=t.getActiveCubeFace(),p=t.getActiveMipmapLevel(),f=t.state;f.setBlending(M),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var m=0,g=e.length;m<g;m++){var y=e[m],_=y.shadow,b=y&&y.isPointLight;if(void 0!==_){var T=_.camera;if(a.copy(_.mapSize),a.min(o),b){var S=a.x,E=a.y;x[0].set(2*S,E,S,E),x[1].set(0,E,S,E),x[2].set(3*S,E,S,E),x[3].set(S,E,S,E),x[4].set(3*S,0,S,E),x[5].set(S,0,S,E),a.x*=4,a.y*=2}if(null===_.map){var C={minFilter:xt,magFilter:xt,format:$t};_.map=new bn(a.x,a.y,C),_.map.texture.name=y.name+".shadowMap",T.updateProjectionMatrix()}_.isSpotLightShadow&&_.update(y);var A=_.map,P=_.matrix;u.setFromMatrixPosition(y.matrixWorld),T.position.copy(u),b?(c=6,P.makeTranslation(-u.x,-u.y,-u.z)):(c=1,s.setFromMatrixPosition(y.target.matrixWorld),T.lookAt(s),T.updateMatrixWorld(),P.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),P.multiply(T.projectionMatrix),P.multiply(T.matrixWorldInverse)),t.setRenderTarget(A),t.clear();for(var L=0;L<c;L++){if(b){s.copy(T.position),s.add(v[L]),T.up.copy(w[L]),T.lookAt(s),T.updateMatrixWorld();var R=x[L];f.viewport(R)}r.multiplyMatrices(T.projectionMatrix,T.matrixWorldInverse),i.setFromMatrix(r),O(n,l,T,b)}}else console.warn("THREE.WebGLShadowMap:",y,"has no shadow.")}k.needsUpdate=!1,t.setRenderTarget(h,d,p)}}}function As(t,e,n,i){function r(){var e=!1,n=new _n,i=null,r=new _n(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,a,o,s){!0===s&&(e*=o,i*=o,a*=o),n.set(e,i,a,o),!1===r.equals(n)&&(t.clearColor(e,i,a,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}}function a(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?ht(2929):dt(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case X:t.depthFunc(512);break;case Y:t.depthFunc(519);break;case J:t.depthFunc(513);break;case Z:t.depthFunc(515);break;case K:t.depthFunc(514);break;case Q:t.depthFunc(518);break;case tt:t.depthFunc(516);break;case et:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}}function o(){var e=!1,n=null,i=null,r=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(t){t?ht(2960):dt(2960)},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,o){i===e&&r===n&&a===o||(t.stencilFunc(e,n,o),i=e,r=n,a=o)},setOp:function(e,n,i){o===e&&s===n&&u===i||(t.stencilOp(e,n,i),o=e,s=n,u=i)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,i=null,r=null,a=null,o=null,s=null,u=null,l=null}}}var s=new r,u=new a,d=new o,p=t.getParameter(34921),f=new Uint8Array(p),m=new Uint8Array(p),g=new Uint8Array(p),v={},y=null,w=null,x=null,T=null,S=null,E=null,R=null,I=null,D=null,N=null,U=!1,B=null,j=null,F=null,z=null,V=null,H=t.getParameter(35661),G=!1,W=0,$=t.getParameter(7938);-1!==$.indexOf("WebGL")?(W=parseFloat(/^WebGL\ ([0-9])/.exec($)[1]),G=W>=1):-1!==$.indexOf("OpenGL ES")&&(W=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec($)[1]),G=W>=2);var q=null,nt={},it=new _n,rt=new _n;function at(e,n,i){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var ot={};function st(){for(var t=0,e=f.length;t<e;t++)f[t]=0}function ut(t){lt(t,0)}function lt(n,r){if(f[n]=1,0===m[n]&&(t.enableVertexAttribArray(n),m[n]=1),g[n]!==r){var a=i.isWebGL2?t:e.get("ANGLE_instanced_arrays");a[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),g[n]=r}}function ct(){for(var e=0,n=m.length;e!==n;++e)m[e]!==f[e]&&(t.disableVertexAttribArray(e),m[e]=0)}function ht(e){!0!==v[e]&&(t.enable(e),v[e]=!0)}function dt(e){!1!==v[e]&&(t.disable(e),v[e]=!1)}function pt(){if(null===y&&(y=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var n=t.getParameter(34467),i=0;i<n.length;i++)y.push(n[i]);return y}function ft(e){return w!==e&&(t.useProgram(e),w=e,!0)}function mt(e,i,r,a,o,s,u,l){if(e!==M){if(x||(ht(3042),x=!0),e===O)o=o||i,s=s||r,u=u||a,i===S&&o===I||(t.blendEquationSeparate(n.convert(i),n.convert(o)),S=i,I=o),r===E&&a===R&&s===D&&u===N||(t.blendFuncSeparate(n.convert(r),n.convert(a),n.convert(s),n.convert(u)),E=r,R=a,D=s,N=u),T=e,U=null;else if(e!==T||l!==U){if(S===L&&I===L||(t.blendEquation(32774),S=L,I=L),l)switch(e){case C:t.blendFuncSeparate(1,771,1,771);break;case A:t.blendFunc(1,1);break;case k:t.blendFuncSeparate(0,0,769,771);break;case P:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case C:t.blendFuncSeparate(770,771,1,771);break;case A:t.blendFunc(770,1);break;case k:t.blendFunc(0,769);break;case P:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}E=null,R=null,D=null,N=null,T=e,U=l}}else x&&(dt(3042),x=!1)}function gt(t,e){t.side===b?dt(2884):ht(2884);var n=t.side===_;e&&(n=!n),vt(n),t.blending===C&&!1===t.transparent?mt(M):mt(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),u.setFunc(t.depthFunc),u.setTest(t.depthTest),u.setMask(t.depthWrite),s.setMask(t.colorWrite);var i=t.stencilWrite;d.setTest(i),i&&(d.setFunc(t.stencilFunc,t.stencilRef,t.stencilMask),d.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),bt(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function vt(e){B!==e&&(e?t.frontFace(2304):t.frontFace(2305),B=e)}function yt(e){e!==l?(ht(2884),e!==j&&(e===c?t.cullFace(1029):e===h?t.cullFace(1028):t.cullFace(1032))):dt(2884),j=e}function _t(e){e!==F&&(G&&t.lineWidth(e),F=e)}function bt(e,n,i){e?(ht(32823),z===n&&V===i||(t.polygonOffset(n,i),z=n,V=i)):dt(32823)}function wt(t){t?ht(3089):dt(3089)}function xt(e){void 0===e&&(e=33984+H-1),q!==e&&(t.activeTexture(e),q=e)}function Tt(e,n){null===q&&xt();var i=nt[q];void 0===i&&(i={type:void 0,texture:void 0},nt[q]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||ot[e]),i.type=e,i.texture=n)}function St(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Et(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Mt(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Ct(e){!1===it.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),it.copy(e))}function At(e){!1===rt.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),rt.copy(e))}function kt(){for(var e=0;e<m.length;e++)1===m[e]&&(t.disableVertexAttribArray(e),m[e]=0);v={},y=null,q=null,nt={},w=null,T=null,B=null,j=null,s.reset(),u.reset(),d.reset()}return ot[3553]=at(3553,3553,1),ot[34067]=at(34067,34069,6),s.setClear(0,0,0,1),u.setClear(1),d.setClear(0),ht(2929),u.setFunc(Z),vt(!1),yt(c),ht(2884),mt(M),{buffers:{color:s,depth:u,stencil:d},initAttributes:st,enableAttribute:ut,enableAttributeAndDivisor:lt,disableUnusedAttributes:ct,enable:ht,disable:dt,getCompressedTextureFormats:pt,useProgram:ft,setBlending:mt,setMaterial:gt,setFlipSided:vt,setCullFace:yt,setLineWidth:_t,setPolygonOffset:bt,setScissorTest:wt,activeTexture:xt,bindTexture:Tt,compressedTexImage2D:St,texImage2D:Et,texImage3D:Mt,scissor:Ct,viewport:At,reset:kt}}function ks(t,e,n,i,r,a,o){var s,u={},l="undefined"!==typeof OffscreenCanvas;function c(t,e){return l?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function h(t,e,n,i){var r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?ln.floorPowerOfTwo:Math.floor,o=a(r*t.width),u=a(r*t.height);void 0===s&&(s=c(o,u));var l=n?c(o,u):s;l.width=o,l.height=u;var h=l.getContext("2d");return h.drawImage(t,0,0,o,u),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+u+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function d(t){return ln.isPowerOfTwo(t.width)&&ln.isPowerOfTwo(t.height)}function p(t){return!r.isWebGL2&&(t.wrapS!==bt||t.wrapT!==bt||t.minFilter!==xt&&t.minFilter!==Ct)}function f(t,e){return t.generateMipmaps&&e&&t.minFilter!==xt&&t.minFilter!==Ct}function m(e,n,r,a){t.generateMipmap(e);var o=i.get(n);o.__maxMipLevel=Math.log(Math.max(r,a))*Math.LOG2E}function g(t,n){if(!r.isWebGL2)return t;var i=t;return 6403===t&&(5126===n&&(i=33326),5131===n&&(i=33325),5121===n&&(i=33321)),6407===t&&(5126===n&&(i=34837),5131===n&&(i=34843),5121===n&&(i=32849)),6408===t&&(5126===n&&(i=34836),5131===n&&(i=34842),5121===n&&(i=32856)),33325===i||33326===i||34842===i||34836===i?e.get("EXT_color_buffer_float"):34843!==i&&34837!==i||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),i}function v(t){return t===xt||t===Tt||t===Et?9728:9729}function y(t){var e=t.target;e.removeEventListener("dispose",y),b(e),e.isVideoTexture&&delete u[e.id],o.memory.textures--}function _(t){var e=t.target;e.removeEventListener("dispose",_),w(e),o.memory.textures--}function b(e){var n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}function w(e){var n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(e.texture),i.remove(e)}}var x=0;function T(){x=0}function S(){var t=x;return t>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+r.maxTextures),x+=1,t}function E(t,e){var r=i.get(t);if(t.isVideoTexture&&z(t),t.version>0&&r.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void L(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function M(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?L(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))}function C(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?L(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))}function A(e,o){var s=i.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){O(s,e),n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var u=e&&e.isCompressedTexture,l=e.image[0]&&e.image[0].isDataTexture,c=[],p=0;p<6;p++)c[p]=u||l?l?e.image[p].image:e.image[p]:h(e.image[p],!1,!0,r.maxCubemapSize);var v=c[0],y=d(v)||r.isWebGL2,_=a.convert(e.format),b=a.convert(e.type),w=g(_,b);P(34067,e,y);for(p=0;p<6;p++)if(u)for(var x,T=c[p].mipmaps,S=0,E=T.length;S<E;S++)x=T[S],e.format!==$t&&e.format!==Wt?n.getCompressedTextureFormats().indexOf(_)>-1?n.compressedTexImage2D(34069+p,S,w,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+p,S,w,x.width,x.height,0,_,b,x.data);else l?n.texImage2D(34069+p,0,w,c[p].width,c[p].height,0,_,b,c[p].data):n.texImage2D(34069+p,0,w,_,b,c[p]);s.__maxMipLevel=u?T.length-1:0,f(e,y)&&m(34067,e,v.width,v.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture)}function k(t,e){n.activeTexture(33984+e),n.bindTexture(34067,i.get(t).__webglTexture)}function P(n,o,s){var u;if(s?(t.texParameteri(n,10242,a.convert(o.wrapS)),t.texParameteri(n,10243,a.convert(o.wrapT)),32879!==n&&35866!==n||t.texParameteri(n,32882,a.convert(o.wrapR)),t.texParameteri(n,10240,a.convert(o.magFilter)),t.texParameteri(n,10241,a.convert(o.minFilter))):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS===bt&&o.wrapT===bt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,v(o.magFilter)),t.texParameteri(n,10241,v(o.minFilter)),o.minFilter!==xt&&o.minFilter!==Ct&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),u=e.get("EXT_texture_filter_anisotropic"),u){if(o.type===Bt&&null===e.get("OES_texture_float_linear"))return;if(o.type===jt&&null===(r.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function O(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",y),e.__webglTexture=t.createTexture(),o.memory.textures++)}function L(e,i,o){var s=3553;i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),O(e,i),n.activeTexture(33984+o),n.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);var u=p(i)&&!1===d(i.image),l=h(i.image,u,!1,r.maxTextureSize),c=d(l)||r.isWebGL2,v=a.convert(i.format),y=a.convert(i.type),_=g(v,y);P(s,i,c);var b,w=i.mipmaps;if(i.isDepthTexture){if(_=6402,i.type===Bt){if(!r.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");_=36012}else r.isWebGL2&&(_=33189);i.format===Jt&&6402===_&&i.type!==Dt&&i.type!==Ut&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Dt,y=a.convert(i.type)),i.format===Zt&&(_=34041,i.type!==Ht&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Ht,y=a.convert(i.type))),n.texImage2D(3553,0,_,l.width,l.height,0,v,y,null)}else if(i.isDataTexture)if(w.length>0&&c){for(var x=0,T=w.length;x<T;x++)b=w[x],n.texImage2D(3553,x,_,b.width,b.height,0,v,y,b.data);i.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,_,l.width,l.height,0,v,y,l.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(x=0,T=w.length;x<T;x++)b=w[x],i.format!==$t&&i.format!==Wt?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(3553,x,_,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,x,_,b.width,b.height,0,v,y,b.data);e.__maxMipLevel=w.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,_,l.width,l.height,l.depth,0,v,y,l.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,_,l.width,l.height,l.depth,0,v,y,l.data),e.__maxMipLevel=0;else if(w.length>0&&c){for(x=0,T=w.length;x<T;x++)b=w[x],n.texImage2D(3553,x,_,v,y,b);i.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,_,v,y,l),e.__maxMipLevel=0;f(i,c)&&m(3553,i,l.width,l.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function R(e,r,o,s){var u=a.convert(r.texture.format),l=a.convert(r.texture.type),c=g(u,l);n.texImage2D(s,0,c,r.width,r.height,0,u,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function I(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){if(i){var r=F(n);t.renderbufferStorageMultisample(36161,r,33189,n.width,n.height)}else t.renderbufferStorage(36161,33189,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){r=F(n);t.renderbufferStorageMultisample(36161,r,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{var o=a.convert(n.texture.format),s=a.convert(n.texture.type),u=g(o,s);if(i){r=F(n);t.renderbufferStorageMultisample(36161,r,u,n.width,n.height)}else t.renderbufferStorage(36161,u,n.width,n.height)}t.bindRenderbuffer(36161,null)}function D(e,n){var r=n&&n.isWebGLRenderTargetCube;if(r)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),E(n.depthTexture,0);var a=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Jt)t.framebufferTexture2D(36160,36096,3553,a,0);else{if(n.depthTexture.format!==Zt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,a,0)}}function N(e){var n=i.get(e),r=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");D(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),I(n.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),I(n.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function U(e){var s=i.get(e),u=i.get(e.texture);e.addEventListener("dispose",_),u.__webglTexture=t.createTexture(),o.memory.textures++;var l=!0===e.isWebGLRenderTargetCube,c=!0===e.isWebGLMultisampleRenderTarget,h=d(e)||r.isWebGL2;if(l){s.__webglFramebuffer=[];for(var p=0;p<6;p++)s.__webglFramebuffer[p]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),c)if(r.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var v=a.convert(e.texture.format),y=a.convert(e.texture.type),b=g(v,y),w=F(e);t.renderbufferStorageMultisample(36161,w,b,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),I(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,u.__webglTexture),P(34067,e.texture,h);for(p=0;p<6;p++)R(s.__webglFramebuffer[p],e,36064,34069+p);f(e.texture,h)&&m(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,u.__webglTexture),P(3553,e.texture,h),R(s.__webglFramebuffer,e,36064,3553),f(e.texture,h)&&m(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&N(e)}function B(t){var e=t.texture,a=d(t)||r.isWebGL2;if(f(e,a)){var o=t.isWebGLRenderTargetCube?34067:3553,s=i.get(e).__webglTexture;n.bindTexture(o,s),m(o,e,t.width,t.height),n.bindTexture(o,null)}}function j(e){if(e.isWebGLMultisampleRenderTarget)if(r.isWebGL2){var n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function F(t){return r.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(r.maxSamples,t.samples):0}function z(t){var e=t.id,n=o.render.frame;u[e]!==n&&(u[e]=n,t.update())}var V=!1,H=!1;function G(t,e){t&&t.isWebGLRenderTarget&&(!1===V&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),V=!0),t=t.texture),E(t,e)}function W(t,e){t&&t.isWebGLRenderTargetCube&&(!1===H&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),H=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?A(t,e):k(t,e)}this.allocateTextureUnit=S,this.resetTextureUnits=T,this.setTexture2D=E,this.setTexture2DArray=M,this.setTexture3D=C,this.setTextureCube=A,this.setTextureCubeDynamic=k,this.setupRenderTarget=U,this.updateRenderTargetMipmap=B,this.updateMultisampleRenderTarget=j,this.safeSetTexture2D=G,this.safeSetTextureCube=W}function Ps(t,e,n){function i(t){var i;if(t===_t)return 10497;if(t===bt)return 33071;if(t===wt)return 33648;if(t===xt)return 9728;if(t===Tt)return 9984;if(t===Et)return 9986;if(t===Ct)return 9729;if(t===At)return 9985;if(t===Pt)return 9987;if(t===Lt)return 5121;if(t===Ft)return 32819;if(t===zt)return 32820;if(t===Vt)return 33635;if(t===Rt)return 5120;if(t===It)return 5122;if(t===Dt)return 5123;if(t===Nt)return 5124;if(t===Ut)return 5125;if(t===Bt)return 5126;if(t===jt){if(n.isWebGL2)return 5131;if(i=e.get("OES_texture_half_float"),null!==i)return i.HALF_FLOAT_OES}if(t===Gt)return 6406;if(t===Wt)return 6407;if(t===$t)return 6408;if(t===qt)return 6409;if(t===Xt)return 6410;if(t===Jt)return 6402;if(t===Zt)return 34041;if(t===Kt)return 6403;if(t===L)return 32774;if(t===R)return 32778;if(t===I)return 32779;if(t===U)return 0;if(t===B)return 1;if(t===j)return 768;if(t===F)return 769;if(t===z)return 770;if(t===V)return 771;if(t===H)return 772;if(t===G)return 773;if(t===W)return 774;if(t===$)return 775;if(t===q)return 776;if((t===Qt||t===te||t===ee||t===ne)&&(i=e.get("WEBGL_compressed_texture_s3tc"),null!==i)){if(t===Qt)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===te)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===ee)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===ne)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===ie||t===re||t===ae||t===oe)&&(i=e.get("WEBGL_compressed_texture_pvrtc"),null!==i)){if(t===ie)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===re)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===ae)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===oe)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===se&&(i=e.get("WEBGL_compressed_texture_etc1"),null!==i))return i.COMPRESSED_RGB_ETC1_WEBGL;if((t===ue||t===le||t===ce||t===he||t===de||t===pe||t===fe||t===me||t===ge||t===ve||t===ye||t===_e||t===be||t===we)&&(i=e.get("WEBGL_compressed_texture_astc"),null!==i))return t;if(t===D||t===N){if(n.isWebGL2){if(t===D)return 32775;if(t===N)return 32776}if(i=e.get("EXT_blend_minmax"),null!==i){if(t===D)return i.MIN_EXT;if(t===N)return i.MAX_EXT}}if(t===Ht){if(n.isWebGL2)return 34042;if(i=e.get("WEBGL_depth_texture"),null!==i)return i.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:i}}function Os(){Cn.call(this),this.type="Group"}function Ls(t){fi.call(this),this.cameras=t||[]}Es.prototype=Object.create(Fn.prototype),Es.prototype.constructor=Es,Es.prototype.isMeshDepthMaterial=!0,Es.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ms.prototype=Object.create(Fn.prototype),Ms.prototype.constructor=Ms,Ms.prototype.isMeshDistanceMaterial=!0,Ms.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Os.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Os,isGroup:!0}),Ls.prototype=Object.assign(Object.create(fi.prototype),{constructor:Ls,isArrayCamera:!0});var Rs,Is=new dn,Ds=new dn;function Ns(t,e,n){Is.setFromMatrixPosition(e.matrixWorld),Ds.setFromMatrixPosition(n.matrixWorld);var i=Is.distanceTo(Ds),r=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),u=(r[9]+1)/r[5],l=(r[9]-1)/r[5],c=(r[8]-1)/r[0],h=(a[8]+1)/a[0],d=o*c,p=o*h,f=i/(-c+h),m=f*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var g=o+f,v=s+f,y=d-m,_=p+(i-m),b=u*s/v*g,w=l*s/v*g;t.projectionMatrix.makePerspective(y,_,b,w,g,v)}function Us(t){var e,n,i=this,r=null,a=null,o=null,s=[],u=new xn,l=new xn,c=1,h="local-floor";"undefined"!==typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var d=new xn,p=new hn,f=new dn,m=new fi;m.viewport=new _n,m.layers.enable(1);var g=new fi;g.viewport=new _n,g.layers.enable(2);var v=new Ls([m,g]);function y(){return null!==r&&!0===r.isPresenting}v.layers.enable(1),v.layers.enable(2);var _,b=new cn;function w(){if(y()){var a=r.getEyeParameters("left");e=2*a.renderWidth*c,n=a.renderHeight*c,_=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,n,1),m.viewport.set(0,0,e/2,n),g.viewport.set(e/2,0,e/2,n),M.start(),i.dispatchEvent({type:"sessionstart"})}else i.enabled&&t.setDrawingBufferSize(b.width,b.height,_),M.stop(),i.dispatchEvent({type:"sessionend"})}var x=[];function T(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,i=0,r=e.length;n<r;n++){var a=e[n];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("HTC Vive Focus")||a.id.startsWith("Spatial Controller"))){if(i===t)return a;i++}}}function S(){for(var t=0;t<s.length;t++){var e=s[t],n=T(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var i=n.pose;!1===i.hasPosition&&e.position.set(.2,-.6,-.05),null!==i.position&&e.position.fromArray(i.position),null!==i.orientation&&e.quaternion.fromArray(i.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(u),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var r="Daydream Controller"===n.id?0:1;void 0===x[t]&&(x[t]=!1),x[t]!==n.buttons[r].pressed&&(x[t]=n.buttons[r].pressed,!0===x[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}function E(t,i){null!==i&&4===i.length&&t.set(i[0]*e,i[1]*n,i[2]*e,i[3]*n)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&(e=new Os,e.matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t),M.setContext(t)},this.setFramebufferScaleFactor=function(t){c=t},this.setReferenceSpaceType=function(t){h=t},this.setPoseTarget=function(t){void 0!==t&&(o=t)},this.getCamera=function(t){var e="local-floor"===h?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(r.depthNear=t.near,r.depthFar=t.far,r.getFrameData(a),"local-floor"===h){var n=r.stageParameters;n?u.fromArray(n.sittingToStandingTransform):u.makeTranslation(0,e,0)}var i=a.pose,s=null!==o?o:t;s.matrix.copy(u),s.matrix.decompose(s.position,s.quaternion,s.scale),null!==i.orientation&&(p.fromArray(i.orientation),s.quaternion.multiply(p)),null!==i.position&&(p.setFromRotationMatrix(u),f.fromArray(i.position),f.applyQuaternion(p),s.position.add(f)),s.updateMatrixWorld(),m.near=t.near,g.near=t.near,m.far=t.far,g.far=t.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),g.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(u),"local-floor"===h&&(m.matrixWorldInverse.multiply(l),g.matrixWorldInverse.multiply(l));var c=s.parent;null!==c&&(d.getInverse(c.matrixWorld),m.matrixWorldInverse.multiply(d),g.matrixWorldInverse.multiply(d)),m.matrixWorld.getInverse(m.matrixWorldInverse),g.matrixWorld.getInverse(g.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),g.projectionMatrix.fromArray(a.rightProjectionMatrix),Ns(v,m,g);var _=r.getLayers();if(_.length){var b=_[0];E(m.viewport,b.leftBounds),E(g.viewport,b.rightBounds)}return S(),v},this.getStandingMatrix=function(){return u},this.isPresenting=y;var M=new Na;this.setAnimationLoop=function(t){M.setAnimationLoop(t),y()&&M.start()},this.submitFrame=function(){y()&&r.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function Bs(t,e){var n=this,i=null,r=null,a="local-floor",o=null,s=[],u=[];function l(){return null!==i&&null!==r}var c=new fi;c.layers.enable(1),c.viewport=new _n;var h=new fi;h.layers.enable(2),h.viewport=new _n;var d=new Ls([c,h]);function p(t){for(var e=0;e<s.length;e++)u[e]===t.inputSource&&s[e].dispatchEvent({type:t.type})}function f(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),_.stop(),n.dispatchEvent({type:"sessionend"})}function m(t){r=t,_.setContext(i),_.start(),n.dispatchEvent({type:"sessionstart"})}function g(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}d.layers.enable(1),d.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&(e=new Os,e.matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.setFramebufferScaleFactor=function(t){},this.setReferenceSpaceType=function(t){a=t},this.getSession=function(){return i},this.setSession=function(t){i=t,null!==i&&(i.addEventListener("select",p),i.addEventListener("selectstart",p),i.addEventListener("selectend",p),i.addEventListener("end",f),i.updateRenderState({baseLayer:new XRWebGLLayer(i,e)}),i.requestReferenceSpace(a).then(m),u=i.inputSources,i.addEventListener("inputsourceschange",function(){u=i.inputSources,console.log(u);for(var t=0;t<s.length;t++){var e=s[t];e.userData.inputSource=u[t]}}))},this.getCamera=function(t){if(l()){var e=t.parent,n=d.cameras;g(d,e);for(var i=0;i<n.length;i++)g(n[i],e);t.matrixWorld.copy(d.matrixWorld);for(var r=t.children,a=(i=0,r.length);i<a;i++)r[i].updateMatrixWorld(!0);return Ns(d,c,h),d}return t},this.isPresenting=l;var v=null;function y(e,n){if(o=n.getViewerPose(r),null!==o){var a=o.views,l=i.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var c=0;c<a.length;c++){var h=a[c],p=l.getViewport(h),f=h.transform.inverse.matrix,m=d.cameras[c];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(p.x,p.y,p.width,p.height),0===c&&d.matrix.copy(m.matrix)}}for(c=0;c<s.length;c++){var g=s[c],y=u[c];if(y){var _=n.getPose(y.targetRaySpace,r);if(null!==_){g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)}var _=new Na;_.setAnimationLoop(y),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new xn},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function js(t){console.log("THREE.WebGLRenderer",o),t=t||{};var e=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,u=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,d=null,p=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ot,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,g,v,y,b,w,x,T,S,E,M,C,A,k,P,O,L,R=this,I=!1,D=null,N=0,U=0,B=null,j=null,F=-1,z={geometry:null,program:null,wireframe:!1},V=null,H=null,G=new _n,W=new _n,$=null,q=e.width,X=e.height,Y=1,J=new _n(0,0,q,X),Z=new _n(0,0,q,X),K=!1,Q=new wi,tt=new Ha,et=!1,nt=!1,it=new xn,rt=new dn;function at(){return null===B?Y:1}try{var st={alpha:i,depth:r,stencil:a,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(e.addEventListener("webglcontextlost",ht,!1),e.addEventListener("webglcontextrestored",dt,!1),f=n||e.getContext("webgl",st)||e.getContext("experimental-webgl",st),null===f)throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Wt){throw console.error("THREE.WebGLRenderer: "+Wt.message),Wt}function ut(){m=new Ga(f),g=new Va(f,m,t),g.isWebGL2||(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),L=new Ps(f,m,g),v=new As(f,m,L,g),v.scissor(W.copy(Z).multiplyScalar(Y).floor()),v.viewport(G.copy(J).multiplyScalar(Y).floor()),y=new qa(f),b=new ms,w=new ks(f,m,v,b,g,L,y),x=new Ua(f),T=new Wa(f,x,y),S=new Ja(T,y),k=new Ya(f),E=new fs(R,m,g),M=new _s,C=new Ss,A=new Fa(R,v,S,u),P=new za(f,m,y,g),O=new $a(f,m,y,g),y.programs=E.programs,R.capabilities=g,R.extensions=m,R.properties=b,R.renderLists=M,R.state=v,R.info=y}ut();var lt="undefined"!==typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new Bs(R,f):new Us(R);this.vr=lt;var ct=new Cs(R,S,g.maxTextureSize);function ht(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function dt(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1,ut()}function pt(t){var e=t.target;e.removeEventListener("dispose",pt),ft(e)}function ft(t){mt(t),b.remove(t)}function mt(t){var e=b.get(t).program;t.program=void 0,void 0!==e&&E.releaseProgram(e)}function gt(t,e){t.render(function(t){R.renderBufferImmediate(t,e)})}function vt(t,e,n){if(n&&n.isInstancedBufferGeometry&&!g.isWebGL2&&null===m.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{v.initAttributes();var i=n.attributes,r=e.getAttributes(),a=t.defaultAttributeValues;for(var o in r){var s=r[o];if(s>=0){var u=i[o];if(void 0!==u){var l=u.normalized,c=u.itemSize,h=x.get(u);if(void 0===h)continue;var d=h.buffer,p=h.type,y=h.bytesPerElement;if(u.isInterleavedBufferAttribute){var _=u.data,b=_.stride,w=u.offset;_&&_.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,_.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=_.meshPerAttribute*_.count)):v.enableAttribute(s),f.bindBuffer(34962,d),f.vertexAttribPointer(s,c,p,l,b*y,w*y)}else u.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):v.enableAttribute(s),f.bindBuffer(34962,d),f.vertexAttribPointer(s,c,p,l,0,0)}else if(void 0!==a){var T=a[o];if(void 0!==T)switch(T.length){case 2:f.vertexAttrib2fv(s,T);break;case 3:f.vertexAttrib3fv(s,T);break;case 4:f.vertexAttrib4fv(s,T);break;default:f.vertexAttrib1fv(s,T)}}}}v.disableUnusedAttributes()}}this.shadowMap=ct,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=m.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=m.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(t){void 0!==t&&(Y=t,this.setSize(q,X,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new cn),t.set(q,X)},this.setSize=function(t,n,i){lt.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=t,X=n,e.width=Math.floor(t*Y),e.height=Math.floor(n*Y),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new cn),t.set(q*Y,X*Y).floor()},this.setDrawingBufferSize=function(t,n,i){q=t,X=n,Y=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new _n),t.copy(G)},this.getViewport=function(t){return t.copy(J)},this.setViewport=function(t,e,n,i){t.isVector4?J.set(t.x,t.y,t.z,t.w):J.set(t,e,n,i),v.viewport(G.copy(J).multiplyScalar(Y).floor())},this.getScissor=function(t){return t.copy(Z)},this.setScissor=function(t,e,n,i){t.isVector4?Z.set(t.x,t.y,t.z,t.w):Z.set(t,e,n,i),v.scissor(W.copy(Z).multiplyScalar(Y).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(t){v.setScissorTest(K=t)},this.getClearColor=function(){return A.getClearColor()},this.setClearColor=function(){A.setClearColor.apply(A,arguments)},this.getClearAlpha=function(){return A.getClearAlpha()},this.setClearAlpha=function(){A.setClearAlpha.apply(A,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),f.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ht,!1),e.removeEventListener("webglcontextrestored",dt,!1),M.dispose(),C.dispose(),b.dispose(),S.dispose(),lt.dispose(),bt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var n=b.get(t);t.hasPositions&&!n.position&&(n.position=f.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),t.hasColors&&!n.color&&(n.color=f.createBuffer());var i=e.getAttributes();t.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,t.positionArray,35048),v.enableAttribute(i.position),f.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,t.normalArray,35048),v.enableAttribute(i.normal),f.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,t.uvArray,35048),v.enableAttribute(i.uv),f.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,t.colorArray,35048),v.enableAttribute(i.color),f.vertexAttribPointer(i.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),f.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,a){var o=r.isMesh&&r.matrixWorld.determinant()<0;v.setMaterial(i,o);var s=Et(t,e,i,r),u=!1;z.geometry===n.id&&z.program===s.id&&z.wireframe===(!0===i.wireframe)||(z.geometry=n.id,z.program=s.id,z.wireframe=!0===i.wireframe,u=!0),r.morphTargetInfluences&&(k.update(r,n,i,s),u=!0);var l,c=n.index,h=n.attributes.position,d=1;!0===i.wireframe&&(c=T.getWireframeAttribute(n),d=2);var p=P;null!==c&&(l=x.get(c),p=O,p.setIndex(l)),u&&(vt(i,s,n),null!==c&&f.bindBuffer(34963,l.buffer));var m=1/0;null!==c?m=c.count:void 0!==h&&(m=h.count);var g=n.drawRange.start*d,y=n.drawRange.count*d,_=null!==a?a.start*d:0,b=null!==a?a.count*d:1/0,w=Math.max(g,_),S=Math.min(m,g+y,_+b)-1,E=Math.max(0,S-w+1);if(0!==E){if(r.isMesh)if(!0===i.wireframe)v.setLineWidth(i.wireframeLinewidth*at()),p.setMode(1);else switch(r.drawMode){case Oe:p.setMode(4);break;case Le:p.setMode(5);break;case Re:p.setMode(6);break}else if(r.isLine){var M=i.linewidth;void 0===M&&(M=1),v.setLineWidth(M*at()),r.isLineSegments?p.setMode(1):r.isLineLoop?p.setMode(2):p.setMode(3)}else r.isPoints?p.setMode(0):r.isSprite&&p.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&p.renderInstances(n,w,E):p.render(w,E)}},this.compile=function(t,e){p=C.get(t,e),p.init(),t.traverse(function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))}),p.setupLights(e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)St(e.material[n],t.fog,e);else St(e.material,t.fog,e)})};var yt=null;function _t(t){lt.isPresenting()||yt&&yt(t)}var bt=new Na;function wt(t,e,n,i){if(!1!==t.visible){var r=t.layers.test(e.layers);if(r)if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Q.intersectsSprite(t)){i&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);var a=S.update(t),o=t.material;o.visible&&d.push(t,a,o,n,rt.z,null)}}else if(t.isImmediateRenderObject)i&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),d.push(t,null,t.material,n,rt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Q.intersectsObject(t))){i&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);a=S.update(t),o=t.material;if(Array.isArray(o))for(var s=a.groups,u=0,l=s.length;u<l;u++){var c=s[u],h=o[c.materialIndex];h&&h.visible&&d.push(t,a,h,n,rt.z,c)}else o.visible&&d.push(t,a,o,n,rt.z,null)}var f=t.children;for(u=0,l=f.length;u<l;u++)wt(f[u],e,n,i)}}function xt(t,e,n,i){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,u=o.geometry,l=void 0===i?o.material:i,c=o.group;if(n.isArrayCamera){H=n;for(var h=n.cameras,d=0,f=h.length;d<f;d++){var m=h[d];s.layers.test(m.layers)&&(v.viewport(G.copy(m.viewport)),p.setupLights(m),Tt(s,e,m,u,l,c))}}else H=null,Tt(s,e,n,u,l,c)}}function Tt(t,e,n,i,r,a){if(t.onBeforeRender(R,e,n,i,r,a),p=C.get(e,H||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){v.setMaterial(r);var o=Et(n,e.fog,r,t);z.geometry=null,z.program=null,z.wireframe=!1,gt(t,o)}else R.renderBufferDirect(n,e.fog,i,r,t,a);t.onAfterRender(R,e,n,i,r,a),p=C.get(e,H||n)}function St(t,e,n){var i=b.get(t),r=p.state.lights,a=p.state.shadowsArray,o=r.state.version,s=E.getParameters(t,r.state,a,e,tt.numPlanes,tt.numIntersection,n),u=E.getProgramCode(t,s),l=i.program,c=!0;if(void 0===l)t.addEventListener("dispose",pt);else if(l.code!==u)mt(t);else if(i.lightsStateVersion!==o)i.lightsStateVersion=o,c=!1;else{if(void 0!==s.shaderID)return;c=!1}if(c){if(s.shaderID){var h=Da[s.shaderID];i.shader={name:t.type,uniforms:si(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else i.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(i.shader,R),u=E.getProgramCode(t,s),l=E.acquireProgram(t,i.shader,s,u),i.program=l,t.program=l}var d=l.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<R.maxMorphTargets;f++)d["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(f=0;f<R.maxMorphNormals;f++)d["morphNormal"+f]>=0&&t.numSupportedMorphNormals++}var m=i.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=tt.numPlanes,i.numIntersection=tt.numIntersection,m.clippingPlanes=tt.uniform),i.fog=e,i.lightsStateVersion=o,t.lights&&(m.ambientLightColor.value=r.state.ambient,m.lightProbe.value=r.state.probe,m.directionalLights.value=r.state.directional,m.spotLights.value=r.state.spot,m.rectAreaLights.value=r.state.rectArea,m.pointLights.value=r.state.point,m.hemisphereLights.value=r.state.hemi,m.directionalShadowMap.value=r.state.directionalShadowMap,m.directionalShadowMatrix.value=r.state.directionalShadowMatrix,m.spotShadowMap.value=r.state.spotShadowMap,m.spotShadowMatrix.value=r.state.spotShadowMatrix,m.pointShadowMap.value=r.state.pointShadowMap,m.pointShadowMatrix.value=r.state.pointShadowMatrix);var g=i.program.getUniforms(),v=Jo.seqWithValue(g.seq,m);i.uniformsList=v}function Et(t,e,n,i){w.resetTextureUnits();var r=b.get(n),a=p.state.lights;if(et&&(nt||t!==V)){var o=t===V&&n.id===F;tt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,r,o)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==e?n.needsUpdate=!0:n.lights&&r.lightsStateVersion!==a.state.version?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===tt.numPlanes&&r.numIntersection===tt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(St(n,e,i),n.needsUpdate=!1);var s=!1,u=!1,l=!1,c=r.program,h=c.getUniforms(),d=r.shader.uniforms;if(v.useProgram(c.program)&&(s=!0,u=!0,l=!0),n.id!==F&&(F=n.id,u=!0),s||V!==t){if(h.setValue(f,"projectionMatrix",t.projectionMatrix),g.logarithmicDepthBuffer&&h.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),V!==t&&(V=t,u=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var m=h.map.cameraPosition;void 0!==m&&m.setValue(f,rt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&h.setValue(f,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){h.setOptional(f,i,"bindMatrix"),h.setOptional(f,i,"bindMatrixInverse");var y=i.skeleton;if(y){var _=y.bones;if(g.floatVertexTextures){if(void 0===y.boneTexture){var x=Math.sqrt(4*_.length);x=ln.ceilPowerOfTwo(x),x=Math.max(x,4);var T=new Float32Array(x*x*4);T.set(y.boneMatrices);var S=new _i(T,x,x,$t,Bt);S.needsUpdate=!0,y.boneMatrices=T,y.boneTexture=S,y.boneTextureSize=x}h.setValue(f,"boneTexture",y.boneTexture,w),h.setValue(f,"boneTextureSize",y.boneTextureSize)}else h.setOptional(f,y,"boneMatrices")}}return u&&(h.setValue(f,"toneMappingExposure",R.toneMappingExposure),h.setValue(f,"toneMappingWhitePoint",R.toneMappingWhitePoint),n.lights&&Gt(d,l),e&&n.fog&&Ot(d,e),n.isMeshBasicMaterial?Mt(d,n):n.isMeshLambertMaterial?(Mt(d,n),Rt(d,n)):n.isMeshPhongMaterial?(Mt(d,n),n.isMeshToonMaterial?Dt(d,n):It(d,n)):n.isMeshStandardMaterial?(Mt(d,n),n.isMeshPhysicalMaterial?Ut(d,n):Nt(d,n)):n.isMeshMatcapMaterial?(Mt(d,n),Ft(d,n)):n.isMeshDepthMaterial?(Mt(d,n),zt(d,n)):n.isMeshDistanceMaterial?(Mt(d,n),Vt(d,n)):n.isMeshNormalMaterial?(Mt(d,n),Ht(d,n)):n.isLineBasicMaterial?(Ct(d,n),n.isLineDashedMaterial&&At(d,n)):n.isPointsMaterial?kt(d,n):n.isSpriteMaterial?Pt(d,n):n.isShadowMaterial&&(d.color.value.copy(n.color),d.opacity.value=n.opacity),void 0!==d.ltc_1&&(d.ltc_1.value=Ia.LTC_1),void 0!==d.ltc_2&&(d.ltc_2.value=Ia.LTC_2),Jo.upload(f,r.uniformsList,d,w)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Jo.upload(f,r.uniformsList,d,w),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&h.setValue(f,"center",i.center),h.setValue(f,"modelViewMatrix",i.modelViewMatrix),h.setValue(f,"normalMatrix",i.normalMatrix),h.setValue(f,"modelMatrix",i.matrixWorld),c}function Mt(t,e){var n;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=b.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function Ct(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}function At(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function kt(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Y,t.scale.value=.5*X,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}function Pt(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}function Ot(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function Rt(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function It(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===_&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===_&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Dt(t,e){It(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function Nt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===_&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===_&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function Ut(t,e){Nt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}function Ft(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===_&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===_&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function zt(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Vt(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}function Ht(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===_&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===_&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Gt(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}bt.setAnimationLoop(_t),"undefined"!==typeof window&&bt.setContext(window),this.setAnimationLoop=function(t){yt=t,lt.setAnimationLoop(t),bt.start()},this.render=function(t,e){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),e&&e.isCamera){if(!I){z.geometry=null,z.program=null,z.wireframe=!1,F=-1,V=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),lt.enabled&&(e=lt.getCamera(e)),p=C.get(t,e),p.init(),t.onBeforeRender(R,t,e,n||B),it.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Q.setFromMatrix(it),nt=this.localClippingEnabled,et=tt.init(this.clippingPlanes,nt,e),d=M.get(t,e),d.init(),wt(t,e,0,R.sortObjects),!0===R.sortObjects&&d.sort(),et&&tt.beginShadows();var r=p.state.shadowsArray;ct.render(r,t,e),p.setupLights(e),et&&tt.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),A.render(d,t,e,i);var a=d.opaque,o=d.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&xt(a,t,e,s),o.length&&xt(o,t,e,s)}else a.length&&xt(a,t,e),o.length&&xt(o,t,e);t.onAfterRender(R,t,e),null!==B&&(w.updateRenderTargetMipmap(B),w.updateMultisampleRenderTarget(B)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),lt.enabled&&lt.submitFrame(),d=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){D!==t&&f.bindFramebuffer(36160,t),D=t},this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return B},this.setRenderTarget=function(t,e,n){B=t,N=e,U=n,t&&void 0===b.get(t).__webglFramebuffer&&w.setupRenderTarget(t);var i=D,r=!1;if(t){var a=b.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(i=a[e||0],r=!0):i=t.isWebGLMultisampleRenderTarget?b.get(t).__webglMultisampledFramebuffer:a,G.copy(t.viewport),W.copy(t.scissor),$=t.scissorTest}else G.copy(J).multiplyScalar(Y).floor(),W.copy(Z).multiplyScalar(Y).floor(),$=K;if(j!==i&&(f.bindFramebuffer(36160,i),j=i),v.viewport(G),v.scissor(W),v.setScissorTest($),r){var o=b.get(t.texture);f.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,n||0)}},this.readRenderTargetPixels=function(t,e,n,i,r,a,o){if(t&&t.isWebGLRenderTarget){var s=b.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var u=!1;s!==j&&(f.bindFramebuffer(36160,s),u=!0);try{var l=t.texture,c=l.format,h=l.type;if(c!==$t&&L.convert(c)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(h!==Lt&&L.convert(h)!==f.getParameter(35738)&&(h!==Bt||!(g.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float")))&&(h!==jt||(g.isWebGL2?!m.get("EXT_color_buffer_float"):!m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&f.readPixels(e,n,i,r,L.convert(c),L.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{u&&f.bindFramebuffer(36160,j)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){var i=e.image.width,r=e.image.height,a=L.convert(e.format);w.setTexture2D(e,0),f.copyTexImage2D(3553,n||0,a,t.x,t.y,i,r,0)},this.copyTextureToTexture=function(t,e,n,i){var r=e.image.width,a=e.image.height,o=L.convert(n.format),s=L.convert(n.type);w.setTexture2D(n,0),e.isDataTexture?f.texSubImage2D(3553,i||0,t.x,t.y,r,a,o,s,e.image.data):f.texSubImage2D(3553,i||0,t.x,t.y,o,s,e.image)},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Fs(t,e){this.name="",this.color=new In(t),this.density=void 0!==e?e:25e-5}function zs(t,e,n){this.name="",this.color=new In(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Vs(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Hs(t,e,n,i){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function Gs(t){Fn.call(this),this.type="SpriteMaterial",this.color=new In(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function Ws(t){if(Cn.call(this),this.type="Sprite",void 0===Rs){Rs=new ei;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Vs(e,5);Rs.setIndex([0,1,2,0,2,3]),Rs.addAttribute("position",new Hs(n,3,0,!1)),Rs.addAttribute("uv",new Hs(n,2,3,!1))}this.geometry=Rs,this.material=void 0!==t?t:new Gs,this.center=new cn(.5,.5)}function $s(){Cn.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function qs(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ni.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new xn,this.bindMatrixInverse=new xn}function Xs(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new xn)}}function Ys(){Cn.call(this),this.type="Bone"}function Js(t){Fn.call(this),this.type="LineBasicMaterial",this.color=new In(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Zs(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Cn.call(this),this.type="Line",this.geometry=void 0!==t?t:new ei,this.material=void 0!==e?e:new Js({color:16777215*Math.random()})}function Ks(t,e){Zs.call(this,t,e),this.type="LineSegments"}function Qs(t,e){Zs.call(this,t,e),this.type="LineLoop"}function tu(t){Fn.call(this),this.type="PointsMaterial",this.color=new In(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function eu(t,e){Cn.call(this),this.type="Points",this.geometry=void 0!==t?t:new ei,this.material=void 0!==e?e:new tu({color:16777215*Math.random()}),this.updateMorphTargets()}function nu(t,e,n,i,r,a,o,s,u){yn.call(this,t,e,n,i,r,a,o,s,u),this.format=void 0!==o?o:Wt,this.minFilter=void 0!==a?a:Ct,this.magFilter=void 0!==r?r:Ct,this.generateMipmaps=!1}function iu(t,e,n,i,r,a,o,s,u,l,c,h){yn.call(this,null,a,o,s,u,l,i,r,c,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function ru(t,e,n,i,r,a,o,s,u){yn.call(this,t,e,n,i,r,a,o,s,u),this.needsUpdate=!0}function au(t,e,n,i,r,a,o,s,u,l){if(l=void 0!==l?l:Jt,l!==Jt&&l!==Zt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Jt&&(n=Dt),void 0===n&&l===Zt&&(n=Ht),yn.call(this,null,i,r,a,o,s,l,n,u),this.image={width:t,height:e},this.magFilter=void 0!==o?o:xt,this.minFilter=void 0!==s?s:xt,this.flipY=!1,this.generateMipmaps=!1}function ou(t){ei.call(this),this.type="WireframeGeometry";var e,n,i,r,a,o,s,u,l,c,h=[],d=[0,0],p={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,i=m.length;e<i;e++){var g=m[e];for(n=0;n<3;n++)s=g[f[n]],u=g[f[(n+1)%3]],d[0]=Math.min(s,u),d[1]=Math.max(s,u),l=d[0]+","+d[1],void 0===p[l]&&(p[l]={index1:d[0],index2:d[1]})}for(l in p)o=p[l],c=t.vertices[o.index1],h.push(c.x,c.y,c.z),c=t.vertices[o.index2],h.push(c.x,c.y,c.z)}else if(t&&t.isBufferGeometry){var v,y,_,b,w,x,T,S;if(c=new dn,null!==t.index){for(v=t.attributes.position,y=t.index,_=t.groups,0===_.length&&(_=[{start:0,count:y.count,materialIndex:0}]),r=0,a=_.length;r<a;++r)for(b=_[r],w=b.start,x=b.count,e=w,i=w+x;e<i;e+=3)for(n=0;n<3;n++)s=y.getX(e+n),u=y.getX(e+(n+1)%3),d[0]=Math.min(s,u),d[1]=Math.max(s,u),l=d[0]+","+d[1],void 0===p[l]&&(p[l]={index1:d[0],index2:d[1]});for(l in p)o=p[l],c.fromBufferAttribute(v,o.index1),h.push(c.x,c.y,c.z),c.fromBufferAttribute(v,o.index2),h.push(c.x,c.y,c.z)}else for(v=t.attributes.position,e=0,i=v.count/3;e<i;e++)for(n=0;n<3;n++)T=3*e+n,c.fromBufferAttribute(v,T),h.push(c.x,c.y,c.z),S=3*e+(n+1)%3,c.fromBufferAttribute(v,S),h.push(c.x,c.y,c.z)}this.addAttribute("position",new Jn(h,3))}function su(t,e,n){ri.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new uu(t,e,n)),this.mergeVertices()}function uu(t,e,n){ei.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,r,a=[],o=[],s=[],u=[],l=1e-5,c=new dn,h=new dn,d=new dn,p=new dn,f=new dn;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=e+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=e;r++){var v=r/e;t(v,g,h),o.push(h.x,h.y,h.z),v-l>=0?(t(v-l,g,d),p.subVectors(h,d)):(t(v+l,g,d),p.subVectors(d,h)),g-l>=0?(t(v,g-l,d),f.subVectors(h,d)):(t(v,g+l,d),f.subVectors(d,h)),c.crossVectors(p,f).normalize(),s.push(c.x,c.y,c.z),u.push(v,g)}}for(i=0;i<n;i++)for(r=0;r<e;r++){var y=i*m+r,_=i*m+r+1,b=(i+1)*m+r+1,w=(i+1)*m+r;a.push(y,_,w),a.push(_,b,w)}this.setIndex(a),this.addAttribute("position",new Jn(o,3)),this.addAttribute("normal",new Jn(s,3)),this.addAttribute("uv",new Jn(u,2))}function lu(t,e,n,i){ri.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},this.fromBufferGeometry(new cu(t,e,n,i)),this.mergeVertices()}function cu(t,e,n,i){ei.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},n=n||1,i=i||0;var r=[],a=[];function o(t){for(var n=new dn,i=new dn,r=new dn,a=0;a<e.length;a+=3)d(e[a+0],n),d(e[a+1],i),d(e[a+2],r),s(n,i,r,t)}function s(t,e,n,i){var r,a,o=Math.pow(2,i),s=[];for(r=0;r<=o;r++){s[r]=[];var u=t.clone().lerp(n,r/o),l=e.clone().lerp(n,r/o),c=o-r;for(a=0;a<=c;a++)s[r][a]=0===a&&r===o?u:u.clone().lerp(l,a/c)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var d=Math.floor(a/2);a%2===0?(h(s[r][d+1]),h(s[r+1][d]),h(s[r][d])):(h(s[r][d+1]),h(s[r+1][d+1]),h(s[r+1][d]))}}function u(t){for(var e=new dn,n=0;n<r.length;n+=3)e.x=r[n+0],e.y=r[n+1],e.z=r[n+2],e.normalize().multiplyScalar(t),r[n+0]=e.x,r[n+1]=e.y,r[n+2]=e.z}function l(){for(var t=new dn,e=0;e<r.length;e+=3){t.x=r[e+0],t.y=r[e+1],t.z=r[e+2];var n=m(t)/2/Math.PI+.5,i=g(t)/Math.PI+.5;a.push(n,1-i)}p(),c()}function c(){for(var t=0;t<a.length;t+=6){var e=a[t+0],n=a[t+2],i=a[t+4],r=Math.max(e,n,i),o=Math.min(e,n,i);r>.9&&o<.1&&(e<.2&&(a[t+0]+=1),n<.2&&(a[t+2]+=1),i<.2&&(a[t+4]+=1))}}function h(t){r.push(t.x,t.y,t.z)}function d(e,n){var i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function p(){for(var t=new dn,e=new dn,n=new dn,i=new dn,o=new cn,s=new cn,u=new cn,l=0,c=0;l<r.length;l+=9,c+=6){t.set(r[l+0],r[l+1],r[l+2]),e.set(r[l+3],r[l+4],r[l+5]),n.set(r[l+6],r[l+7],r[l+8]),o.set(a[c+0],a[c+1]),s.set(a[c+2],a[c+3]),u.set(a[c+4],a[c+5]),i.copy(t).add(e).add(n).divideScalar(3);var h=m(i);f(o,c+0,t,h),f(s,c+2,e,h),f(u,c+4,n,h)}}function f(t,e,n,i){i<0&&1===t.x&&(a[e]=t.x-1),0===n.x&&0===n.z&&(a[e]=i/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function g(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}o(i),u(n),l(),this.addAttribute("position",new Jn(r,3)),this.addAttribute("normal",new Jn(r.slice(),3)),this.addAttribute("uv",new Jn(a,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function hu(t,e){ri.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new du(t,e)),this.mergeVertices()}function du(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];cu.call(this,n,i,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function pu(t,e){ri.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new fu(t,e)),this.mergeVertices()}function fu(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];cu.call(this,n,i,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function mu(t,e){ri.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new gu(t,e)),this.mergeVertices()}function gu(t,e){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];cu.call(this,i,r,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function vu(t,e){ri.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new yu(t,e)),this.mergeVertices()}function yu(t,e){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];cu.call(this,r,a,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function _u(t,e,n,i,r,a){ri.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new bu(t,e,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function bu(t,e,n,i,r){ei.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},e=e||64,n=n||1,i=i||8,r=r||!1;var a=t.computeFrenetFrames(e,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new dn,l=new dn,c=new cn,h=new dn,d=[],p=[],f=[],m=[];function g(){for(o=0;o<e;o++)v(o);v(!1===r?e:0),_(),y()}function v(r){h=t.getPointAt(r/e,h);var o=a.normals[r],c=a.binormals[r];for(s=0;s<=i;s++){var f=s/i*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);l.x=g*o.x+m*c.x,l.y=g*o.y+m*c.y,l.z=g*o.z+m*c.z,l.normalize(),p.push(l.x,l.y,l.z),u.x=h.x+n*l.x,u.y=h.y+n*l.y,u.z=h.z+n*l.z,d.push(u.x,u.y,u.z)}}function y(){for(s=1;s<=e;s++)for(o=1;o<=i;o++){var t=(i+1)*(s-1)+(o-1),n=(i+1)*s+(o-1),r=(i+1)*s+o,a=(i+1)*(s-1)+o;m.push(t,n,a),m.push(n,r,a)}}function _(){for(o=0;o<=e;o++)for(s=0;s<=i;s++)c.x=o/e,c.y=s/i,f.push(c.x,c.y)}g(),this.setIndex(m),this.addAttribute("position",new Jn(d,3)),this.addAttribute("normal",new Jn(p,3)),this.addAttribute("uv",new Jn(f,2))}function wu(t,e,n,i,r,a,o){ri.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new xu(t,e,n,i,r,a)),this.mergeVertices()}function xu(t,e,n,i,r,a){ei.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:a},t=t||1,e=e||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,a=a||3;var o,s,u=[],l=[],c=[],h=[],d=new dn,p=new dn,f=new dn,m=new dn,g=new dn,v=new dn,y=new dn;for(o=0;o<=n;++o){var _=o/n*r*Math.PI*2;for(C(_,r,a,t,f),C(_+.01,r,a,t,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=i;++s){var b=s/i*Math.PI*2,w=-e*Math.cos(b),x=e*Math.sin(b);d.x=f.x+(w*y.x+x*g.x),d.y=f.y+(w*y.y+x*g.y),d.z=f.z+(w*y.z+x*g.z),l.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),c.push(p.x,p.y,p.z),h.push(o/n),h.push(s/i)}}for(s=1;s<=n;s++)for(o=1;o<=i;o++){var T=(i+1)*(s-1)+(o-1),S=(i+1)*s+(o-1),E=(i+1)*s+o,M=(i+1)*(s-1)+o;u.push(T,S,M),u.push(S,E,M)}function C(t,e,n,i,r){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,u=Math.cos(s);r.x=i*(2+u)*.5*a,r.y=i*(2+u)*o*.5,r.z=i*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new Jn(l,3)),this.addAttribute("normal",new Jn(c,3)),this.addAttribute("uv",new Jn(h,2))}function Tu(t,e,n,i,r){ri.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new Su(t,e,n,i,r)),this.mergeVertices()}function Su(t,e,n,i,r){ei.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},t=t||1,e=e||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var a,o,s=[],u=[],l=[],c=[],h=new dn,d=new dn,p=new dn;for(a=0;a<=n;a++)for(o=0;o<=i;o++){var f=o/i*r,m=a/n*Math.PI*2;d.x=(t+e*Math.cos(m))*Math.cos(f),d.y=(t+e*Math.cos(m))*Math.sin(f),d.z=e*Math.sin(m),u.push(d.x,d.y,d.z),h.x=t*Math.cos(f),h.y=t*Math.sin(f),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),c.push(o/i),c.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=i;o++){var g=(i+1)*a+o-1,v=(i+1)*(a-1)+o-1,y=(i+1)*(a-1)+o,_=(i+1)*a+o;s.push(g,v,_),s.push(v,y,_)}this.setIndex(s),this.addAttribute("position",new Jn(u,3)),this.addAttribute("normal",new Jn(l,3)),this.addAttribute("uv",new Jn(c,2))}Object.assign(Us.prototype,i.prototype),Object.assign(Bs.prototype,i.prototype),Object.assign(Fs.prototype,{isFogExp2:!0,clone:function(){return new Fs(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(zs.prototype,{isFog:!0,clone:function(){return new zs(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Vs.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Vs.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Hs.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Hs.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}}),Gs.prototype=Object.create(Fn.prototype),Gs.prototype.constructor=Gs,Gs.prototype.isSpriteMaterial=!0,Gs.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},Ws.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Ws,isSprite:!0,raycast:function(){var t=new dn,e=new dn,n=new dn,i=new cn,r=new cn,a=new xn,o=new dn,s=new dn,u=new dn,l=new cn,c=new cn,h=new cn;function d(t,e,n,o,s,u){i.subVectors(t,n).addScalar(.5).multiply(o),void 0!==s?(r.x=u*i.x-s*i.y,r.y=s*i.x+u*i.y):r.copy(i),t.copy(e),t.x+=r.x,t.y+=r.y,t.applyMatrix4(a)}return function(i,r){e.setFromMatrixScale(this.matrixWorld),a.copy(i._camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(i._camera.matrixWorldInverse,this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix),i._camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&e.multiplyScalar(-n.z);var p,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),p=Math.sin(m));var g=this.center;d(o.set(-.5,-.5,0),n,g,e,p,f),d(s.set(.5,-.5,0),n,g,e,p,f),d(u.set(.5,.5,0),n,g,e,p,f),l.set(0,0),c.set(1,0),h.set(1,1);var v=i.ray.intersectTriangle(o,s,u,!1,t);if(null!==v||(d(s.set(-.5,.5,0),n,g,e,p,f),c.set(0,1),v=i.ray.intersectTriangle(o,u,s,!1,t),null!==v)){var y=i.ray.origin.distanceTo(t);y<i.near||y>i.far||r.push({distance:y,point:t.clone(),uv:Ln.getUV(t,o,s,u,l,c,h,new cn),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Cn.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),$s.prototype=Object.assign(Object.create(Cn.prototype),{constructor:$s,isLOD:!0,copy:function(t){Cn.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;n<i;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,i=0;i<n.length;i++)if(e<n[i].distance)break;return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,n=1,i=e.length;n<i;n++)if(t<e[n].distance)break;return e[n-1].object},raycast:function(){var t=new dn;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var i=e.ray.origin.distanceTo(t);this.getObjectForDistance(i).raycast(e,n)}}(),update:function(){var t=new dn,e=new dn;return function(n){var i=this.levels;if(i.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);i[0].object.visible=!0;for(var a=1,o=i.length;a<o;a++){if(!(r>=i[a].distance))break;i[a-1].object.visible=!1,i[a].object.visible=!0}for(;a<o;a++)i[a].object.visible=!1}}}(),toJSON:function(t){var e=Cn.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var a=n[i];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),qs.prototype=Object.assign(Object.create(ni.prototype),{constructor:qs,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new _n,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){ni.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Xs.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new xn;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)t=this.bones[e],t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new xn,e=new xn;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,a=this.boneTexture,o=0,s=n.length;o<s;o++){var u=n[o]?n[o].matrixWorld:e;t.multiplyMatrices(u,i[o]),t.toArray(r,16*o)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Xs(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}}}),Ys.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Ys,isBone:!0}),Js.prototype=Object.create(Fn.prototype),Js.prototype.constructor=Js,Js.prototype.isLineBasicMaterial=!0,Js.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Zs.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Zs,isLine:!0,computeLineDistances:function(){var t=new dn,e=new dn;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var i=n.attributes.position,r=[0],a=1,o=i.count;a<o;a++)t.fromBufferAttribute(i,a-1),e.fromBufferAttribute(i,a),r[a]=r[a-1],r[a]+=t.distanceTo(e);n.addAttribute("lineDistance",new Jn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;r=n.lineDistances;r[0]=0;for(a=1,o=s.length;a<o;a++)r[a]=r[a-1],r[a]+=s[a-1].distanceTo(s[a])}return this}}(),raycast:function(){var t=new xn,e=new On,n=new Pn;return function(i,r){var a=i.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=a,!1!==i.ray.intersectsSphere(n)){t.getInverse(s),e.copy(i.ray).applyMatrix4(t);var u=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,c=new dn,h=new dn,d=new dn,p=new dn,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,g=o.attributes,v=g.position.array;if(null!==m)for(var y=m.array,_=0,b=y.length-1;_<b;_+=f){var w=y[_],x=y[_+1];c.fromArray(v,3*w),h.fromArray(v,3*x);var T=e.distanceSqToSegment(c,h,p,d);if(!(T>l)){p.applyMatrix4(this.matrixWorld);var S=i.ray.origin.distanceTo(p);S<i.near||S>i.far||r.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(_=0,b=v.length/3-1;_<b;_+=f){c.fromArray(v,3*_),h.fromArray(v,3*_+3);T=e.distanceSqToSegment(c,h,p,d);if(!(T>l)){p.applyMatrix4(this.matrixWorld);S=i.ray.origin.distanceTo(p);S<i.near||S>i.far||r.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(o.isGeometry){var E=o.vertices,M=E.length;for(_=0;_<M-1;_+=f){T=e.distanceSqToSegment(E[_],E[_+1],p,d);if(!(T>l)){p.applyMatrix4(this.matrixWorld);S=i.ray.origin.distanceTo(p);S<i.near||S>i.far||r.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ks.prototype=Object.assign(Object.create(Zs.prototype),{constructor:Ks,isLineSegments:!0,computeLineDistances:function(){var t=new dn,e=new dn;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var i=n.attributes.position,r=[],a=0,o=i.count;a<o;a+=2)t.fromBufferAttribute(i,a),e.fromBufferAttribute(i,a+1),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+t.distanceTo(e);n.addAttribute("lineDistance",new Jn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(r=n.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+t.distanceTo(e)}return this}}()}),Qs.prototype=Object.assign(Object.create(Zs.prototype),{constructor:Qs,isLineLoop:!0}),tu.prototype=Object.create(Fn.prototype),tu.prototype.constructor=tu,tu.prototype.isPointsMaterial=!0,tu.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},eu.prototype=Object.assign(Object.create(Cn.prototype),{constructor:eu,isPoints:!0,raycast:function(){var t=new xn,e=new On,n=new Pn;return function(i,r){var a=this,o=this.geometry,s=this.matrixWorld,u=i.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=u,!1!==i.ray.intersectsSphere(n)){t.getInverse(s),e.copy(i.ray).applyMatrix4(t);var l=u/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,h=new dn,d=new dn;if(o.isBufferGeometry){var p=o.index,f=o.attributes,m=f.position.array;if(null!==p)for(var g=p.array,v=0,y=g.length;v<y;v++){var _=g[v];h.fromArray(m,3*_),x(h,_)}else{v=0;for(var b=m.length/3;v<b;v++)h.fromArray(m,3*v),x(h,v)}}else{var w=o.vertices;for(v=0,b=w.length;v<b;v++)x(w[v],v)}}function x(t,n){var o=e.distanceSqToPoint(t);if(o<c){e.closestPointToPoint(t,d),d.applyMatrix4(s);var u=i.ray.origin.distanceTo(d);if(u<i.near||u>i.far)return;r.push({distance:u,distanceToRay:Math.sqrt(o),point:d.clone(),index:n,face:null,object:a})}}}}(),updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),nu.prototype=Object.assign(Object.create(yn.prototype),{constructor:nu,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),iu.prototype=Object.create(yn.prototype),iu.prototype.constructor=iu,iu.prototype.isCompressedTexture=!0,ru.prototype=Object.create(yn.prototype),ru.prototype.constructor=ru,ru.prototype.isCanvasTexture=!0,au.prototype=Object.create(yn.prototype),au.prototype.constructor=au,au.prototype.isDepthTexture=!0,ou.prototype=Object.create(ei.prototype),ou.prototype.constructor=ou,su.prototype=Object.create(ri.prototype),su.prototype.constructor=su,uu.prototype=Object.create(ei.prototype),uu.prototype.constructor=uu,lu.prototype=Object.create(ri.prototype),lu.prototype.constructor=lu,cu.prototype=Object.create(ei.prototype),cu.prototype.constructor=cu,hu.prototype=Object.create(ri.prototype),hu.prototype.constructor=hu,du.prototype=Object.create(cu.prototype),du.prototype.constructor=du,pu.prototype=Object.create(ri.prototype),pu.prototype.constructor=pu,fu.prototype=Object.create(cu.prototype),fu.prototype.constructor=fu,mu.prototype=Object.create(ri.prototype),mu.prototype.constructor=mu,gu.prototype=Object.create(cu.prototype),gu.prototype.constructor=gu,vu.prototype=Object.create(ri.prototype),vu.prototype.constructor=vu,yu.prototype=Object.create(cu.prototype),yu.prototype.constructor=yu,_u.prototype=Object.create(ri.prototype),_u.prototype.constructor=_u,bu.prototype=Object.create(ei.prototype),bu.prototype.constructor=bu,bu.prototype.toJSON=function(){var t=ei.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},wu.prototype=Object.create(ri.prototype),wu.prototype.constructor=wu,xu.prototype=Object.create(ei.prototype),xu.prototype.constructor=xu,Tu.prototype=Object.create(ri.prototype),Tu.prototype.constructor=Tu,Su.prototype=Object.create(ei.prototype),Su.prototype.constructor=Su;var Eu={triangulate:function(t,e,n){n=n||2;var i,r,a,o,s,u,l,c=e&&e.length,h=c?e[0]*n:t.length,d=Mu(t,0,h,n,!0),p=[];if(!d||d.next===d.prev)return p;if(c&&(d=Ru(t,e,d,n)),t.length>80*n){i=a=t[0],r=o=t[1];for(var f=n;f<h;f+=n)s=t[f],u=t[f+1],s<i&&(i=s),u<r&&(r=u),s>a&&(a=s),u>o&&(o=u);l=Math.max(a-i,o-r),l=0!==l?1/l:0}return Au(d,p,n,i,r,l),p}};function Mu(t,e,n,i,r){var a,o;if(r===Qu(t,e,n,i)>0)for(a=e;a<n;a+=i)o=Ju(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=Ju(a,t[a],t[a+1],o);return o&&Gu(o,o.next)&&(Zu(o),o=o.next),o}function Cu(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Gu(i,i.next)&&0!==Hu(i.prev,i,i.next))i=i.next;else{if(Zu(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function Au(t,e,n,i,r,a,o){if(t){!o&&a&&Uu(t,i,r,a);var s,u,l=t;while(t.prev!==t.next)if(s=t.prev,u=t.next,a?Pu(t,i,r,a):ku(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Zu(t),t=u.next,l=u.next;else if(t=u,t===l){o?1===o?(t=Ou(t,e,n),Au(t,e,n,i,r,a,2)):2===o&&Lu(t,e,n,i,r,a):Au(Cu(t),e,n,i,r,a,1);break}}}function ku(t){var e=t.prev,n=t,i=t.next;if(Hu(e,n,i)>=0)return!1;var r=t.next.next;while(r!==t.prev){if(zu(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Hu(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Pu(t,e,n,i){var r=t.prev,a=t,o=t.next;if(Hu(r,a,o)>=0)return!1;var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,u=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,l=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,c=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,h=ju(s,u,e,n,i),d=ju(l,c,e,n,i),p=t.prevZ,f=t.nextZ;while(p&&p.z>=h&&f&&f.z<=d){if(p!==t.prev&&p!==t.next&&zu(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Hu(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&zu(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Hu(f.prev,f,f.next)>=0)return!1;f=f.nextZ}while(p&&p.z>=h){if(p!==t.prev&&p!==t.next&&zu(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Hu(p.prev,p,p.next)>=0)return!1;p=p.prevZ}while(f&&f.z<=d){if(f!==t.prev&&f!==t.next&&zu(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Hu(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Ou(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!Gu(r,a)&&Wu(r,i,i.next,a)&&qu(r,a)&&qu(a,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(a.i/n),Zu(i),Zu(i.next),i=t=a),i=i.next}while(i!==t);return i}function Lu(t,e,n,i,r,a){var o=t;do{var s=o.next.next;while(s!==o.prev){if(o.i!==s.i&&Vu(o,s)){var u=Yu(o,s);return o=Cu(o,o.next),u=Cu(u,u.next),Au(o,e,n,i,r,a),void Au(u,e,n,i,r,a)}s=s.next}o=o.next}while(o!==t)}function Ru(t,e,n,i){var r,a,o,s,u,l=[];for(r=0,a=e.length;r<a;r++)o=e[r]*i,s=r<a-1?e[r+1]*i:t.length,u=Mu(t,o,s,i,!1),u===u.next&&(u.steiner=!0),l.push(Fu(u));for(l.sort(Iu),r=0;r<l.length;r++)Du(l[r],n),n=Cu(n,n.next);return n}function Iu(t,e){return t.x-e.x}function Du(t,e){if(e=Nu(t,e),e){var n=Yu(e,t);Cu(n,n.next)}}function Nu(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n.prev;var u,l=n,c=n.x,h=n.y,d=1/0;i=n.next;while(i!==l)r>=i.x&&i.x>=c&&r!==i.x&&zu(a<h?r:o,a,c,h,a<h?o:r,a,i.x,i.y)&&(u=Math.abs(a-i.y)/(r-i.x),(u<d||u===d&&i.x>n.x)&&qu(i,t)&&(n=i,d=u)),i=i.next;return n}function Uu(t,e,n,i){var r=t;do{null===r.z&&(r.z=ju(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,Bu(r)}function Bu(t){var e,n,i,r,a,o,s,u,l=1;do{n=t,t=null,a=null,o=0;while(n){for(o++,i=n,s=0,e=0;e<l;e++)if(s++,i=i.nextZ,!i)break;u=l;while(s>0||u>0&&i)0!==s&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,u--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,l*=2}while(o>1);return t}function ju(t,e,n,i,r){return t=32767*(t-n)*r,e=32767*(e-i)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Fu(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function zu(t,e,n,i,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function Vu(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!$u(t,e)&&qu(t,e)&&qu(e,t)&&Xu(t,e)}function Hu(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Gu(t,e){return t.x===e.x&&t.y===e.y}function Wu(t,e,n,i){return!!(Gu(t,n)&&Gu(e,i)||Gu(t,i)&&Gu(n,e))||Hu(t,e,n)>0!==Hu(t,e,i)>0&&Hu(n,i,t)>0!==Hu(n,i,e)>0}function $u(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Wu(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function qu(t,e){return Hu(t.prev,t,t.next)<0?Hu(t,e,t.next)>=0&&Hu(t,t.prev,e)>=0:Hu(t,e,t.prev)<0||Hu(t,t.next,e)<0}function Xu(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}function Yu(t,e){var n=new Ku(t.i,t.x,t.y),i=new Ku(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Ju(t,e,n,i){var r=new Ku(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Zu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ku(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qu(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}var tl={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return tl.area(t)<0},triangulateShape:function(t,e){var n=[],i=[],r=[];el(t),nl(n,t);var a=t.length;e.forEach(el);for(var o=0;o<e.length;o++)i.push(a),a+=e[o].length,nl(n,e[o]);var s=Eu.triangulate(n,i);for(o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function el(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function nl(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function il(t,e){ri.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new rl(t,e)),this.mergeVertices()}function rl(t,e){ei.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var n=this,i=[],r=[],a=0,o=t.length;a<o;a++){var s=t[a];u(s)}function u(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,c=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:c-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,p=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:al;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=e.amount);var g,v,y,_,b,w,x,T,S=!1;f&&(g=f.getSpacedPoints(s),S=!0,l=!1,v=f.computeFrenetFrames(s,!1),y=new dn,_=new dn,b=new dn),l||(p=0,c=0,h=0,d=0);var E=t.extractPoints(o),M=E.shape,C=E.holes,A=!tl.isClockWise(M);if(A)for(M=M.reverse(),x=0,T=C.length;x<T;x++)w=C[x],tl.isClockWise(w)&&(C[x]=w.reverse());var k=tl.triangulateShape(M,C),P=M;for(x=0,T=C.length;x<T;x++)w=C[x],M=M.concat(w);function O(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var L,R,I,D,N,U,B=M.length,j=k.length;function F(t,e,n){var i,r,a,o=t.x-e.x,s=t.y-e.y,u=n.x-t.x,l=n.y-t.y,c=o*o+s*s,h=o*l-s*u;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(c),p=Math.sqrt(u*u+l*l),f=e.x-s/d,m=e.y+o/d,g=n.x-l/p,v=n.y+u/p,y=((g-f)*l-(v-m)*u)/(o*l-s*u);i=f+o*y-t.x,r=m+s*y-t.y;var _=i*i+r*r;if(_<=2)return new cn(i,r);a=Math.sqrt(_/2)}else{var b=!1;o>Number.EPSILON?u>Number.EPSILON&&(b=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(b=!0):Math.sign(s)===Math.sign(l)&&(b=!0),b?(i=-s,r=o,a=Math.sqrt(c)):(i=o,r=s,a=Math.sqrt(c/2))}return new cn(i/a,r/a)}for(var z=[],V=0,H=P.length,G=H-1,W=V+1;V<H;V++,G++,W++)G===H&&(G=0),W===H&&(W=0),z[V]=F(P[V],P[G],P[W]);var $,q,X=[],Y=z.concat();for(x=0,T=C.length;x<T;x++){for(w=C[x],$=[],V=0,H=w.length,G=H-1,W=V+1;V<H;V++,G++,W++)G===H&&(G=0),W===H&&(W=0),$[V]=F(w[V],w[G],w[W]);X.push($),Y=Y.concat($)}for(L=0;L<p;L++){for(I=L/p,D=c*Math.cos(I*Math.PI/2),R=h*Math.sin(I*Math.PI/2)+d,V=0,H=P.length;V<H;V++)N=O(P[V],z[V],R),Q(N.x,N.y,-D);for(x=0,T=C.length;x<T;x++)for(w=C[x],$=X[x],V=0,H=w.length;V<H;V++)N=O(w[V],$[V],R),Q(N.x,N.y,-D)}for(R=h+d,V=0;V<B;V++)N=l?O(M[V],Y[V],R):M[V],S?(_.copy(v.normals[0]).multiplyScalar(N.x),y.copy(v.binormals[0]).multiplyScalar(N.y),b.copy(g[0]).add(_).add(y),Q(b.x,b.y,b.z)):Q(N.x,N.y,0);for(q=1;q<=s;q++)for(V=0;V<B;V++)N=l?O(M[V],Y[V],R):M[V],S?(_.copy(v.normals[q]).multiplyScalar(N.x),y.copy(v.binormals[q]).multiplyScalar(N.y),b.copy(g[q]).add(_).add(y),Q(b.x,b.y,b.z)):Q(N.x,N.y,u/s*q);for(L=p-1;L>=0;L--){for(I=L/p,D=c*Math.cos(I*Math.PI/2),R=h*Math.sin(I*Math.PI/2)+d,V=0,H=P.length;V<H;V++)N=O(P[V],z[V],R),Q(N.x,N.y,u+D);for(x=0,T=C.length;x<T;x++)for(w=C[x],$=X[x],V=0,H=w.length;V<H;V++)N=O(w[V],$[V],R),S?Q(N.x,N.y+g[s-1].y,g[s-1].x+D):Q(N.x,N.y,u+D)}function J(){var t=i.length/3;if(l){var e=0,r=B*e;for(V=0;V<j;V++)U=k[V],tt(U[2]+r,U[1]+r,U[0]+r);for(e=s+2*p,r=B*e,V=0;V<j;V++)U=k[V],tt(U[0]+r,U[1]+r,U[2]+r)}else{for(V=0;V<j;V++)U=k[V],tt(U[2],U[1],U[0]);for(V=0;V<j;V++)U=k[V],tt(U[0]+B*s,U[1]+B*s,U[2]+B*s)}n.addGroup(t,i.length/3-t,0)}function Z(){var t=i.length/3,e=0;for(K(P,e),e+=P.length,x=0,T=C.length;x<T;x++)w=C[x],K(w,e),e+=w.length;n.addGroup(t,i.length/3-t,1)}function K(t,e){var n,i;V=t.length;while(--V>=0){n=V,i=V-1,i<0&&(i=t.length-1);var r=0,a=s+2*p;for(r=0;r<a;r++){var o=B*r,u=B*(r+1),l=e+n+o,c=e+i+o,h=e+i+u,d=e+n+u;et(l,c,h,d)}}}function Q(t,e,n){a.push(t),a.push(e),a.push(n)}function tt(t,e,r){nt(t),nt(e),nt(r);var a=i.length/3,o=m.generateTopUV(n,i,a-3,a-2,a-1);it(o[0]),it(o[1]),it(o[2])}function et(t,e,r,a){nt(t),nt(e),nt(a),nt(e),nt(r),nt(a);var o=i.length/3,s=m.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);it(s[0]),it(s[1]),it(s[3]),it(s[1]),it(s[2]),it(s[3])}function nt(t){i.push(a[3*t+0]),i.push(a[3*t+1]),i.push(a[3*t+2])}function it(t){r.push(t.x),r.push(t.y)}J(),Z()}this.addAttribute("position",new Jn(i,3)),this.addAttribute("uv",new Jn(r,2)),this.computeVertexNormals()}il.prototype=Object.create(ri.prototype),il.prototype.constructor=il,il.prototype.toJSON=function(){var t=ri.prototype.toJSON.call(this),e=this.parameters.shapes,n=this.parameters.options;return ol(e,n,t)},rl.prototype=Object.create(ei.prototype),rl.prototype.constructor=rl,rl.prototype.toJSON=function(){var t=ei.prototype.toJSON.call(this),e=this.parameters.shapes,n=this.parameters.options;return ol(e,n,t)};var al={generateTopUV:function(t,e,n,i,r){var a=e[3*n],o=e[3*n+1],s=e[3*i],u=e[3*i+1],l=e[3*r],c=e[3*r+1];return[new cn(a,o),new cn(s,u),new cn(l,c)]},generateSideWallUV:function(t,e,n,i,r,a){var o=e[3*n],s=e[3*n+1],u=e[3*n+2],l=e[3*i],c=e[3*i+1],h=e[3*i+2],d=e[3*r],p=e[3*r+1],f=e[3*r+2],m=e[3*a],g=e[3*a+1],v=e[3*a+2];return Math.abs(s-c)<.01?[new cn(o,1-u),new cn(l,1-h),new cn(d,1-f),new cn(m,1-v)]:[new cn(s,1-u),new cn(c,1-h),new cn(p,1-f),new cn(g,1-v)]}};function ol(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function sl(t,e){ri.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new ul(t,e)),this.mergeVertices()}function ul(t,e){e=e||{};var n=e.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ri;var i=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),rl.call(this,i,e),this.type="TextBufferGeometry"}function ll(t,e,n,i,r,a,o){ri.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new cl(t,e,n,i,r,a,o)),this.mergeVertices()}function cl(t,e,n,i,r,a,o){ei.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),c=0,h=[],d=new dn,p=new dn,f=[],m=[],g=[],v=[];for(u=0;u<=n;u++){var y=[],_=u/n,b=0;for(0==u&&0==a?b=.5/e:u==n&&l==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var w=s/e;d.x=-t*Math.cos(i+w*r)*Math.sin(a+_*o),d.y=t*Math.cos(a+_*o),d.z=t*Math.sin(i+w*r)*Math.sin(a+_*o),m.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),v.push(w+b,1-_),y.push(c++)}h.push(y)}for(u=0;u<n;u++)for(s=0;s<e;s++){var x=h[u][s+1],T=h[u][s],S=h[u+1][s],E=h[u+1][s+1];(0!==u||a>0)&&f.push(x,T,E),(u!==n-1||l<Math.PI)&&f.push(T,S,E)}this.setIndex(f),this.addAttribute("position",new Jn(m,3)),this.addAttribute("normal",new Jn(g,3)),this.addAttribute("uv",new Jn(v,2))}function hl(t,e,n,i,r,a){ri.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new dl(t,e,n,i,r,a)),this.mergeVertices()}function dl(t,e,n,i,r,a){ei.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},t=t||.5,e=e||1,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,i=void 0!==i?Math.max(1,i):1;var o,s,u,l=[],c=[],h=[],d=[],p=t,f=(e-t)/i,m=new dn,g=new cn;for(s=0;s<=i;s++){for(u=0;u<=n;u++)o=r+u/n*a,m.x=p*Math.cos(o),m.y=p*Math.sin(o),c.push(m.x,m.y,m.z),h.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,d.push(g.x,g.y);p+=f}for(s=0;s<i;s++){var v=s*(n+1);for(u=0;u<n;u++){o=u+v;var y=o,_=o+n+1,b=o+n+2,w=o+1;l.push(y,_,w),l.push(_,b,w)}}this.setIndex(l),this.addAttribute("position",new Jn(c,3)),this.addAttribute("normal",new Jn(h,3)),this.addAttribute("uv",new Jn(d,2))}function pl(t,e,n,i){ri.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},this.fromBufferGeometry(new fl(t,e,n,i)),this.mergeVertices()}function fl(t,e,n,i){ei.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e)||12,n=n||0,i=i||2*Math.PI,i=ln.clamp(i,0,2*Math.PI);var r,a,o,s=[],u=[],l=[],c=1/e,h=new dn,d=new cn;for(a=0;a<=e;a++){var p=n+a*c*i,f=Math.sin(p),m=Math.cos(p);for(o=0;o<=t.length-1;o++)h.x=t[o].x*f,h.y=t[o].y,h.z=t[o].x*m,u.push(h.x,h.y,h.z),d.x=a/e,d.y=o/(t.length-1),l.push(d.x,d.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){r=o+a*t.length;var g=r,v=r+t.length,y=r+t.length+1,_=r+1;s.push(g,v,_),s.push(v,y,_)}if(this.setIndex(s),this.addAttribute("position",new Jn(u,3)),this.addAttribute("uv",new Jn(l,2)),this.computeVertexNormals(),i===2*Math.PI){var b=this.attributes.normal.array,w=new dn,x=new dn,T=new dn;for(r=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)w.x=b[o+0],w.y=b[o+1],w.z=b[o+2],x.x=b[r+o+0],x.y=b[r+o+1],x.z=b[r+o+2],T.addVectors(w,x).normalize(),b[o+0]=b[r+o+0]=T.x,b[o+1]=b[r+o+1]=T.y,b[o+2]=b[r+o+2]=T.z}}function ml(t,e){ri.call(this),this.type="ShapeGeometry","object"===typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new gl(t,e)),this.mergeVertices()}function gl(t,e){ei.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],i=[],r=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var u=0;u<t.length;u++)l(t[u]),this.addGroup(o,s,u),o+=s,s=0;function l(t){var o,u,l,c=i.length/3,h=t.extractPoints(e),d=h.shape,p=h.holes;for(!1===tl.isClockWise(d)&&(d=d.reverse()),o=0,u=p.length;o<u;o++)l=p[o],!0===tl.isClockWise(l)&&(p[o]=l.reverse());var f=tl.triangulateShape(d,p);for(o=0,u=p.length;o<u;o++)l=p[o],d=d.concat(l);for(o=0,u=d.length;o<u;o++){var m=d[o];i.push(m.x,m.y,0),r.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=f.length;o<u;o++){var g=f[o],v=g[0]+c,y=g[1]+c,_=g[2]+c;n.push(v,y,_),s+=3}}this.setIndex(n),this.addAttribute("position",new Jn(i,3)),this.addAttribute("normal",new Jn(r,3)),this.addAttribute("uv",new Jn(a,2))}function vl(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}function yl(t,e){ei.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,i,r,a,o=[],s=Math.cos(ln.DEG2RAD*e),u=[0,0],l={},c=["a","b","c"];t.isBufferGeometry?(a=new ri,a.fromBufferGeometry(t)):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var h=a.vertices,d=a.faces,p=0,f=d.length;p<f;p++)for(var m=d[p],g=0;g<3;g++)n=m[c[g]],i=m[c[(g+1)%3]],u[0]=Math.min(n,i),u[1]=Math.max(n,i),r=u[0]+","+u[1],void 0===l[r]?l[r]={index1:u[0],index2:u[1],face1:p,face2:void 0}:l[r].face2=p;for(r in l){var v=l[r];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=s){var y=h[v.index1];o.push(y.x,y.y,y.z),y=h[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Jn(o,3))}function _l(t,e,n,i,r,a,o,s){ri.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new bl(t,e,n,i,r,a,o,s)),this.mergeVertices()}function bl(t,e,n,i,r,a,o,s){ei.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};var u=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],c=[],h=[],d=[],p=0,f=[],m=n/2,g=0;function v(){var a,v,y=new dn,_=new dn,b=0,w=(e-t)/n;for(v=0;v<=r;v++){var x=[],T=v/r,S=T*(e-t)+t;for(a=0;a<=i;a++){var E=a/i,M=E*s+o,C=Math.sin(M),A=Math.cos(M);_.x=S*C,_.y=-T*n+m,_.z=S*A,c.push(_.x,_.y,_.z),y.set(C,w,A).normalize(),h.push(y.x,y.y,y.z),d.push(E,1-T),x.push(p++)}f.push(x)}for(a=0;a<i;a++)for(v=0;v<r;v++){var k=f[v][a],P=f[v+1][a],O=f[v+1][a+1],L=f[v][a+1];l.push(k,P,L),l.push(P,O,L),b+=6}u.addGroup(g,b,0),g+=b}function y(n){var r,a,f,v=new cn,y=new dn,_=0,b=!0===n?t:e,w=!0===n?1:-1;for(a=p,r=1;r<=i;r++)c.push(0,m*w,0),h.push(0,w,0),d.push(.5,.5),p++;for(f=p,r=0;r<=i;r++){var x=r/i,T=x*s+o,S=Math.cos(T),E=Math.sin(T);y.x=b*E,y.y=m*w,y.z=b*S,c.push(y.x,y.y,y.z),h.push(0,w,0),v.x=.5*S+.5,v.y=.5*E*w+.5,d.push(v.x,v.y),p++}for(r=0;r<i;r++){var M=a+r,C=f+r;!0===n?l.push(C,C+1,M):l.push(C+1,C,M),_+=3}u.addGroup(g,_,!0===n?1:2),g+=_}v(),!1===a&&(t>0&&y(!0),e>0&&y(!1)),this.setIndex(l),this.addAttribute("position",new Jn(c,3)),this.addAttribute("normal",new Jn(h,3)),this.addAttribute("uv",new Jn(d,2))}function wl(t,e,n,i,r,a,o){_l.call(this,0,t,e,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function xl(t,e,n,i,r,a,o){bl.call(this,0,t,e,n,i,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function Tl(t,e,n,i){ri.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Sl(t,e,n,i)),this.mergeVertices()}function Sl(t,e,n,i){ei.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,a,o=[],s=[],u=[],l=[],c=new dn,h=new cn;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,r=3;a<=e;a++,r+=3){var d=n+a/e*i;c.x=t*Math.cos(d),c.y=t*Math.sin(d),s.push(c.x,c.y,c.z),u.push(0,0,1),h.x=(s[r]/t+1)/2,h.y=(s[r+1]/t+1)/2,l.push(h.x,h.y)}for(r=1;r<=e;r++)o.push(r,r+1,0);this.setIndex(o),this.addAttribute("position",new Jn(s,3)),this.addAttribute("normal",new Jn(u,3)),this.addAttribute("uv",new Jn(l,2))}sl.prototype=Object.create(ri.prototype),sl.prototype.constructor=sl,ul.prototype=Object.create(rl.prototype),ul.prototype.constructor=ul,ll.prototype=Object.create(ri.prototype),ll.prototype.constructor=ll,cl.prototype=Object.create(ei.prototype),cl.prototype.constructor=cl,hl.prototype=Object.create(ri.prototype),hl.prototype.constructor=hl,dl.prototype=Object.create(ei.prototype),dl.prototype.constructor=dl,pl.prototype=Object.create(ri.prototype),pl.prototype.constructor=pl,fl.prototype=Object.create(ei.prototype),fl.prototype.constructor=fl,ml.prototype=Object.create(ri.prototype),ml.prototype.constructor=ml,ml.prototype.toJSON=function(){var t=ri.prototype.toJSON.call(this),e=this.parameters.shapes;return vl(e,t)},gl.prototype=Object.create(ei.prototype),gl.prototype.constructor=gl,gl.prototype.toJSON=function(){var t=ei.prototype.toJSON.call(this),e=this.parameters.shapes;return vl(e,t)},yl.prototype=Object.create(ei.prototype),yl.prototype.constructor=yl,_l.prototype=Object.create(ri.prototype),_l.prototype.constructor=_l,bl.prototype=Object.create(ei.prototype),bl.prototype.constructor=bl,wl.prototype=Object.create(_l.prototype),wl.prototype.constructor=wl,xl.prototype=Object.create(bl.prototype),xl.prototype.constructor=xl,Tl.prototype=Object.create(ri.prototype),Tl.prototype.constructor=Tl,Sl.prototype=Object.create(ei.prototype),Sl.prototype.constructor=Sl;var El=Object.freeze({WireframeGeometry:ou,ParametricGeometry:su,ParametricBufferGeometry:uu,TetrahedronGeometry:hu,TetrahedronBufferGeometry:du,OctahedronGeometry:pu,OctahedronBufferGeometry:fu,IcosahedronGeometry:mu,IcosahedronBufferGeometry:gu,DodecahedronGeometry:vu,DodecahedronBufferGeometry:yu,PolyhedronGeometry:lu,PolyhedronBufferGeometry:cu,TubeGeometry:_u,TubeBufferGeometry:bu,TorusKnotGeometry:wu,TorusKnotBufferGeometry:xu,TorusGeometry:Tu,TorusBufferGeometry:Su,TextGeometry:sl,TextBufferGeometry:ul,SphereGeometry:ll,SphereBufferGeometry:cl,RingGeometry:hl,RingBufferGeometry:dl,PlaneGeometry:Ba,PlaneBufferGeometry:ja,LatheGeometry:pl,LatheBufferGeometry:fl,ShapeGeometry:ml,ShapeBufferGeometry:gl,ExtrudeGeometry:il,ExtrudeBufferGeometry:rl,EdgesGeometry:yl,ConeGeometry:wl,ConeBufferGeometry:xl,CylinderGeometry:_l,CylinderBufferGeometry:bl,CircleGeometry:Tl,CircleBufferGeometry:Sl,BoxGeometry:ai,BoxBufferGeometry:oi});function Ml(t){Fn.call(this),this.type="ShadowMaterial",this.color=new In(0),this.transparent=!0,this.setValues(t)}function Cl(t){di.call(this,t),this.type="RawShaderMaterial"}function Al(t){Fn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new In(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ge,this.normalScale=new cn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function kl(t){Al.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Pl(t){Fn.call(this),this.type="MeshPhongMaterial",this.color=new In(16777215),this.specular=new In(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ge,this.normalScale=new cn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ol(t){Pl.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function Ll(t){Fn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ge,this.normalScale=new cn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Rl(t){Fn.call(this),this.type="MeshLambertMaterial",this.color=new In(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Il(t){Fn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new In(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ge,this.normalScale=new cn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function Dl(t){Js.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Ml.prototype=Object.create(Fn.prototype),Ml.prototype.constructor=Ml,Ml.prototype.isShadowMaterial=!0,Ml.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.color.copy(t.color),this},Cl.prototype=Object.create(di.prototype),Cl.prototype.constructor=Cl,Cl.prototype.isRawShaderMaterial=!0,Al.prototype=Object.create(Fn.prototype),Al.prototype.constructor=Al,Al.prototype.isMeshStandardMaterial=!0,Al.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},kl.prototype=Object.create(Al.prototype),kl.prototype.constructor=kl,kl.prototype.isMeshPhysicalMaterial=!0,kl.prototype.copy=function(t){return Al.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Pl.prototype=Object.create(Fn.prototype),Pl.prototype.constructor=Pl,Pl.prototype.isMeshPhongMaterial=!0,Pl.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ol.prototype=Object.create(Pl.prototype),Ol.prototype.constructor=Ol,Ol.prototype.isMeshToonMaterial=!0,Ol.prototype.copy=function(t){return Pl.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},Ll.prototype=Object.create(Fn.prototype),Ll.prototype.constructor=Ll,Ll.prototype.isMeshNormalMaterial=!0,Ll.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Rl.prototype=Object.create(Fn.prototype),Rl.prototype.constructor=Rl,Rl.prototype.isMeshLambertMaterial=!0,Rl.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Il.prototype=Object.create(Fn.prototype),Il.prototype.constructor=Il,Il.prototype.isMeshMatcapMaterial=!0,Il.prototype.copy=function(t){return Fn.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Dl.prototype=Object.create(Js.prototype),Dl.prototype.constructor=Dl,Dl.prototype.isLineDashedMaterial=!0,Dl.prototype.copy=function(t){return Js.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Nl=Object.freeze({ShadowMaterial:Ml,SpriteMaterial:Gs,RawShaderMaterial:Cl,ShaderMaterial:di,PointsMaterial:tu,MeshPhysicalMaterial:kl,MeshStandardMaterial:Al,MeshPhongMaterial:Pl,MeshToonMaterial:Ol,MeshNormalMaterial:Ll,MeshLambertMaterial:Rl,MeshDepthMaterial:Es,MeshDistanceMaterial:Ms,MeshBasicMaterial:zn,MeshMatcapMaterial:Il,LineDashedMaterial:Dl,LineBasicMaterial:Js,Material:Fn}),Ul={arraySlice:function(t,e,n){return Ul.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,i=new Array(n),r=0;r!==n;++r)i[r]=r;return i.sort(e),i},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*e,u=0;u!==e;++u)r[o++]=t[s+u];return r},flattenJSON:function(t,e,n,i){var r=1,a=t[0];while(void 0!==a&&void 0===a[i])a=t[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{o=a[i],void 0!==o&&(e.push(a.time),n.push.apply(n,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[i],void 0!==o&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++]}while(void 0!==a);else do{o=a[i],void 0!==o&&(e.push(a.time),n.push(o)),a=t[r++]}while(void 0!==a)}}};function Bl(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function jl(t,e,n,i){Bl.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Fl(t,e,n,i){Bl.call(this,t,e,n,i)}function zl(t,e,n,i){Bl.call(this,t,e,n,i)}function Vl(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ul.convertArray(e,this.TimeBufferType),this.values=Ul.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Hl(t,e,n){Vl.call(this,t,e,n)}function Gl(t,e,n,i){Vl.call(this,t,e,n,i)}function Wl(t,e,n,i){Vl.call(this,t,e,n,i)}function $l(t,e,n,i){Bl.call(this,t,e,n,i)}function ql(t,e,n,i){Vl.call(this,t,e,n,i)}function Xl(t,e,n,i){Vl.call(this,t,e,n,i)}function Yl(t,e,n,i){Vl.call(this,t,e,n,i)}function Jl(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=ln.generateUUID(),this.duration<0&&this.resetDuration()}function Zl(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wl;case"vector":case"vector2":case"vector3":case"vector4":return Yl;case"color":return Gl;case"quaternion":return ql;case"bool":case"boolean":return Hl;case"string":return Xl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Kl(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=Zl(t.type);if(void 0===t.times){var n=[],i=[];Ul.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(Bl.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var a;n:{i:if(!(t<i)){for(var o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}a=e.length;break n}if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}a=n,n=0}while(n<a){var u=n+a>>>1;t<e[u]?a=u:n=u+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,a=0;a!==i;++a)e[a]=n[r+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Bl.prototype,{beforeStart_:Bl.prototype.copySampleValue_,afterEnd_:Bl.prototype.copySampleValue_}),jl.prototype=Object.assign(Object.create(Bl.prototype),{constructor:jl,DefaultSettings_:{endingStart:Ae,endingEnd:Ae},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,a=t+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case ke:r=t,o=2*e-n;break;case Pe:r=i.length-2,o=e+i[r]-i[r+1];break;default:r=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ke:a=t,s=2*n-e;break;case Pe:a=1,s=n+i[1]-i[0];break;default:a=t-1,s=e}var u=.5*(n-e),l=this.valueSize;this._weightPrev=u/(e-o),this._weightNext=u/(s-n),this._offsetPrev=r*l,this._offsetNext=a*l},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-e)/(i-e),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,_=d*m-d*f,b=0;b!==o;++b)r[b]=g*a[l+b]+v*a[u+b]+y*a[s+b]+_*a[c+b];return r}}),Fl.prototype=Object.assign(Object.create(Bl.prototype),{constructor:Fl,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=(n-e)/(i-e),c=1-l,h=0;h!==o;++h)r[h]=a[u+h]*c+a[s+h]*l;return r}}),zl.prototype=Object.assign(Object.create(Bl.prototype),{constructor:zl,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Vl,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Ul.convertArray(t.times,Array),values:Ul.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}),Object.assign(Vl.prototype,{constructor:Vl,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Me,InterpolantFactoryMethodDiscrete:function(t){return new zl(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Fl(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new jl(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case Ee:e=this.InterpolantFactoryMethodDiscrete;break;case Me:e=this.InterpolantFactoryMethodLinear;break;case Ce:e=this.InterpolantFactoryMethodSmooth;break}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ee;case this.InterpolantFactoryMethodLinear:return Me;case this.InterpolantFactoryMethodSmooth:return Ce}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){var n=this.times,i=n.length,r=0,a=i-1;while(r!==i&&n[r]<t)++r;while(-1!==a&&n[a]>e)--a;if(++a,0!==r||a!==i){r>=a&&(a=Math.max(a,1),r=a-1);var o=this.getValueSize();this.times=Ul.arraySlice(n,r,a),this.values=Ul.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==i&&Ul.isTypedArray(i)){o=0;for(var u=i.length;o!==u;++o){var l=i[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),i=this.getInterpolation()===Ce,r=1,a=t.length-1,o=1;o<a;++o){var s=!1,u=t[o],l=t[o+1];if(u!==l&&(1!==o||u!==u[0]))if(i)s=!0;else for(var c=o*n,h=c-n,d=c+n,p=0;p!==n;++p){var f=e[c+p];if(f!==e[h+p]||f!==e[d+p]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];var m=o*n,g=r*n;for(p=0;p!==n;++p)e[g+p]=e[m+p]}++r}}if(a>0){t[r]=t[a];for(m=a*n,g=r*n,p=0;p!==n;++p)e[g+p]=e[m+p];++r}return r!==t.length&&(this.times=Ul.arraySlice(t,0,r),this.values=Ul.arraySlice(e,0,r*n)),this},clone:function(){var t=Ul.arraySlice(this.times,0),e=Ul.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),Hl.prototype=Object.assign(Object.create(Vl.prototype),{constructor:Hl,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ee,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Gl.prototype=Object.assign(Object.create(Vl.prototype),{constructor:Gl,ValueTypeName:"color"}),Wl.prototype=Object.assign(Object.create(Vl.prototype),{constructor:Wl,ValueTypeName:"number"}),$l.prototype=Object.assign(Object.create(Bl.prototype),{constructor:$l,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=(n-e)/(i-e),l=s+o;s!==l;s+=4)hn.slerpFlat(r,0,a,s-o,a,s,u);return r}}),ql.prototype=Object.assign(Object.create(Vl.prototype),{constructor:ql,ValueTypeName:"quaternion",DefaultInterpolation:Me,InterpolantFactoryMethodLinear:function(t){return new $l(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Xl.prototype=Object.assign(Object.create(Vl.prototype),{constructor:Xl,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ee,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Yl.prototype=Object.assign(Object.create(Vl.prototype),{constructor:Yl,ValueTypeName:"vector"}),Object.assign(Jl,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,a=n.length;r!==a;++r)e.push(Kl(n[r]).scale(i));return new Jl(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},r=0,a=n.length;r!==a;++r)e.push(Vl.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],u=[];s.push((o+r-1)%r,o,(o+1)%r),u.push(0,1,0);var l=Ul.getKeyframeOrder(s);s=Ul.sortedArray(s,1,l),u=Ul.sortedArray(u,1,l),i||0!==s[0]||(s.push(r),u.push(u[0])),a.push(new Wl(".morphTargetInfluences["+e[o].name+"]",s,u).scale(1/n))}return new Jl(t,-1,a)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],u=s.name.match(r);if(u&&u.length>1){var l=u[1],c=i[l];c||(i[l]=c=[]),c.push(s)}}var h=[];for(var l in i)h.push(Jl.CreateFromMorphTargetSequence(l,i[l],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var a=[],o=[];Ul.flattenJSON(n,a,o,i),0!==a.length&&r.push(new t(e,a,o))}},i=[],r=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},h=0;h<l.length;h++)if(l[h].morphTargets)for(var d=0;d<l[h].morphTargets.length;d++)c[l[h].morphTargets[d]]=-1;for(var p in c){var f=[],m=[];for(d=0;d!==l[h].morphTargets.length;++d){var g=l[h];f.push(g.time),m.push(g.morphTarget===p?1:0)}i.push(new Wl(".morphTargetInfluence["+p+"]",f,m))}a=c.length*(o||1)}else{var v=".bones["+e[u].name+"]";n(Yl,v+".position",l,"pos",i),n(ql,v+".quaternion",l,"rot",i),n(Yl,v+".scale",l,"scl",i)}}if(0===i.length)return null;var y=new Jl(r,a,i);return y}}),Object.assign(Jl.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,i=t.length;n!==i;++n){var r=this.tracks[n];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Jl(this.name,this.duration,t)}});var Ql={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function tc(t,e,n){var i=this,r=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===r&&void 0!==i.onStart&&i.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==i.onProgress&&i.onProgress(t,a,o),a===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var ec=new tc,nc={};function ic(t){this.manager=void 0!==t?t:ec}function rc(t){this.manager=void 0!==t?t:ec}function ac(t){this.manager=void 0!==t?t:ec,this._parser=null}function oc(t){this.manager=void 0!==t?t:ec,this._parser=null}function sc(t){this.manager=void 0!==t?t:ec}function uc(t){this.manager=void 0!==t?t:ec}function lc(t){this.manager=void 0!==t?t:ec}function cc(){this.type="Curve",this.arcLengthDivisions=200}function hc(t,e,n,i,r,a,o,s){cc.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function dc(t,e,n,i,r,a){hc.call(this,t,e,n,n,i,r,a),this.type="ArcCurve"}function pc(){var t=0,e=0,n=0,i=0;function r(r,a,o,s){t=r,e=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(t,e,n,i,a){r(e,n,a*(n-t),a*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,a,o,s){var u=(e-t)/a-(n-t)/(a+o)+(n-e)/o,l=(n-e)/o-(i-e)/(o+s)+(i-n)/s;u*=o,l*=o,r(e,n,u,l)},calc:function(r){var a=r*r,o=a*r;return t+e*r+n*a+i*o}}}Object.assign(ic.prototype,{load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Ql.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;if(void 0===nc[t]){var o=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(o);if(s){var u=s[1],l=!!s[2],c=s[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var p=new Uint8Array(c.length),f=0;f<c.length;f++)p[f]=c.charCodeAt(f);h="blob"===d?new Blob([p.buffer],{type:u}):p.buffer;break;case"document":var m=new DOMParser;h=m.parseFromString(c,u);break;case"json":h=JSON.parse(c);break;default:h=c;break}setTimeout(function(){e&&e(h),r.manager.itemEnd(t)},0)}catch(y){setTimeout(function(){i&&i(y),r.manager.itemError(t),r.manager.itemEnd(t)},0)}}else{nc[t]=[],nc[t].push({onLoad:e,onProgress:n,onError:i});var g=new XMLHttpRequest;for(var v in g.open("GET",t,!0),g.addEventListener("load",function(e){var n=this.response;Ql.add(t,n);var i=nc[t];if(delete nc[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(t)}else{for(a=0,o=i.length;a<o;a++){s=i[a];s.onError&&s.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}},!1),g.addEventListener("progress",function(e){for(var n=nc[t],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(e)}},!1),g.addEventListener("error",function(e){var n=nc[t];delete nc[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),g.addEventListener("abort",function(e){var n=nc[t];delete nc[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)g.setRequestHeader(v,this.requestHeader[v]);g.send(null)}return r.manager.itemStart(t),g}nc[t].push({onLoad:e,onProgress:n,onError:i})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(rc.prototype,{load:function(t,e,n,i){var r=this,a=new ic(r.manager);a.setPath(r.path),a.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var i=Jl.parse(t[n]);e.push(i)}return e},setPath:function(t){return this.path=t,this}}),Object.assign(ac.prototype,{load:function(t,e,n,i){var r=this,a=[],o=new iu;o.image=a;var s=new ic(this.manager);function u(u){s.load(t[u],function(t){var n=r._parser(t,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=Ct),o.format=n.format,o.needsUpdate=!0,e&&e(o))},n,i)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,c=0,h=t.length;c<h;++c)u(c);else s.load(t,function(t){var n=r._parser(t,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Ct),o.format=n.format,o.needsUpdate=!0,e&&e(o)},n,i);return o},setPath:function(t){return this.path=t,this}}),Object.assign(oc.prototype,{load:function(t,e,n,i){var r=this,a=new _i,o=new ic(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,function(t){var n=r._parser(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:bt,a.wrapT=void 0!==n.wrapT?n.wrapT:bt,a.magFilter=void 0!==n.magFilter?n.magFilter:Ct,a.minFilter=void 0!==n.minFilter?n.minFilter:Pt,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=Ct),a.needsUpdate=!0,e&&e(a,n))},n,i),a},setPath:function(t){return this.path=t,this}}),Object.assign(sc.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Ql.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),Ql.add(t,this),e&&e(this),r.manager.itemEnd(t)}function u(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(uc.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=new Za,a=new sc(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],function(t){r.images[n]=t,o++,6===o&&(r.needsUpdate=!0,e&&e(r))},void 0,i)}for(var u=0;u<t.length;++u)s(u);return r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(lc.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=new yn,a=new sc(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(n){r.image=n;var i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Wt:$t,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(cc.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,i=[],r=this.getPoint(0),a=0;for(i.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),a+=e.distanceTo(r),i.push(a),r=e;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,a=i.length;n=e||t*i[a-1];var o,s=0,u=a-1;while(s<=u)if(r=Math.floor(s+(u-s)/2),o=i[r]-n,o<0)s=r+1;else{if(!(o>0)){u=r;break}u=r-1}if(r=u,i[r]===n)return r/(a-1);var l=i[r],c=i[r+1],h=c-l,d=(n-l)/h,p=(r+d)/(a-1);return p},getTangent:function(t){var e=1e-4,n=t-e,i=t+e;n<0&&(n=0),i>1&&(i=1);var r=this.getPoint(n),a=this.getPoint(i),o=a.clone().sub(r);return o.normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,i,r,a=new dn,o=[],s=[],u=[],l=new dn,c=new xn;for(n=0;n<=t;n++)i=n/t,o[n]=this.getTangentAt(i),o[n].normalize();s[0]=new dn,u[0]=new dn;var h=Number.MAX_VALUE,d=Math.abs(o[0].x),p=Math.abs(o[0].y),f=Math.abs(o[0].z);for(d<=h&&(h=d,a.set(1,0,0)),p<=h&&(h=p,a.set(0,1,0)),f<=h&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),l.crossVectors(o[n-1],o[n]),l.length()>Number.EPSILON&&(l.normalize(),r=Math.acos(ln.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(c.makeRotationAxis(l,r))),u[n].crossVectors(o[n],s[n]);if(!0===e)for(r=Math.acos(ln.clamp(s[0].dot(s[t]),-1,1)),r/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(r=-r),n=1;n<=t;n++)s[n].applyMatrix4(c.makeRotationAxis(o[n],r*n)),u[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),hc.prototype=Object.create(cc.prototype),hc.prototype.constructor=hc,hc.prototype.isEllipseCurve=!0,hc.prototype.getPoint=function(t,e){var n=e||new cn,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;while(r<0)r+=i;while(r>i)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=u-this.aY;s=h*l-d*c+this.aX,u=h*c+d*l+this.aY}return n.set(s,u)},hc.prototype.copy=function(t){return cc.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},hc.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},hc.prototype.fromJSON=function(t){return cc.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},dc.prototype=Object.create(hc.prototype),dc.prototype.constructor=dc,dc.prototype.isArcCurve=!0;var fc=new dn,mc=new pc,gc=new pc,vc=new pc;function yc(t,e,n,i){cc.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=i||.5}function _c(t,e,n,i,r){var a=.5*(i-e),o=.5*(r-n),s=t*t,u=t*s;return(2*n-2*i+a+o)*u+(-3*n+3*i-2*a-o)*s+a*t+n}function bc(t,e){var n=1-t;return n*n*e}function wc(t,e){return 2*(1-t)*t*e}function xc(t,e){return t*t*e}function Tc(t,e,n,i){return bc(t,e)+wc(t,n)+xc(t,i)}function Sc(t,e){var n=1-t;return n*n*n*e}function Ec(t,e){var n=1-t;return 3*n*n*t*e}function Mc(t,e){return 3*(1-t)*t*t*e}function Cc(t,e){return t*t*t*e}function Ac(t,e,n,i,r){return Sc(t,e)+Ec(t,n)+Mc(t,i)+Cc(t,r)}function kc(t,e,n,i){cc.call(this),this.type="CubicBezierCurve",this.v0=t||new cn,this.v1=e||new cn,this.v2=n||new cn,this.v3=i||new cn}function Pc(t,e,n,i){cc.call(this),this.type="CubicBezierCurve3",this.v0=t||new dn,this.v1=e||new dn,this.v2=n||new dn,this.v3=i||new dn}function Oc(t,e){cc.call(this),this.type="LineCurve",this.v1=t||new cn,this.v2=e||new cn}function Lc(t,e){cc.call(this),this.type="LineCurve3",this.v1=t||new dn,this.v2=e||new dn}function Rc(t,e,n){cc.call(this),this.type="QuadraticBezierCurve",this.v0=t||new cn,this.v1=e||new cn,this.v2=n||new cn}function Ic(t,e,n){cc.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new dn,this.v1=e||new dn,this.v2=n||new dn}function Dc(t){cc.call(this),this.type="SplineCurve",this.points=t||[]}yc.prototype=Object.create(cc.prototype),yc.prototype.constructor=yc,yc.prototype.isCatmullRomCurve3=!0,yc.prototype.getPoint=function(t,e){var n,i,r,a,o=e||new dn,s=this.points,u=s.length,l=(u-(this.closed?0:1))*t,c=Math.floor(l),h=l-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/u)+1)*u:0===h&&c===u-1&&(c=u-2,h=1),this.closed||c>0?n=s[(c-1)%u]:(fc.subVectors(s[0],s[1]).add(s[0]),n=fc),i=s[c%u],r=s[(c+1)%u],this.closed||c+2<u?a=s[(c+2)%u]:(fc.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=fc),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(i),d),f=Math.pow(i.distanceToSquared(r),d),m=Math.pow(r.distanceToSquared(a),d);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),mc.initNonuniformCatmullRom(n.x,i.x,r.x,a.x,p,f,m),gc.initNonuniformCatmullRom(n.y,i.y,r.y,a.y,p,f,m),vc.initNonuniformCatmullRom(n.z,i.z,r.z,a.z,p,f,m)}else"catmullrom"===this.curveType&&(mc.initCatmullRom(n.x,i.x,r.x,a.x,this.tension),gc.initCatmullRom(n.y,i.y,r.y,a.y,this.tension),vc.initCatmullRom(n.z,i.z,r.z,a.z,this.tension));return o.set(mc.calc(h),gc.calc(h),vc.calc(h)),o},yc.prototype.copy=function(t){cc.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},yc.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},yc.prototype.fromJSON=function(t){cc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new dn).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},kc.prototype=Object.create(cc.prototype),kc.prototype.constructor=kc,kc.prototype.isCubicBezierCurve=!0,kc.prototype.getPoint=function(t,e){var n=e||new cn,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(Ac(t,i.x,r.x,a.x,o.x),Ac(t,i.y,r.y,a.y,o.y)),n},kc.prototype.copy=function(t){return cc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},kc.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},kc.prototype.fromJSON=function(t){return cc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Pc.prototype=Object.create(cc.prototype),Pc.prototype.constructor=Pc,Pc.prototype.isCubicBezierCurve3=!0,Pc.prototype.getPoint=function(t,e){var n=e||new dn,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(Ac(t,i.x,r.x,a.x,o.x),Ac(t,i.y,r.y,a.y,o.y),Ac(t,i.z,r.z,a.z,o.z)),n},Pc.prototype.copy=function(t){return cc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Pc.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Pc.prototype.fromJSON=function(t){return cc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Oc.prototype=Object.create(cc.prototype),Oc.prototype.constructor=Oc,Oc.prototype.isLineCurve=!0,Oc.prototype.getPoint=function(t,e){var n=e||new cn;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Oc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Oc.prototype.getTangent=function(){var t=this.v2.clone().sub(this.v1);return t.normalize()},Oc.prototype.copy=function(t){return cc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Oc.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Oc.prototype.fromJSON=function(t){return cc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Lc.prototype=Object.create(cc.prototype),Lc.prototype.constructor=Lc,Lc.prototype.isLineCurve3=!0,Lc.prototype.getPoint=function(t,e){var n=e||new dn;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Lc.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Lc.prototype.copy=function(t){return cc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Lc.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Lc.prototype.fromJSON=function(t){return cc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Rc.prototype=Object.create(cc.prototype),Rc.prototype.constructor=Rc,Rc.prototype.isQuadraticBezierCurve=!0,Rc.prototype.getPoint=function(t,e){var n=e||new cn,i=this.v0,r=this.v1,a=this.v2;return n.set(Tc(t,i.x,r.x,a.x),Tc(t,i.y,r.y,a.y)),n},Rc.prototype.copy=function(t){return cc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Rc.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Rc.prototype.fromJSON=function(t){return cc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Ic.prototype=Object.create(cc.prototype),Ic.prototype.constructor=Ic,Ic.prototype.isQuadraticBezierCurve3=!0,Ic.prototype.getPoint=function(t,e){var n=e||new dn,i=this.v0,r=this.v1,a=this.v2;return n.set(Tc(t,i.x,r.x,a.x),Tc(t,i.y,r.y,a.y),Tc(t,i.z,r.z,a.z)),n},Ic.prototype.copy=function(t){return cc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Ic.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Ic.prototype.fromJSON=function(t){return cc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Dc.prototype=Object.create(cc.prototype),Dc.prototype.constructor=Dc,Dc.prototype.isSplineCurve=!0,Dc.prototype.getPoint=function(t,e){var n=e||new cn,i=this.points,r=(i.length-1)*t,a=Math.floor(r),o=r-a,s=i[0===a?a:a-1],u=i[a],l=i[a>i.length-2?i.length-1:a+1],c=i[a>i.length-3?i.length-1:a+2];return n.set(_c(o,s.x,u.x,l.x,c.x),_c(o,s.y,u.y,l.y,c.y)),n},Dc.prototype.copy=function(t){cc.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this},Dc.prototype.toJSON=function(){var t=cc.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t},Dc.prototype.fromJSON=function(t){cc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new cn).fromArray(i))}return this};var Nc=Object.freeze({ArcCurve:dc,CatmullRomCurve3:yc,CubicBezierCurve:kc,CubicBezierCurve3:Pc,EllipseCurve:hc,LineCurve:Oc,LineCurve3:Lc,QuadraticBezierCurve:Rc,QuadraticBezierCurve3:Ic,SplineCurve:Dc});function Uc(){cc.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Bc(t){Uc.call(this),this.type="Path",this.currentPoint=new cn,t&&this.setFromPoints(t)}function jc(t){Bc.call(this,t),this.uuid=ln.generateUUID(),this.type="Shape",this.holes=[]}function Fc(t,e){Cn.call(this),this.type="Light",this.color=new In(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function zc(t,e,n){Fc.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.groundColor=new In(e)}function Vc(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new cn(512,512),this.map=null,this.matrix=new xn}function Hc(){Vc.call(this,new fi(50,1,.5,500))}function Gc(t,e,n,i,r,a){Fc.call(this,t,e),this.type="SpotLight",this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.target=new Cn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Hc}function Wc(t,e,n,i){Fc.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Vc(new fi(90,1,.5,500))}function $c(t,e,n,i,r,a){pi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function qc(){Vc.call(this,new $c(-5,5,5,-5,.5,500))}function Xc(t,e){Fc.call(this,t,e),this.type="DirectionalLight",this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.target=new Cn,this.shadow=new qc}function Yc(t,e){Fc.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Jc(t,e,n,i){Fc.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function Zc(t){this.manager=void 0!==t?t:ec,this.textures={}}Uc.prototype=Object.assign(Object.create(cc.prototype),{constructor:Uc,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Oc(e,t))},getPoint:function(t){var e=t*this.getLength(),n=this.getCurveLengths(),i=0;while(i<n.length){if(n[i]>=e){var r=n[i]-e,a=this.curves[i],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){cc.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=cc.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var i=this.curves[e];t.curves.push(i.toJSON())}return t},fromJSON:function(t){cc.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push((new Nc[i.type]).fromJSON(i))}return this}}),Bc.prototype=Object.assign(Object.create(Uc.prototype),{constructor:Bc,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new Oc(this.currentPoint.clone(),new cn(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,i){var r=new Rc(this.currentPoint.clone(),new cn(t,e),new cn(n,i));this.curves.push(r),this.currentPoint.set(n,i)},bezierCurveTo:function(t,e,n,i,r,a){var o=new kc(this.currentPoint.clone(),new cn(t,e),new cn(n,i),new cn(r,a));this.curves.push(o),this.currentPoint.set(r,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new Dc(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,n,i,r,a)},absarc:function(t,e,n,i,r,a){this.absellipse(t,e,n,n,i,r,a)},ellipse:function(t,e,n,i,r,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,n,i,r,a,o,s)},absellipse:function(t,e,n,i,r,a,o,s){var u=new hc(t,e,n,i,r,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);this.currentPoint.copy(c)},copy:function(t){return Uc.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Uc.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Uc.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),jc.prototype=Object.assign(Object.create(Bc.prototype),{constructor:jc,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Bc.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push(i.clone())}return this},toJSON:function(){var t=Bc.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++){var i=this.holes[e];t.holes.push(i.toJSON())}return t},fromJSON:function(t){Bc.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push((new Bc).fromJSON(i))}return this}}),Fc.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Fc,isLight:!0,copy:function(t){return Cn.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Cn.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),zc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:zc,isHemisphereLight:!0,copy:function(t){return Fc.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Vc.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Hc.prototype=Object.assign(Object.create(Vc.prototype),{constructor:Hc,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*ln.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix())}}),Gc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Gc,isSpotLight:!0,copy:function(t){return Fc.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Wc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Wc,isPointLight:!0,copy:function(t){return Fc.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),$c.prototype=Object.assign(Object.create(pi.prototype),{constructor:$c,isOrthographicCamera:!0,copy:function(t,e){return pi.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,a=n+t,o=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;r+=c*(this.view.offsetX/u),a=r+c*(this.view.width/u),o-=h*(this.view.offsetY/l),s=o-h*(this.view.height/l)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Cn.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),qc.prototype=Object.assign(Object.create(Vc.prototype),{constructor:qc}),Xc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Xc,isDirectionalLight:!0,copy:function(t){return Fc.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Yc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Yc,isAmbientLight:!0}),Jc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Jc,isRectAreaLight:!0,copy:function(t){return Fc.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=Fc.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Object.assign(Zc.prototype,{load:function(t,e,n,i){var r=this,a=new ic(r.manager);a.setPath(r.path),a.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var i=new Nl[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearCoat&&(i.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(i.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.uniforms)for(var r in t.uniforms){var a=t.uniforms[r];switch(i.uniforms[r]={},a.type){case"t":i.uniforms[r].value=n(a.value);break;case"c":i.uniforms[r].value=(new In).setHex(a.value);break;case"v2":i.uniforms[r].value=(new cn).fromArray(a.value);break;case"v3":i.uniforms[r].value=(new dn).fromArray(a.value);break;case"v4":i.uniforms[r].value=(new _n).fromArray(a.value);break;case"m3":i.uniforms[r].value=(new pn).fromArray(a.value);case"m4":i.uniforms[r].value=(new xn).fromArray(a.value);break;default:i.uniforms[r].value=a.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)i.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new cn).fromArray(s)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),i},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Kc={decodeText:function(t){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(r){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Qc(){ei.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function th(t,e,n,i){"number"===typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Vn.call(this,t,e,n),this.meshPerAttribute=i||1}function eh(t){this.manager=void 0!==t?t:ec}Qc.prototype=Object.assign(Object.create(ei.prototype),{constructor:Qc,isInstancedBufferGeometry:!0,copy:function(t){return ei.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=ei.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),th.prototype=Object.assign(Object.create(Vn.prototype),{constructor:th,isInstancedBufferAttribute:!0,copy:function(t){return Vn.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=Vn.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Object.assign(eh.prototype,{load:function(t,e,n,i){var r=this,a=new ic(r.manager);a.setPath(r.path),a.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t){var e=t.isInstancedBufferGeometry?new Qc:new ei,n=t.data.index;if(void 0!==n){var i=new nh[n.type](n.array);e.setIndex(new Vn(i,1))}var r=t.data.attributes;for(var a in r){var o=r[a],s=(i=new nh[o.type](o.array),o.isInstancedBufferAttribute?th:Vn),u=new s(i,o.itemSize,o.normalized);void 0!==o.name&&(u.name=o.name),e.addAttribute(a,u)}var l=t.data.morphAttributes;if(l)for(var a in l){for(var c=l[a],h=[],d=0,p=c.length;d<p;d++){o=c[d],i=new nh[o.type](o.array),u=new Vn(i,o.itemSize,o.normalized);void 0!==o.name&&(u.name=o.name),h.push(u)}e.morphAttributes[a]=h}var f=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==f){d=0;for(var m=f.length;d!==m;++d){var g=f[d];e.addGroup(g.start,g.count,g.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var y=new dn;void 0!==v.center&&y.fromArray(v.center),e.boundingSphere=new Pn(y,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var nh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function ih(t){this.manager=void 0!==t?t:ec,this.resourcePath=""}Object.assign(ih.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=this,a=void 0===this.path?Kc.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new ic(r.manager);o.setPath(this.path),o.load(t,function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==i&&i(s),void console.error("THREE:ObjectLoader: Can't parse "+t+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(a,e):console.error("THREE.ObjectLoader: Can't load "+t)},n,i)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var n=this.parseShape(t.shapes),i=this.parseGeometries(t.geometries,n),r=this.parseImages(t.images,function(){void 0!==e&&e(s)}),a=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,i,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,i=t.length;n<i;n++){var r=(new jc).fromJSON(t[n]);e[r.uuid]=r}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var i=new eh,r=0,a=t.length;r<a;r++){var o,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new El[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new El[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new El[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new El[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new El[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new El[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new El[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new El[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new El[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new El[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new El[s.type]((new Nc[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new El[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new El[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,c=s.shapes.length;l<c;l++){var h=e[s.shapes[l]];u.push(h)}o=new El[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],l=0,c=s.shapes.length;l<c;l++){h=e[s.shapes[l]];u.push(h)}var d=s.options.extrudePath;void 0!==d&&(s.options.extrudePath=(new Nc[d.type]).fromJSON(d)),o=new El[s.type](u,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var p=new THREE.LegacyJSONLoader;o=p.parse(s,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(t,e){var n={},i={};if(void 0!==t){var r=new Zc;r.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var c=s.materials[l];void 0===n[c.uuid]&&(n[c.uuid]=r.parse(c)),u.push(n[c.uuid])}i[s.uuid]=u}else void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=Jl.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),e.push(r)}return e},parseImages:function(t,e){var n=this,i={};function r(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t),n.manager.itemEnd(t)})}if(void 0!==t&&t.length>0){var a=new tc(e),o=new sc(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,u=t.length;s<u;s++){var l=t[s],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(var h=0,d=c.length;h<d;h++){var p=c[h],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;i[l.uuid].push(r(f))}}else{f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url;i[l.uuid]=r(f)}}}return i},parseTextures:function(t,e){function n(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var r=0,a=t.length;r<a;r++){var o,s=t[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),o=Array.isArray(e[s.image])?new Za(e[s.image]):new yn(e[s.image]),o.needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,ah)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],oh),o.wrapT=n(s.wrap[1],oh)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,sh)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,sh)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),i[s.uuid]=o}return i},parseObject:function(t,e,n){var i;function r(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,r=t.length;i<r;i++){var a=t[i];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),e.push(n[a])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":i=new An,void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new In(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new zs(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new Fs(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new fi(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new $c(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"AmbientLight":i=new Yc(t.color,t.intensity);break;case"DirectionalLight":i=new Xc(t.color,t.intensity);break;case"PointLight":i=new Wc(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new Jc(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new Gc(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new zc(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=r(t.geometry),s=a(t.material);i=o.bones&&o.bones.length>0?new qs(o,s):new ni(o,s),void 0!==t.drawMode&&i.setDrawMode(t.drawMode);break;case"LOD":i=new $s;break;case"Line":i=new Zs(r(t.geometry),a(t.material),t.mode);break;case"LineLoop":i=new Qs(r(t.geometry),a(t.material));break;case"LineSegments":i=new Ks(r(t.geometry),a(t.material));break;case"PointCloud":case"Points":i=new eu(r(t.geometry),a(t.material));break;case"Sprite":i=new Ws(a(t.material));break;case"Group":i=new Os;break;default:i=new Cn}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(i.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.frustumCulled&&(i.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(i.renderOrder=t.renderOrder),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.layers&&(i.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,l=0;l<u.length;l++)i.add(this.parseObject(u[l],e,n));if("LOD"===t.type)for(var c=t.levels,h=0;h<c.length;h++){var d=c[h],p=i.getObjectByProperty("uuid",d.object);void 0!==p&&i.addLevel(p,d.distance)}return i}});var rh,ah={UVMapping:ht,CubeReflectionMapping:dt,CubeRefractionMapping:pt,EquirectangularReflectionMapping:ft,EquirectangularRefractionMapping:mt,SphericalReflectionMapping:gt,CubeUVReflectionMapping:vt,CubeUVRefractionMapping:yt},oh={RepeatWrapping:_t,ClampToEdgeWrapping:bt,MirroredRepeatWrapping:wt},sh={NearestFilter:xt,NearestMipmapNearestFilter:Tt,NearestMipmapLinearFilter:Et,LinearFilter:Ct,LinearMipmapNearestFilter:At,LinearMipmapLinearFilter:Pt};function uh(t){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:ec,this.options=void 0}function lh(){this.type="ShapePath",this.color=new In,this.subPaths=[],this.currentPath=null}function ch(t){this.type="Font",this.data=t}function hh(t,e,n){for(var i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,u=0,l=0;l<i.length;l++){var c=i[l];if("\n"===c)s=0,u-=a;else{var h=dh(c,r,s,u,n);s+=h.offsetX,o.push(h.path)}}return o}function dh(t,e,n,i,r){var a=r.glyphs[t]||r.glyphs["?"];if(a){var o,s,u,l,c,h,d,p,f=new lh;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),g=0,v=m.length;g<v;){var y=m[g++];switch(y){case"m":o=m[g++]*e+n,s=m[g++]*e+i,f.moveTo(o,s);break;case"l":o=m[g++]*e+n,s=m[g++]*e+i,f.lineTo(o,s);break;case"q":u=m[g++]*e+n,l=m[g++]*e+i,c=m[g++]*e+n,h=m[g++]*e+i,f.quadraticCurveTo(c,h,u,l);break;case"b":u=m[g++]*e+n,l=m[g++]*e+i,c=m[g++]*e+n,h=m[g++]*e+i,d=m[g++]*e+n,p=m[g++]*e+i,f.bezierCurveTo(c,h,d,p,u,l);break}}return{offsetX:a.ha*e,path:f}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".")}function ph(t){this.manager=void 0!==t?t:ec}function fh(){}uh.prototype={constructor:uh,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Ql.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;fetch(t).then(function(t){return t.blob()}).then(function(t){return void 0===r.options?createImageBitmap(t):createImageBitmap(t,r.options)}).then(function(n){Ql.add(t,n),e&&e(n),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(lh.prototype,{moveTo:function(t,e){this.currentPath=new Bc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,i){this.currentPath.quadraticCurveTo(t,e,n,i)},bezierCurveTo:function(t,e,n,i,r,a){this.currentPath.bezierCurveTo(t,e,n,i,r,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],a=new jc;a.curves=r.curves,e.push(a)}return e}function i(t,e){for(var n=e.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=e[r],s=e[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=e[a],u=-u,s=e[r],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var c=l*(t.x-o.x)-u*(t.y-o.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return i}var r=tl.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return n(a);var o,s,u,l=[];if(1===a.length)return s=a[0],u=new jc,u.curves=s.curves,l.push(u),l;var c=!r(a[0].getPoints());c=t?!c:c;var h,d,p=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=a.length;v<y;v++)s=a[v],h=s.getPoints(),o=r(h),o=t?!o:o,o?(!c&&f[g]&&g++,f[g]={s:new jc,p:h},f[g].s.curves=s.curves,c&&g++,m[g]=[]):m[g].push({h:s,p:h[0]});if(!f[0])return n(a);if(f.length>1){for(var _=!1,b=[],w=0,x=f.length;w<x;w++)p[w]=[];for(w=0,x=f.length;w<x;w++)for(var T=m[w],S=0;S<T.length;S++){for(var E=T[S],M=!0,C=0;C<f.length;C++)i(E.p,f[C].p)&&(w!==C&&b.push({froms:w,tos:C,hole:S}),M?(M=!1,p[C].push(E)):_=!0);M&&p[w].push(E)}b.length>0&&(_||(m=p))}v=0;for(var A=f.length;v<A;v++){u=f[v].s,l.push(u),d=m[v];for(var k=0,P=d.length;k<P;k++)u.holes.push(d[k].h)}return l}}),Object.assign(ch.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],i=hh(t,e,this.data),r=0,a=i.length;r<a;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Object.assign(ph.prototype,{load:function(t,e,n,i){var r=this,a=new ic(this.manager);a.setPath(this.path),a.load(t,function(t){var n;try{n=JSON.parse(t)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)},n,i)},parse:function(t){return new ch(t)},setPath:function(t){return this.path=t,this}}),fh.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,i=e.length;n<i;n+=2){var r=e[n],a=e[n+1];if(r.test(t))return a}return null}},Object.assign(fh.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,n){for(var i=[],r=0;r<t.length;++r)i[r]=this.createMaterial(t[r],e,n);return i},createMaterial:function(){var t={NoBlending:M,NormalBlending:C,AdditiveBlending:A,SubtractiveBlending:k,MultiplyBlending:P,CustomBlending:O},e=new In,n=new lc,i=new Zc;return function(r,a,o){var s={};function u(t,e,i,r,u){var l,c=a+t,h=fh.Handlers.get(c);null!==h?l=h.load(c):(n.setCrossOrigin(o),l=n.load(c)),void 0!==e&&(l.repeat.fromArray(e),1!==e[0]&&(l.wrapS=_t),1!==e[1]&&(l.wrapT=_t)),void 0!==i&&l.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(l.wrapS=_t),"mirror"===r[0]&&(l.wrapS=wt),"repeat"===r[1]&&(l.wrapT=_t),"mirror"===r[1]&&(l.wrapT=wt)),void 0!==u&&(l.anisotropy=u);var d=ln.generateUUID();return s[d]=l,d}var l={uuid:ln.generateUUID(),type:"MeshLambertMaterial"};for(var c in r){var h=r[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=h;break;case"blending":l.blending=t[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":l.color=e.fromArray(h).getHex();break;case"colorSpecular":l.specular=e.fromArray(h).getHex();break;case"colorEmissive":l.emissive=e.fromArray(h).getHex();break;case"specularCoef":l.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(l.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(l.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=u(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=u(h,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=u(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=u(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=u(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=u(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=h;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=u(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=u(h,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=u(h,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=u(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=_;break;case"doubleSided":l.side=b;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),l.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[c]=h;break;case"vertexColors":!0===h&&(l.vertexColors=E),"face"===h&&(l.vertexColors=S);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,h);break}}return"MeshBasicMaterial"===l.type&&delete l.emissive,"MeshPhongMaterial"!==l.type&&delete l.specular,l.opacity<1&&(l.transparent=!0),i.setTextures(s),i.parse(l)}}()});var mh={getContext:function(){return void 0===rh&&(rh=new(window.AudioContext||window.webkitAudioContext)),rh},setContext:function(t){rh=t}};function gh(t){this.manager=void 0!==t?t:ec}function vh(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new dn)}function yh(t,e){Fc.call(this,void 0,e),this.sh=void 0!==t?t:new vh}function _h(t,e,n){yh.call(this,void 0,n);var i=(new In).set(t),r=(new In).set(e),a=new dn(i.r,i.g,i.b),o=new dn(r.r,r.g,r.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function bh(t,e){yh.call(this,void 0,e);var n=(new In).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}function wh(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function xh(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Th(){Cn.call(this),this.type="AudioListener",this.context=mh.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function Sh(t){Cn.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Eh(t){Sh.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Mh(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ch(t,e,n){this.binding=t,this.valueSize=n;var i,r=Float64Array;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(gh.prototype,{load:function(t,e,n,i){var r=new ic(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(t,function(t){var n=t.slice(0),i=mh.getContext();i.decodeAudioData(n,function(t){e(t)})},n,i)},setPath:function(t){return this.path=t,this}}),Object.assign(vh.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScale(a[1],.488603*i),e.addScale(a[2],.488603*r),e.addScale(a[3],.488603*n),e.addScale(a[4],n*i*1.092548),e.addScale(a[5],i*r*1.092548),e.addScale(a[6],.315392*(3*r*r-1)),e.addScale(a[7],n*r*1.092548),e.addScale(a[8],.546274*(n*n-i*i)),e},getIrradianceAt:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScale(a[1],1.023328*i),e.addScale(a[2],1.023328*r),e.addScale(a[3],1.023328*n),e.addScale(a[4],.858086*n*i),e.addScale(a[5],.858086*i*r),e.addScale(a[6],.743125*r*r-.247708),e.addScale(a[7],.858086*n*r),e.addScale(a[8],.429043*(n*n-i*i)),e},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t){for(var e=this.coefficients,n=0;n<9;n++)e[n].fromArray(t,3*n);return this},toArray:function(){for(var t=[],e=this.coefficients,n=0;n<9;n++)e[n].toArray(t,3*n);return t}}),Object.assign(vh,{getBasisAt:function(t,e){var n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}),yh.prototype=Object.assign(Object.create(Fc.prototype),{constructor:yh,isLightProbe:!0,copy:function(t){return Fc.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){var e=Fc.prototype.toJSON.call(this,t);return e}}),_h.prototype=Object.assign(Object.create(yh.prototype),{constructor:_h,isHemisphereLightProbe:!0,copy:function(t){return yh.prototype.copy.call(this,t),this},toJSON:function(t){var e=yh.prototype.toJSON.call(this,t);return e}}),bh.prototype=Object.assign(Object.create(yh.prototype),{constructor:bh,isAmbientLightProbe:!0,copy:function(t){return yh.prototype.copy.call(this,t),this},toJSON:function(t){var e=yh.prototype.toJSON.call(this,t);return e}}),Object.assign(wh.prototype,{update:function(){var t,e,n,i,r,a,o,s,u=new xn,l=new xn;return function(c){var h=t!==this||e!==c.focus||n!==c.fov||i!==c.aspect*this.aspect||r!==c.near||a!==c.far||o!==c.zoom||s!==this.eyeSep;if(h){t=this,e=c.focus,n=c.fov,i=c.aspect*this.aspect,r=c.near,a=c.far,o=c.zoom;var d=c.projectionMatrix.clone();s=this.eyeSep/2;var p,f,m=s*r/e,g=r*Math.tan(ln.DEG2RAD*n*.5)/o;l.elements[12]=-s,u.elements[12]=s,p=-g*i+m,f=g*i+m,d.elements[0]=2*r/(f-p),d.elements[8]=(f+p)/(f-p),this.cameraL.projectionMatrix.copy(d),p=-g*i-m,f=g*i-m,d.elements[0]=2*r/(f-p),d.elements[8]=(f+p)/(f-p),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(u)}}()}),Object.assign(xh.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"===typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Th.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Th,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new dn,e=new hn,n=new dn,i=new dn,r=new xh;return function(a){Cn.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=r.getDelta(),this.matrixWorld.decompose(t,e,n),i.set(0,0,-1).applyQuaternion(e),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,u),o.positionY.linearRampToValueAtTime(t.y,u),o.positionZ.linearRampToValueAtTime(t.z,u),o.forwardX.linearRampToValueAtTime(i.x,u),o.forwardY.linearRampToValueAtTime(i.y,u),o.forwardZ.linearRampToValueAtTime(i.z,u),o.upX.linearRampToValueAtTime(s.x,u),o.upY.linearRampToValueAtTime(s.y,u),o.upZ.linearRampToValueAtTime(s.z,u)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(i.x,i.y,i.z,s.x,s.y,s.z)}}()}),Sh.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Sh,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Eh.prototype=Object.assign(Object.create(Sh.prototype),{constructor:Eh,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var t=new dn,e=new hn,n=new dn,i=new dn;return function(r){if(Cn.prototype.updateMatrixWorld.call(this,r),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,n),i.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(i.x,o),a.orientationY.linearRampToValueAtTime(i.y,o),a.orientationZ.linearRampToValueAtTime(i.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(i.x,i.y,i.z)}}}()}),Object.assign(Mh.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(Ch.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=e}else{a+=e;var s=e/a;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*e;this._mixBufferRegion(n,i,o,1-r,e)}for(var s=e,u=e+e;s!==u;++s)if(n[s]!==n[s+e]){a.setValue(n,i);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,i=3*n;t.getValue(e,i);for(var r=n,a=i;r!==a;++r)e[r]=e[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,i,r){if(i>=.5)for(var a=0;a!==r;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,i){hn.slerpFlat(t,e,t,e,t,n,i)},_lerp:function(t,e,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*i}}});var Ah,kh,Ph,Oh,Lh="\\[\\]\\.:\\/";function Rh(t,e,n){var i=n||Ih.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function Ih(t,e,n){this.path=e,this.parsedPath=n||Ih.parseTrackName(e),this.node=Ih.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Dh(){this.uuid=ln.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Nh(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var i=e.tracks,r=i.length,a=new Array(r),o={endingStart:Ae,endingEnd:Ae},s=0;s!==r;++s){var u=i[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Te,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Uh(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Bh(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function jh(t,e,n){Vs.call(this,t,e),this.meshPerAttribute=n||1}function Fh(t,e,n,i){this.ray=new On(t,e),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function zh(t,e){return t.distance-e.distance}function Vh(t,e,n,i){if(!1!==t.visible&&(t.raycast(e,n),!0===i))for(var r=t.children,a=0,o=r.length;a<o;a++)Vh(r[a],e,n,!0)}function Hh(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Gh(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Wh(t,e){this.min=void 0!==t?t:new cn(1/0,1/0),this.max=void 0!==e?e:new cn(-1/0,-1/0)}function $h(t,e){this.start=void 0!==t?t:new dn,this.end=void 0!==e?e:new dn}function qh(t){Cn.call(this),this.material=t,this.render=function(){}}function Xh(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16711680,a=void 0!==i?i:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new ei,l=new Jn(2*o*3,3);u.addAttribute("position",l),Ks.call(this,u,new Js({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Yh(t,e){Cn.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new ei,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1,o=32;r<o;r++,a++){var s=r/o*Math.PI*2,u=a/o*Math.PI*2;i.push(Math.cos(s),Math.sin(s),1,Math.cos(u),Math.sin(u),1)}n.addAttribute("position",new Jn(i,3));var l=new Js({fog:!1});this.cone=new Ks(n,l),this.add(this.cone),this.update()}function Jh(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,Jh(t.children[n]));return e}function Zh(t){for(var e=Jh(t),n=new ei,i=[],r=[],a=new In(0,0,1),o=new In(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new Jn(i,3)),n.addAttribute("color",new Jn(r,3));var l=new Js({vertexColors:E,depthTest:!1,depthWrite:!1,transparent:!0});Ks.call(this,n,l),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Kh(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var i=new cl(e,4,2),r=new zn({wireframe:!0,fog:!1});ni.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Qh(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var n=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],i=new ei;i.addAttribute("position",new Jn(n,3)),i.computeBoundingSphere();var r=new Js({fog:!1});Zs.call(this,i,r);var a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],o=new ei;o.addAttribute("position",new Jn(a,3)),o.computeBoundingSphere(),this.add(new ni(o,new zn({side:_,fog:!1}))),this.update()}function td(t,e,n){Cn.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new fu(e);i.rotateY(.5*Math.PI),this.material=new zn({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=E);var r=i.getAttribute("position"),a=new Float32Array(3*r.count);i.addAttribute("color",new Vn(a,3)),this.add(new ni(i,this.material)),this.update()}function ed(t,e){this.lightProbe=t,this.size=e;var n={GAMMA_OUTPUT:""},i=new di({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),r=new cl(1,32,16);ni.call(this,r,i),this.onBeforeRender()}function nd(t,e,n,i){t=t||10,e=e||10,n=new In(void 0!==n?n:4473924),i=new In(void 0!==i?i:8947848);for(var r=e/2,a=t/e,o=t/2,s=[],u=[],l=0,c=0,h=-o;l<=e;l++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);var d=l===r?n:i;d.toArray(u,c),c+=3,d.toArray(u,c),c+=3,d.toArray(u,c),c+=3,d.toArray(u,c),c+=3}var p=new ei;p.addAttribute("position",new Jn(s,3)),p.addAttribute("color",new Jn(u,3));var f=new Js({vertexColors:E});Ks.call(this,p,f)}function id(t,e,n,i,r,a){t=t||10,e=e||16,n=n||8,i=i||64,r=new In(void 0!==r?r:4473924),a=new In(void 0!==a?a:8947848);var o,s,u,l,c,h,d,p=[],f=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),o=Math.sin(u)*t,s=Math.cos(u)*t,p.push(0,0,0),p.push(o,0,s),d=1&l?r:a,f.push(d.r,d.g,d.b),f.push(d.r,d.g,d.b);for(l=0;l<=n;l++)for(d=1&l?r:a,h=t-t/n*l,c=0;c<i;c++)u=c/i*(2*Math.PI),o=Math.sin(u)*h,s=Math.cos(u)*h,p.push(o,0,s),f.push(d.r,d.g,d.b),u=(c+1)/i*(2*Math.PI),o=Math.sin(u)*h,s=Math.cos(u)*h,p.push(o,0,s),f.push(d.r,d.g,d.b);var m=new ei;m.addAttribute("position",new Jn(p,3)),m.addAttribute("color",new Jn(f,3));var g=new Js({vertexColors:E});Ks.call(this,m,g)}function rd(t,e,n,i){this.audio=t,this.range=e||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=i||2;var r=new ei,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));r.addAttribute("position",new Vn(o,3));var s=new Js({color:65280}),u=new Js({color:16776960});Zs.call(this,r,[u,s]),this.update()}function ad(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16776960,a=void 0!==i?i:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new ei,l=new Jn(2*o*3,3);u.addAttribute("position",l),Ks.call(this,u,new Js({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function od(t,e,n){Cn.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var i=new ei;i.addAttribute("position",new Jn([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new Js({fog:!1});this.lightPlane=new Zs(i,r),this.add(this.lightPlane),i=new ei,i.addAttribute("position",new Jn([0,0,0,0,0,1],3)),this.targetLine=new Zs(i,r),this.add(this.targetLine),this.update()}function sd(t){var e=new ei,n=new Js({color:16777215,vertexColors:S}),i=[],r=[],a={},o=new In(16755200),s=new In(16711680),u=new In(43775),l=new In(16777215),c=new In(3355443);function h(t,e,n){d(t,n),d(e,n)}function d(t,e){i.push(0,0,0),r.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(i.length/3-1)}h("n1","n2",o),h("n2","n4",o),h("n4","n3",o),h("n3","n1",o),h("f1","f2",o),h("f2","f4",o),h("f4","f3",o),h("f3","f1",o),h("n1","f1",o),h("n2","f2",o),h("n3","f3",o),h("n4","f4",o),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",u),h("u2","u3",u),h("u3","u1",u),h("c","t",l),h("p","c",c),h("cn1","cn2",c),h("cn3","cn4",c),h("cf1","cf2",c),h("cf3","cf4",c),e.addAttribute("position",new Jn(i,3)),e.addAttribute("color",new Jn(r,3)),Ks.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function ud(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new ei;r.setIndex(new Vn(n,1)),r.addAttribute("position",new Vn(i,3)),Ks.call(this,r,new Js({color:e})),this.matrixAutoUpdate=!1,this.update()}function ld(t,e){this.type="Box3Helper",this.box=t,e=e||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new ei;r.setIndex(new Vn(n,1)),r.addAttribute("position",new Jn(i,3)),Ks.call(this,r,new Js({color:e})),this.geometry.computeBoundingSphere()}function cd(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var i=void 0!==n?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new ei;a.addAttribute("position",new Jn(r,3)),a.computeBoundingSphere(),Zs.call(this,a,new Js({color:i}));var o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new ei;s.addAttribute("position",new Jn(o,3)),s.computeBoundingSphere(),this.add(new ni(s,new zn({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function hd(t,e,n,i,r,a){Cn.call(this),void 0===t&&(t=new dn(0,0,1)),void 0===e&&(e=new dn(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===a&&(a=.2*r),void 0===Ph&&(Ph=new ei,Ph.addAttribute("position",new Jn([0,0,0,0,1,0],3)),Oh=new bl(0,.5,1,5,1),Oh.translate(0,-.5,0)),this.position.copy(e),this.line=new Zs(Ph,new Js({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ni(Oh,new zn({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,a)}function dd(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ei;i.addAttribute("position",new Jn(e,3)),i.addAttribute("color",new Jn(n,3));var r=new Js({vertexColors:E});Ks.call(this,i,r)}function pd(t,e,n,i,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Bn(t,e,n,r,a,o)}Object.assign(Rh.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Ih,{Composite:Rh,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Ih.Composite(t,e,n):new Ih(t,e,n)},sanitizeNodeName:function(){var t=new RegExp("["+Lh+"]","g");return function(e){return e.replace(/\s/g,"_").replace(t,"")}}(),parseTrackName:function(){var t="[^"+Lh+"]",e="[^"+Lh.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",t),i=/(WCOD+)?/.source.replace("WCOD",e),r=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t),a=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t),o=new RegExp("^"+n+i+r+a+"$"),s=["material","materials","bones"];return function(t){var e=o.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==s.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e||r.uuid===e)return r;var a=i(r.children);if(a)return a}return null},r=i(t.children);if(r)return r}return null}}),Object.assign(Ih.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=Ih.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[i];if(void 0!==s){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{var c=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Ih.prototype,{_getValue_unbound:Ih.prototype.getValue,_setValue_unbound:Ih.prototype.setValue}),Object.assign(Dh.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=void 0,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],d=h.uuid,p=i[d];if(void 0===p){p=e++,i[d]=p,t.push(h);for(var f=0,m=s;f!==m;++f)o[f].push(new Ih(h,r[f],a[f]))}else if(p<n){u=t[p];var g=--n,v=t[g];i[v.uuid]=p,t[p]=v,i[d]=g,t[g]=h;for(f=0,m=s;f!==m;++f){var y=o[f],_=y[g],b=y[p];y[p]=_,void 0===b&&(b=new Ih(h,r[f],a[f])),y[g]=b}}else t[p]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=n[u];if(void 0!==l&&l>=e){var c=e++,h=t[c];n[h.uuid]=l,t[l]=h,n[u]=c,t[c]=s;for(var d=0,p=r;d!==p;++d){var f=i[d],m=f[c],g=f[l];f[l]=m,f[c]=g}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=i[l];if(void 0!==c)if(delete i[l],c<n){var h=--n,d=t[h],p=--e,f=t[p];i[d.uuid]=c,t[c]=d,i[f.uuid]=h,t[h]=f,t.pop();for(var m=0,g=a;m!==g;++m){var v=r[m],y=v[h],_=v[p];v[c]=y,v[h]=_,v.pop()}}else{p=--e,f=t[p];i[f.uuid]=c,t[c]=f,t.pop();for(m=0,g=a;m!==g;++m){v=r[m];v[c]=v[p],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);i=r.length,n[t]=i,a.push(t),o.push(e),r.push(c);for(var h=l,d=s.length;h!==d;++h){var p=s[h];c[h]=new Ih(p,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],u=t[o];e[u]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(Nh.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,a=r/i,o=i/r;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=r,s[1]=r+n,u[0]=t/o,u[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var a=(t-r)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,c=0,h=u.length;c!==h;++c)u[c].evaluate(o),l[c].accumulate(i,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,i=this.loop,r=this._loopCount,a=i===Se;if(0===t)return-1===r?e:a&&1===(1&r)?n-e:e;if(i===xe){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=n||e<0){var o=Math.floor(e/n);e-=n*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1===(1&r))return n-e}return e},_setEndings:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=ke,i.endingEnd=ke):(i.endingStart=t?this.zeroSlopeAtStart?ke:Ae:Pe,i.endingEnd=e?this.zeroSlopeAtEnd?ke:Ae:Pe)},_scheduleFading:function(t,e,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=n,this}}),Uh.prototype=Object.assign(Object.create(i.prototype),{constructor:Uh,_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==r;++c){var h=i[c],d=h.name,p=l[d];if(void 0!==p)a[c]=p;else{if(p=a[c],void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=e&&e._propertyBindings[c].binding.parsedPath;p=new Ch(Ih.create(n,d,f),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,d),a[c]=p}o[c].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=i.length,i.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null;var c=o.actionByRoot,h=(t._localRoot||this._root).uuid;delete c[h],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=i[e],a=this._bindings;void 0===r&&(r={},i[e]=r),r[n]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new Fl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"===typeof t?Jl.findByName(n,t):t,a=null!==r?r.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[i];if(void 0!==u)return u;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var l=new Nh(this,r,e);return this._bindAction(l,s),this._addInactiveAction(l,a,i),l},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"===typeof t?Jl.findByName(n,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[i]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o){var s=e[o];s._update(i,t,r,a)}var u=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)u[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,e[l]=c,e.pop(),this._removeInactiveBindingsForAction(u)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot,a=r[e];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[e];if(void 0!==s)for(var u in s){var l=s[u];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Bh.prototype.clone=function(){return new Bh(void 0===this.value.clone?this.value:this.value.clone())},jh.prototype=Object.assign(Object.create(Vs.prototype),{constructor:jh,isInstancedInterleavedBuffer:!0,copy:function(t){return Vs.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Fh.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this._camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this._camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var i=n||[];return Vh(t,this,i,e),i.sort(zh),i},intersectObjects:function(t,e,n){var i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,a=t.length;r<a;r++)Vh(t[r],this,i,e);return i.sort(zh),i}}),Object.assign(Hh.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(ln.clamp(e/this.radius,-1,1))),this}}),Object.assign(Gh.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}}),Object.assign(Wh.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new cn;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new cn),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new cn),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new cn),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new cn),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new cn;return function(e){var n=t.copy(e).clamp(this.min,this.max);return n.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign($h.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new dn),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new dn),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new dn),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,e){void 0===Ah&&(Ah=new dn,kh=new dn),Ah.subVectors(t,this.start),kh.subVectors(this.end,this.start);var n=kh.dot(kh),i=kh.dot(Ah),r=i/n;return e&&(r=ln.clamp(r,0,1)),r},closestPointToPoint:function(t,e,n){var i=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new dn),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),qh.prototype=Object.create(Cn.prototype),qh.prototype.constructor=qh,qh.prototype.isImmediateRenderObject=!0,Xh.prototype=Object.create(Ks.prototype),Xh.prototype.constructor=Xh,Xh.prototype.update=function(){var t=new dn,e=new dn,n=new pn;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,u=o.faces,l=0,c=0,h=u.length;c<h;c++)for(var d=u[c],p=0,f=d.vertexNormals.length;p<f;p++){var m=s[d[i[p]]],g=d.vertexNormals[p];t.copy(m).applyMatrix4(r),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(o&&o.isBufferGeometry){var v=o.attributes.position,y=o.attributes.normal;for(l=0,p=0,f=v.count;p<f;p++)t.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(r),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}a.needsUpdate=!0}}(),Yh.prototype=Object.create(Cn.prototype),Yh.prototype.constructor=Yh,Yh.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Yh.prototype.update=function(){var t=new dn;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Zh.prototype=Object.create(Ks.prototype),Zh.prototype.constructor=Zh,Zh.prototype.updateMatrixWorld=function(){var t=new dn,e=new xn,n=new xn;return function(i){var r=this.bones,a=this.geometry,o=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<r.length;s++){var l=r[s];l.parent&&l.parent.isBone&&(e.multiplyMatrices(n,l.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u,t.x,t.y,t.z),e.multiplyMatrices(n,l.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u+1,t.x,t.y,t.z),u+=2)}a.getAttribute("position").needsUpdate=!0,Cn.prototype.updateMatrixWorld.call(this,i)}}(),Kh.prototype=Object.create(ni.prototype),Kh.prototype.constructor=Kh,Kh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Kh.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Qh.prototype=Object.create(Zs.prototype),Qh.prototype.constructor=Qh,Qh.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},Qh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},td.prototype=Object.create(Cn.prototype),td.prototype.constructor=td,td.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},td.prototype.update=function(){var t=new dn,e=new In,n=new In;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=r.count;a<o;a++){var s=a<o/2?e:n;r.setXYZ(a,s.r,s.g,s.b)}r.needsUpdate=!0}i.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),ed.prototype=Object.create(ni.prototype),ed.prototype.constructor=ed,ed.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ed.prototype.onBeforeRender=function(){return function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity}}(),nd.prototype=Object.assign(Object.create(Ks.prototype),{constructor:nd,copy:function(t){return Ks.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),id.prototype=Object.create(Ks.prototype),id.prototype.constructor=id,rd.prototype=Object.create(Zs.prototype),rd.prototype.constructor=rd,rd.prototype.update=function(){var t,e,n=this.audio,i=this.range,r=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=ln.degToRad(n.panner.coneInnerAngle),s=ln.degToRad(n.panner.coneOuterAngle),u=o/2,l=s/2,c=0,h=0,d=this.geometry,p=d.attributes.position;function f(n,r,a,o){var s=(r-n)/a;for(p.setXYZ(c,0,0,0),h++,t=n;t<r;t+=s)e=c+h,p.setXYZ(e,Math.sin(t)*i,0,Math.cos(t)*i),p.setXYZ(e+1,Math.sin(Math.min(t+s,r))*i,0,Math.cos(Math.min(t+s,r))*i),p.setXYZ(e+2,0,0,0),h+=3;d.addGroup(c,h,o),c+=h,h=0}d.clearGroups(),f(-l,-u,a,0),f(-u,u,r,1),f(u,l,a,0),p.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},rd.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},ad.prototype=Object.create(Ks.prototype),ad.prototype.constructor=ad,ad.prototype.update=function(){var t=new dn,e=new dn,n=new pn;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,l=0,c=s.length;l<c;l++){var h=s[l],d=h.normal;t.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(i),e.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),r.setXYZ(u,t.x,t.y,t.z),u+=1,r.setXYZ(u,e.x,e.y,e.z),u+=1}r.needsUpdate=!0}}(),od.prototype=Object.create(Cn.prototype),od.prototype.constructor=od,od.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},od.prototype.update=function(){var t=new dn,e=new dn,n=new dn;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=n.length()}}(),sd.prototype=Object.create(Ks.prototype),sd.prototype.constructor=sd,sd.prototype.update=function(){var t,e,n=new dn,i=new pi;function r(r,a,o,s){n.set(a,o,s).unproject(i);var u=e[r];if(void 0!==u)for(var l=t.getAttribute("position"),c=0,h=u.length;c<h;c++)l.setXYZ(u[c],n.x,n.y,n.z)}return function(){t=this.geometry,e=this.pointMap;var n=1,a=1;i.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),r("c",0,0,-1),r("t",0,0,1),r("n1",-n,-a,-1),r("n2",n,-a,-1),r("n3",-n,a,-1),r("n4",n,a,-1),r("f1",-n,-a,1),r("f2",n,-a,1),r("f3",-n,a,1),r("f4",n,a,1),r("u1",.7*n,1.1*a,-1),r("u2",.7*-n,1.1*a,-1),r("u3",0,2*a,-1),r("cf1",-n,0,1),r("cf2",n,0,1),r("cf3",0,-a,1),r("cf4",0,a,1),r("cn1",-n,0,-1),r("cn2",n,0,-1),r("cn3",0,-a,-1),r("cn4",0,a,-1),t.getAttribute("position").needsUpdate=!0}}(),ud.prototype=Object.create(Ks.prototype),ud.prototype.constructor=ud,ud.prototype.update=function(){var t=new kn;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,i=t.max,r=this.geometry.attributes.position,a=r.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=n.x,a[4]=i.y,a[5]=i.z,a[6]=n.x,a[7]=n.y,a[8]=i.z,a[9]=i.x,a[10]=n.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=n.z,a[15]=n.x,a[16]=i.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=i.x,a[22]=n.y,a[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),ud.prototype.setFromObject=function(t){return this.object=t,this.update(),this},ud.prototype.copy=function(t){return Ks.prototype.copy.call(this,t),this.object=t.object,this},ud.prototype.clone=function(){return(new this.constructor).copy(this)},ld.prototype=Object.create(Ks.prototype),ld.prototype.constructor=ld,ld.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Cn.prototype.updateMatrixWorld.call(this,t))},cd.prototype=Object.create(Zs.prototype),cd.prototype.constructor=cd,cd.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?_:y,this.lookAt(this.plane.normal),Cn.prototype.updateMatrixWorld.call(this,t)},hd.prototype=Object.create(Cn.prototype),hd.prototype.constructor=hd,hd.prototype.setDirection=function(){var t,e=new dn;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),hd.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},hd.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},hd.prototype.copy=function(t){return Cn.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},hd.prototype.clone=function(){return(new this.constructor).copy(this)},dd.prototype=Object.create(Ks.prototype),dd.prototype.constructor=dd;var fd=0,md=1;function gd(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function vd(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function yd(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new eu(t,e)}function _d(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ws(t)}function bd(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new eu(t,e)}function wd(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new tu(t)}function xd(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new tu(t)}function Td(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new tu(t)}function Sd(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new dn(t,e,n)}function Ed(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Vn(t,e).setDynamic(!0)}function Md(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Hn(t,e)}function Cd(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Gn(t,e)}function Ad(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Wn(t,e)}function kd(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new $n(t,e)}function Pd(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new qn(t,e)}function Od(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Xn(t,e)}function Ld(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Yn(t,e)}function Rd(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Jn(t,e)}function Id(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Zn(t,e)}function Dd(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),yc.call(this,t),this.type="catmullrom",this.closed=!0}function Nd(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),yc.call(this,t),this.type="catmullrom"}function Ud(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),yc.call(this,t),this.type="catmullrom"}function Bd(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new dd(t)}function jd(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new ud(t,e)}function Fd(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ks(new yl(t.geometry),new Js({color:void 0!==e?e:16777215}))}function zd(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ks(new ou(t.geometry),new Js({color:void 0!==e?e:16777215}))}function Vd(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ic(t)}function Hd(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new oc(t)}cc.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(cc.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(Uc.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new ri,n=0,i=t.length;n<i;n++){var r=t[n];e.vertices.push(new dn(r.x,r.y,r.z||0))}return e}}),Object.assign(Bc.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Dd.prototype=Object.create(yc.prototype),Nd.prototype=Object.create(yc.prototype),Ud.prototype=Object.create(yc.prototype),Object.assign(Ud.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),nd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Zh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(fh.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Kc.extractUrlBase(t)}}),Object.assign(ih.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(Wh.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(kn.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),$h.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(ln,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ln.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ln.ceilPowerOfTwo(t)}}),Object.assign(pn.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(xn.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new dn),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,a)}}),bi.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},hn.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(On.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Ln.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Ln,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ln.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ln.getNormal(t,e,n,i)}}),Object.assign(jc.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new il(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ml(this,t)}}),Object.assign(cn.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(dn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(_n.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ri.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Cn.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Cn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties($s.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Xs.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),qs.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(cc.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),fi.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Fc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Vn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(ei.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(ei.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(rl.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Bh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Fn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new In}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===w}}}),Object.defineProperties(Pl.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(di.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(js.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(js.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(Cs.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(yi.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(bn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Us.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Sh.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this,n=new gh;return n.load(t,function(t){e.setBuffer(t)}),this},Mh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},vi.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var Gd={merge:function(t,e,n){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),t.merge(e,i,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};function Wd(){console.error("THREE.CanvasRenderer has been removed")}function $d(){console.error("THREE.JSONLoader has been removed.")}gn.crossOrigin=void 0,gn.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new lc;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},gn.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new uc;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},gn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},gn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var qd={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Xd(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}},"5b4e":function(t,e,n){var i=n("36c3"),r=n("b447"),a=n("0fc9");t.exports=function(t){return function(e,n,o){var s,u=i(e),l=r(u.length),c=a(o,l);if(t&&n!=n){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},"5bc0":function(t,e,n){"use strict";var i,r=n("4329"),a=n("ae75"),o=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},s=function(t,e,n){return decodeURIComponent(o(t,e,n))},u=function(t,e,n){return unescape(o(t,e,n))},l=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},c={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.value=s(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.url=s(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=u(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};i=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},r=0,o=[],s=0;if(i.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,i,a,u,h,d;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(t),s+=t.data.byteLength,1===o.length&&(r=l(t.data.subarray(6,10)),r+=10),!(s<r)){for(e={data:new Uint8Array(r),frames:[],pts:o[0].pts,dts:o[0].dts},h=0;h<r;)e.data.set(o[0].data.subarray(0,r-h),h),h+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();i=10,64&e.data[5]&&(i+=4,i+=l(e.data.subarray(10,14)),r-=l(e.data.subarray(16,20)));do{if(a=l(e.data.subarray(i+4,i+8)),a<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(d=String.fromCharCode(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3]),u={id:d,data:e.data.subarray(i+10,i+a+10)},u.key=u.id,c[u.id]&&(c[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var p=u.data,f=(1&p[3])<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;f*=4,f+=3&p[7],u.timeStamp=f,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),i+=10,i+=a}while(i<r);this.trigger("data",e)}}},i.prototype=new r,t.exports=i},"5ca1":function(t,e,n){var i=n("7726"),r=n("8378"),a=n("32e9"),o=n("2aba"),s=n("9b43"),u="prototype",l=function(t,e,n){var c,h,d,p,f=t&l.F,m=t&l.G,g=t&l.S,v=t&l.P,y=t&l.B,_=m?i:g?i[e]||(i[e]={}):(i[e]||{})[u],b=m?r:r[e]||(r[e]={}),w=b[u]||(b[u]={});for(c in m&&(n=e),n)h=!f&&_&&void 0!==_[c],d=(h?_:n)[c],p=y&&h?s(d,i):v&&"function"==typeof d?s(Function.call,d):d,_&&o(_,c,d,t&l.U),b[c]!=d&&a(b,c,p),v&&w[c]!=d&&(w[c]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5cc5":function(t,e,n){var i=n("2b4c")("iterator"),r=!1;try{var a=[7][i]();a["return"]=function(){r=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a=[7],s=a[i]();s.next=function(){return{done:n=!0}},a[i]=function(){return s},t(a)}catch(o){}return n}},"5d58":function(t,e,n){t.exports=n("d8d6")},"5d73":function(t,e,n){t.exports=n("469f")},"5dbc":function(t,e,n){var i=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&i(a)&&r&&r(t,a),t}},"5df3":function(t,e,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},"5eda":function(t,e,n){var i=n("5ca1"),r=n("8378"),a=n("79e5");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",o)}},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"613b":function(t,e,n){var i=n("5537")("keys"),r=n("ca5a");t.exports=function(t){return i[t]||(i[t]=r(t))}},6167:function(t,e,n){"use strict";var i,r;"function"===typeof Symbol&&Symbol.iterator;(function(a,o){i=o,r="function"===typeof i?i.call(e,n,e,t):i,void 0===r||(t.exports=r)})(0,function(){var t=window,e={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(t,n,i){this._reference=t.jquery?t[0]:t,this.state={};var r="undefined"===typeof n||null===n,a=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=r||a?this.parse(a?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},e,i),this._options.modifiers=this._options.modifiers.map(function(t){if(-1===this._options.modifiersIgnored.indexOf(t))return"applyStyle"===t&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[t]||t}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),h(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function i(e){var n=e.style.display,i=e.style.visibility;e.style.display="block",e.style.visibility="hidden";e.offsetWidth;var r=t.getComputedStyle(e),a=parseFloat(r.marginTop)+parseFloat(r.marginBottom),o=parseFloat(r.marginLeft)+parseFloat(r.marginRight),s={width:e.offsetWidth+o,height:e.offsetHeight+a};return e.style.display=n,e.style.visibility=i,s}function r(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function a(t){var e=Object.assign({},t);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function o(t,e){var n,i=0;for(n in t){if(t[n]===e)return i;i++}return null}function s(e,n){var i=t.getComputedStyle(e,null);return i[n]}function u(e){var n=e.offsetParent;return n!==t.document.body&&n?n:t.document.documentElement}function l(e){var n=e.parentNode;return n?n===t.document?t.document.body.scrollTop||t.document.body.scrollLeft?t.document.body:t.document.documentElement:-1!==["scroll","auto"].indexOf(s(n,"overflow"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-x"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-y"))?n:l(e.parentNode):e}function c(e){return e!==t.document.body&&("fixed"===s(e,"position")||(e.parentNode?c(e.parentNode):e))}function h(t,e){function n(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}Object.keys(e).forEach(function(i){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&n(e[i])&&(r="px"),t.style[i]=e[i]+r})}function d(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function p(t){var e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function f(t){var e=t.getBoundingClientRect(),n=-1!=navigator.userAgent.indexOf("MSIE"),i=n&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:i,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-i}}function m(t,e,n){var i=f(t),r=f(e);if(n){var a=l(e);r.top+=a.scrollTop,r.bottom+=a.scrollTop,r.left+=a.scrollLeft,r.right+=a.scrollLeft}var o={top:i.top-r.top,left:i.left-r.left,bottom:i.top-r.top+i.height,right:i.left-r.left+i.width,width:i.width,height:i.height};return o}function g(e){for(var n=["","ms","webkit","moz","o"],i=0;i<n.length;i++){var r=n[i]?n[i]+e.charAt(0).toUpperCase()+e.slice(1):e;if("undefined"!==typeof t.document.body.style[r])return r}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[g("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var t={instance:this,styles:{}};t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),"function"===typeof this.state.updateCallback&&this.state.updateCallback(t)},n.prototype.onCreate=function(t){return t(this),this},n.prototype.onUpdate=function(t){return this.state.updateCallback=t,this},n.prototype.parse=function(e){var n={tagName:"div",classNames:["popper"],attributes:[],parent:t.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};e=Object.assign({},n,e);var i=t.document,r=i.createElement(e.tagName);if(s(r,e.classNames),u(r,e.attributes),"node"===e.contentType?r.appendChild(e.content.jquery?e.content[0]:e.content):"html"===e.contentType?r.innerHTML=e.content:r.textContent=e.content,e.arrowTagName){var a=i.createElement(e.arrowTagName);s(a,e.arrowClassNames),u(a,e.arrowAttributes),r.appendChild(a)}var o=e.parent.jquery?e.parent[0]:e.parent;if("string"===typeof o){if(o=i.querySelectorAll(e.parent),o.length>1&&console.warn("WARNING: the given `parent` query("+e.parent+") matched more than one element, the first one will be used"),0===o.length)throw"ERROR: the given `parent` doesn't exists!";o=o[0]}return o.length>1&&o instanceof Element===!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),o=o[0]),o.appendChild(r),r;function s(t,e){e.forEach(function(e){t.classList.add(e)})}function u(t,e){e.forEach(function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")})}},n.prototype._getPosition=function(t,e){var n=u(e);if(this._options.forceAbsolute)return"absolute";var i=c(e,n);return i?"fixed":"absolute"},n.prototype._getOffsets=function(t,e,n){n=n.split("-")[0];var r={};r.position=this.state.position;var a="fixed"===r.position,o=m(e,u(t),a),s=i(t);return-1!==["right","left"].indexOf(n)?(r.top=o.top+o.height/2-s.height/2,r.left="left"===n?o.left-s.width:o.right):(r.left=o.left+o.width/2-s.width/2,r.top="top"===n?o.top-s.height:o.bottom),r.width=s.width,r.height=s.height,{popper:r,reference:o}},n.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),t.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var e=l(this._reference);e!==t.document.body&&e!==t.document.documentElement||(e=t),e.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=e}},n.prototype._removeEventListeners=function(){t.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(e,n,i){var r,a,o={};if("window"===i){var s=t.document.body,c=t.document.documentElement;a=Math.max(s.scrollHeight,s.offsetHeight,c.clientHeight,c.scrollHeight,c.offsetHeight),r=Math.max(s.scrollWidth,s.offsetWidth,c.clientWidth,c.scrollWidth,c.offsetWidth),o={top:0,right:r,bottom:a,left:0}}else if("viewport"===i){var h=u(this._popper),d=l(this._popper),f=p(h),m=function(t){return t==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):t.scrollTop},g=function(t){return t==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):t.scrollLeft},v="fixed"===e.offsets.popper.position?0:m(d),y="fixed"===e.offsets.popper.position?0:g(d);o={top:0-(f.top-v),right:t.document.documentElement.clientWidth-(f.left-y),bottom:t.document.documentElement.clientHeight-(f.top-v),left:0-(f.left-y)}}else o=u(this._popper)===i?{top:0,left:0,right:i.clientWidth,bottom:i.clientHeight}:p(i);return o.left+=n,o.right-=n,o.top=o.top+n,o.bottom=o.bottom-n,o},n.prototype.runModifiers=function(t,e,n){var i=e.slice();return void 0!==n&&(i=this._options.modifiers.slice(0,o(this._options.modifiers,n))),i.forEach(function(e){d(e)&&(t=e.call(this,t))}.bind(this)),t},n.prototype.isModifierRequired=function(t,e){var n=o(this._options.modifiers,t);return!!this._options.modifiers.slice(0,n).filter(function(t){return t===e}).length},n.prototype.modifiers={},n.prototype.modifiers.applyStyle=function(t){var e,n={position:t.offsets.popper.position},i=Math.round(t.offsets.popper.left),r=Math.round(t.offsets.popper.top);return this._options.gpuAcceleration&&(e=g("transform"))?(n[e]="translate3d("+i+"px, "+r+"px, 0)",n.top=0,n.left=0):(n.left=i,n.top=r),Object.assign(n,t.styles),h(this._popper,n),this._popper.setAttribute("x-placement",t.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&t.offsets.arrow&&h(t.arrowElement,t.offsets.arrow),t},n.prototype.modifiers.shift=function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets.reference,o=a(t.offsets.popper),s={y:{start:{top:r.top},end:{top:r.top+r.height-o.height}},x:{start:{left:r.left},end:{left:r.left+r.width-o.width}}},u=-1!==["bottom","top"].indexOf(n)?"x":"y";t.offsets.popper=Object.assign(o,s[u][i])}return t},n.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,n=a(t.offsets.popper),i={left:function(){var e=n.left;return n.left<t.boundaries.left&&(e=Math.max(n.left,t.boundaries.left)),{left:e}},right:function(){var e=n.left;return n.right>t.boundaries.right&&(e=Math.min(n.left,t.boundaries.right-n.width)),{left:e}},top:function(){var e=n.top;return n.top<t.boundaries.top&&(e=Math.max(n.top,t.boundaries.top)),{top:e}},bottom:function(){var e=n.top;return n.bottom>t.boundaries.bottom&&(e=Math.min(n.top,t.boundaries.bottom-n.height)),{top:e}}};return e.forEach(function(e){t.offsets.popper=Object.assign(n,i[e]())}),t},n.prototype.modifiers.keepTogether=function(t){var e=a(t.offsets.popper),n=t.offsets.reference,i=Math.floor;return e.right<i(n.left)&&(t.offsets.popper.left=i(n.left)-e.width),e.left>i(n.right)&&(t.offsets.popper.left=i(n.right)),e.bottom<i(n.top)&&(t.offsets.popper.top=i(n.top)-e.height),e.top>i(n.bottom)&&(t.offsets.popper.top=i(n.bottom)),t},n.prototype.modifiers.flip=function(t){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),t;if(t.flipped&&t.placement===t._originalPlacement)return t;var e=t.placement.split("-")[0],n=r(e),i=t.placement.split("-")[1]||"",o=[];return o="flip"===this._options.flipBehavior?[e,n]:this._options.flipBehavior,o.forEach(function(s,u){if(e===s&&o.length!==u+1){e=t.placement.split("-")[0],n=r(e);var l=a(t.offsets.popper),c=-1!==["right","bottom"].indexOf(e);(c&&Math.floor(t.offsets.reference[e])>Math.floor(l[n])||!c&&Math.floor(t.offsets.reference[e])<Math.floor(l[n]))&&(t.flipped=!0,t.placement=o[u+1],i&&(t.placement+="-"+i),t.offsets.popper=this._getOffsets(this._popper,this._reference,t.placement).popper,t=this.runModifiers(t,this._options.modifiers,this._flip))}}.bind(this)),t},n.prototype.modifiers.offset=function(t){var e=this._options.offset,n=t.offsets.popper;return-1!==t.placement.indexOf("left")?n.top-=e:-1!==t.placement.indexOf("right")?n.top+=e:-1!==t.placement.indexOf("top")?n.left-=e:-1!==t.placement.indexOf("bottom")&&(n.left+=e),t},n.prototype.modifiers.arrow=function(t){var e=this._options.arrowElement,n=this._options.arrowOffset;if("string"===typeof e&&(e=this._popper.querySelector(e)),!e)return t;if(!this._popper.contains(e))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),t;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),t;var r={},o=t.placement.split("-")[0],s=a(t.offsets.popper),u=t.offsets.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",h=l?"top":"left",d=l?"left":"top",p=l?"bottom":"right",f=i(e)[c];u[p]-f<s[h]&&(t.offsets.popper[h]-=s[h]-(u[p]-f)),u[h]+f>s[p]&&(t.offsets.popper[h]+=u[h]+f-s[p]);var m=u[h]+(n||u[c]/2-f/2),g=m-s[h];return g=Math.max(Math.min(s[c]-f-8,g),8),r[h]=g,r[d]="",t.offsets.arrow=r,t.arrowElement=e,t},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i){i=Object(i);for(var r=Object.keys(i),a=0,o=r.length;a<o;a++){var s=r[a],u=Object.getOwnPropertyDescriptor(i,s);void 0!==u&&u.enumerable&&(e[s]=i[s])}}}return e}}),n})},"626a":function(t,e,n){var i=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},"631a":function(t,e,n){"use strict";var i,r,a,o=n("4329"),s=n("3240");r=function(){var t,e,n=0;r.prototype.init.call(this),this.push=function(i){var r;for(e?(r=new Uint8Array(e.byteLength+i.data.byteLength),r.set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}while(t<e.byteLength)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3;break}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}},r.prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},i=function(){var t,e,n,o,u,l,c,h=new r;i.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,o=t.dts,h.push(t))},h.on("data",function(i){var r={trackId:e,pts:n,dts:o,data:i};switch(31&i[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=u(i.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=u(i.subarray(1)),r.config=l(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp";break;default:break}t.trigger("data",r)}),h.on("done",function(){t.trigger("done")}),this.flush=function(){h.flush()},c=function(t,e){var n,i,r=8,a=8;for(n=0;n<t;n++)0!==a&&(i=e.readExpGolomb(),a=(r+i+256)%256),r=0===a?r:a},u=function(t){var e,n,i=t.byteLength,r=[],a=1;while(a<i-2)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},l=function(t){var e,n,i,r,o,u,l,h,d,p,f,m,g,v,y=0,_=0,b=0,w=0,x=1;if(e=new s(t),n=e.readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),a[n]&&(o=e.readUnsignedExpGolomb(),3===o&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(f=3!==o?8:12,v=0;v<f;v++)e.readBoolean()&&c(v<6?16:64,e);if(e.skipUnsignedExpGolomb(),u=e.readUnsignedExpGolomb(),0===u)e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),v=0;v<l;v++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),h=e.readUnsignedExpGolomb(),d=e.readUnsignedExpGolomb(),p=e.readBits(1),0===p&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(y=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),w=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(g=e.readUnsignedByte(),g){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()];break}m&&(x=m[0]/m[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(h+1)-2*y-2*_)*x),height:(2-p)*(d+1)*16-2*b-2*w}}},i.prototype=new o,t.exports={H264Stream:i,NalByteStream:r}},"63b6":function(t,e,n){var i=n("e53d"),r=n("584a"),a=n("d864"),o=n("35e8"),s=n("07e3"),u="prototype",l=function(t,e,n){var c,h,d,p=t&l.F,f=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,y=t&l.W,_=f?r:r[e]||(r[e]={}),b=_[u],w=f?i:m?i[e]:(i[e]||{})[u];for(c in f&&(n=e),n)h=!p&&w&&void 0!==w[c],h&&s(_,c)||(d=h?w[c]:n[c],_[c]=f&&"function"!=typeof w[c]?n[c]:v&&h?a(d,i):y&&w[c]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[u]=t[u],e}(d):g&&"function"==typeof d?a(Function.call,d):d,g&&((_.virtual||(_.virtual={}))[c]=d,t&l.R&&b&&!b[c]&&o(b,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},6444:function(t,e,n){var i=n("ca9f"),r=n("d024"),a=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var e={};return r(i(t).split("\n"),function(t){var n=t.indexOf(":"),r=i(t.slice(0,n)).toLowerCase(),o=i(t.slice(n+1));"undefined"===typeof e[r]?e[r]=o:a(e[r])?e[r].push(o):e[r]=[e[r],o]}),e}},6718:function(t,e,n){var i=n("e53d"),r=n("584a"),a=n("b8e3"),o=n("ccb9"),s=n("d9f6").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},"67ab":function(t,e,n){var i=n("ca5a")("meta"),r=n("d3f4"),a=n("69a8"),o=n("86cc").f,s=0,u=Object.isExtensible||function(){return!0},l=!n("79e5")(function(){return u(Object.preventExtensions({}))}),c=function(t){o(t,i,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[i].i},d=function(t,e){if(!a(t,i)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[i].w},p=function(t){return l&&f.NEED&&u(t)&&!a(t,i)&&c(t),t},f=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:p}},"67bb":function(t,e,n){t.exports=n("f921")},6821:function(t,e,n){var i=n("626a"),r=n("be13");t.exports=function(t){return i(r(t))}},"688e":function(t,e,n){"use strict";var i="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,a=Object.prototype.toString,o="[object Function]";t.exports=function(t){var e=this;if("function"!==typeof e||a.call(e)!==o)throw new TypeError(i+e);for(var n,s=r.call(arguments,1),u=function(){if(this instanceof n){var i=e.apply(this,s.concat(r.call(arguments)));return Object(i)===i?i:this}return e.apply(t,s.concat(r.call(arguments)))},l=Math.max(0,e.length-s.length),c=[],h=0;h<l;h++)c.push("$"+h);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var d=function(){};d.prototype=e.prototype,n.prototype=new d,d.prototype=null}return n}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"69d3":function(t,e,n){n("6718")("asyncIterator")},"6a99":function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"6abf":function(t,e,n){var i=n("e6f3"),r=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6b54":function(t,e,n){"use strict";n("3846");var i=n("cb7c"),r=n("0bfb"),a=n("9e1e"),o="toString",s=/./[o],u=function(t){n("2aba")(RegExp.prototype,o,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?r.call(t):void 0)}):s.name!=o&&u(function(){return s.call(this)})},"6b7c":function(t,e,n){"use strict";e.__esModule=!0;var i=n("4897");e.default={methods:{t:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.t.apply(this,e)}}}},"6c1c":function(t,e,n){n("c367");for(var i=n("e53d"),r=n("35e8"),a=n("481b"),o=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=i[l],h=c&&c.prototype;h&&!h[o]&&r(h,o,l),a[l]=a.Array}},"6dd8":function(t,e,n){"use strict";n.r(e),function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,r=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),a=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),o=2;function s(t,e){var n=!1,i=!1,r=0;function s(){n&&(n=!1,t()),i&&l()}function u(){a(s)}function l(){var t=Date.now();if(n){if(t-r<o)return;i=!0}else n=!0,i=!1,setTimeout(u,e);r=t}return l}var u=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!==typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),u)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,i=l.some(function(t){return!!~n.indexOf(t)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),d=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},p=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||r},f=S(0,0,0,0);function m(t){return parseFloat(t)||0}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){var i=t["border-"+n+"-width"];return e+m(i)},0)}function v(t){for(var e=["top","right","bottom","left"],n={},i=0,r=e;i<r.length;i++){var a=r[i],o=t["padding-"+a];n[a]=m(o)}return n}function y(t){var e=t.getBBox();return S(0,0,e.width,e.height)}function _(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return f;var i=p(t).getComputedStyle(t),r=v(i),a=r.left+r.right,o=r.top+r.bottom,s=m(i.width),u=m(i.height);if("border-box"===i.boxSizing&&(Math.round(s+a)!==e&&(s-=g(i,"left","right")+a),Math.round(u+o)!==n&&(u-=g(i,"top","bottom")+o)),!w(t)){var l=Math.round(s+a)-e,c=Math.round(u+o)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return S(r.left,r.top,s,u)}var b=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof p(t).SVGGraphicsElement}:function(t){return t instanceof p(t).SVGElement&&"function"===typeof t.getBBox}}();function w(t){return t===p(t).document.documentElement}function x(t){return i?b(t)?y(t):_(t):f}function T(t){var e=t.x,n=t.y,i=t.width,r=t.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return d(o,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),o}function S(t,e,n,i){return{x:t,y:e,width:n,height:i}}var E=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=x(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),M=function(){function t(t,e){var n=T(e);d(this,{target:t,contentRect:n})}return t}(),C=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new E(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new M(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),A="undefined"!==typeof WeakMap?new WeakMap:new n,k=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h.getInstance(),i=new C(e,n,this);A.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){k.prototype[t]=function(){var e;return(e=A.get(this))[t].apply(e,arguments)}});var P=function(){return"undefined"!==typeof r.ResizeObserver?r.ResizeObserver:k}();e["default"]=P}.call(this,n("c8ba"))},"6ed5":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=76)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},11:function(t,e){t.exports=n("f3ad")},14:function(t,e){t.exports=n("5128")},18:function(t,e){t.exports=n("eedf")},2:function(t,e){t.exports=n("5924")},20:function(t,e){t.exports=n("4897")},23:function(t,e){t.exports=n("41f8")},47:function(t,e){t.exports=n("722f")},6:function(t,e){t.exports=n("6b7c")},7:function(t,e){t.exports=n("2b0e")},76:function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"msgbox-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[n("div",{staticClass:"el-message-box",class:[t.customClass,t.center&&"el-message-box--center"]},[null!==t.title?n("div",{staticClass:"el-message-box__header"},[n("div",{staticClass:"el-message-box__title"},[t.icon&&t.center?n("div",{class:["el-message-box__status",t.icon]}):t._e(),n("span",[t._v(t._s(t.title))])]),t.showClose?n("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.handleAction(t.distinguishCancelAndClose?"close":"cancel")},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction(t.distinguishCancelAndClose?"close":"cancel")}}},[n("i",{staticClass:"el-message-box__close el-icon-close"})]):t._e()]):t._e(),n("div",{staticClass:"el-message-box__content"},[t.icon&&!t.center&&""!==t.message?n("div",{class:["el-message-box__status",t.icon]}):t._e(),""!==t.message?n("div",{staticClass:"el-message-box__message"},[t._t("default",[t.dangerouslyUseHTMLString?n("p",{domProps:{innerHTML:t._s(t.message)}}):n("p",[t._v(t._s(t.message))])])],2):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[n("el-input",{ref:"input",attrs:{type:t.inputType,placeholder:t.inputPlaceholder},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputEnter(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),n("div",{staticClass:"el-message-box__errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])],1)]),n("div",{staticClass:"el-message-box__btns"},[t.showCancelButton?n("el-button",{class:[t.cancelButtonClasses],attrs:{loading:t.cancelButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("cancel")}},nativeOn:{click:function(e){t.handleAction("cancel")}}},[t._v("\n          "+t._s(t.cancelButtonText||t.t("el.messagebox.cancel"))+"\n        ")]):t._e(),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[t.confirmButtonClasses],attrs:{loading:t.confirmButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("confirm")}},nativeOn:{click:function(e){t.handleAction("confirm")}}},[t._v("\n          "+t._s(t.confirmButtonText||t.t("el.messagebox.confirm"))+"\n        ")])],1)])])])},o=[];a._withStripped=!0;var s=n(14),u=n.n(s),l=n(6),c=n.n(l),h=n(11),d=n.n(h),p=n(18),f=n.n(p),m=n(2),g=n(20),v=n(47),y=n.n(v),_=void 0,b={success:"success",info:"info",warning:"warning",error:"error"},w={mixins:[u.a,c.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:d.a,ElButton:f.a},computed:{icon:function(){var t=this.type,e=this.iconClass;return e||(t&&b[t]?"el-icon-"+b[t]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var t=this,e=this.uid;return function(){t.$nextTick(function(){e===t.uid&&t.doClose()})}},doClose:function(){var t=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),_.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout(function(){t.action&&t.callback(t.action,t)}))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(t){("prompt"!==this.$type||"confirm"!==t||this.validate())&&(this.action=t,"function"===typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(t,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(g["t"])("el.messagebox.error"),Object(m["addClass"])(this.getInputElement(),"invalid"),!1;var e=this.inputValidator;if("function"===typeof e){var n=e(this.inputValue);if(!1===n)return this.editorErrorMessage=this.inputErrorMessage||Object(g["t"])("el.messagebox.error"),Object(m["addClass"])(this.getInputElement(),"invalid"),!1;if("string"===typeof n)return this.editorErrorMessage=n,Object(m["addClass"])(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(m["removeClass"])(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var t=this.$el.querySelector(".el-message-box__btns .el-button"),e=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return t||e},getInputElement:function(){var t=this.$refs.input.$refs;return t.input||t.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(n){"prompt"===e.$type&&null!==t&&e.validate()})}},visible:function(t){var e=this;t&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick(function(){e.$refs.confirm.$el.focus()}),this.focusAfterClosed=document.activeElement,_=new y.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(t?setTimeout(function(){e.$refs.input&&e.$refs.input.$el&&e.getInputElement().focus()},500):(this.editorErrorMessage="",Object(m["removeClass"])(this.getInputElement(),"invalid")))}},mounted:function(){var t=this;this.$nextTick(function(){t.closeOnHashChange&&window.addEventListener("hashchange",t.close)})},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout(function(){_.closeDialog()})},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},x=w,T=n(0),S=Object(T["a"])(x,a,o,!1,null,null,null);S.options.__file="packages/message-box/src/main.vue";var E=S.exports,M=n(9),C=n.n(M),A=n(23),k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},O=r.a.extend(E),L=void 0,R=void 0,I=[],D=function(t){if(L){var e=L.callback;"function"===typeof e&&(R.showInput?e(R.inputValue,t):e(t)),L.resolve&&("confirm"===t?R.showInput?L.resolve({value:R.inputValue,action:t}):L.resolve(t):!L.reject||"cancel"!==t&&"close"!==t||L.reject(t))}},N=function(){R=new O({el:document.createElement("div")}),R.callback=D},U=function t(){if(R||N(),R.action="",(!R.visible||R.closeTimer)&&I.length>0){L=I.shift();var e=L.options;for(var n in e)e.hasOwnProperty(n)&&(R[n]=e[n]);void 0===e.callback&&(R.callback=D);var i=R.callback;R.callback=function(e,n){i(e,n),t()},Object(A["isVNode"])(R.message)?(R.$slots.default=[R.message],R.message=null):delete R.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach(function(t){void 0===R[t]&&(R[t]=!0)}),document.body.appendChild(R.$el),r.a.nextTick(function(){R.visible=!0})}},B=function t(e,n){if(!r.a.prototype.$isServer){if("string"===typeof e||Object(A["isVNode"])(e)?(e={message:e},"string"===typeof arguments[1]&&(e.title=arguments[1])):e.callback&&!n&&(n=e.callback),"undefined"!==typeof Promise)return new Promise(function(i,r){I.push({options:C()({},P,t.defaults,e),callback:n,resolve:i,reject:r}),U()});I.push({options:C()({},P,t.defaults,e),callback:n}),U()}};B.setDefaults=function(t){B.defaults=t},B.alert=function(t,e,n){return"object"===("undefined"===typeof e?"undefined":k(e))?(n=e,e=""):void 0===e&&(e=""),B(C()({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},B.confirm=function(t,e,n){return"object"===("undefined"===typeof e?"undefined":k(e))?(n=e,e=""):void 0===e&&(e=""),B(C()({title:e,message:t,$type:"confirm",showCancelButton:!0},n))},B.prompt=function(t,e,n){return"object"===("undefined"===typeof e?"undefined":k(e))?(n=e,e=""):void 0===e&&(e=""),B(C()({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},B.close=function(){R.doClose(),R.visible=!1,I=[],L=null};var j=B;e["default"]=j},9:function(t,e){t.exports=n("7f4d")}})},"71c1":function(t,e,n){var i=n("3a38"),r=n("25eb");t.exports=function(t){return function(e,n){var a,o,s=String(r(e)),u=i(n),l=s.length;return u<0||u>=l?t?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},"722f":function(t,e,n){"use strict";e.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n("e452"),a=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var s,u=u||{};u.Dialog=function(t,e,n){var r=this;if(this.dialogNode=t,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"===typeof e?this.focusAfterClosed=document.getElementById(e):"object"===("undefined"===typeof e?"undefined":i(e))?this.focusAfterClosed=e:this.focusAfterClosed=null,"string"===typeof n?this.focusFirst=document.getElementById(n):"object"===("undefined"===typeof n?"undefined":i(n))?this.focusFirst=n:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():a.default.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,s=function(t){r.trapFocus(t)},this.addListeners()},u.Dialog.prototype.addListeners=function(){document.addEventListener("focus",s,!0)},u.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",s,!0)},u.Dialog.prototype.closeDialog=function(){var t=this;this.removeListeners(),this.focusAfterClosed&&setTimeout(function(){t.focusAfterClosed.focus()})},u.Dialog.prototype.trapFocus=function(t){a.default.IgnoreUtilFocusChanges||(this.dialogNode.contains(t.target)?this.lastFocus=t.target:(a.default.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&a.default.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},e.default=u.Dialog},"72aa":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=61)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},15:function(t,e){t.exports=n("4010")},3:function(t,e){t.exports=n("8122")},61:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-tabs__active-bar",class:"is-"+t.rootTabs.tabPosition,style:t.barStyle})},r=[];i._withStripped=!0;var a=n(3),o={name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){var t=this,e={},n=0,i=0,r=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",o="width"===r?"x":"y",s=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})};this.tabs.every(function(e,o){var u=Object(a["arrayFind"])(t.$parent.$refs.tabs||[],function(t){return t.id.replace("tab-","")===e.paneName});return!!u&&(e.active?(i=u["client"+s(r)],"width"===r&&t.tabs.length>1&&(i-=0===o||o===t.tabs.length-1?20:40),!1):(n+=u["client"+s(r)],!0))}),"width"===r&&0!==n&&(n+=20);var u="translate"+s(o)+"("+n+"px)";return e[r]=i+"px",e.transform=u,e.msTransform=u,e.webkitTransform=u,e}}}},s=o,u=n(0),l=Object(u["a"])(s,i,r,!1,null,null,null);l.options.__file="packages/tabs/src/tab-bar.vue";var c=l.exports,h=n(15);function d(){}var p,f,m=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},g={name:"TabNav",components:{TabBar:c},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:d},onTabRemove:{type:Function,default:d},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){var t=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y";return{transform:"translate"+t+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var t=this.$refs.navScroll["offset"+m(this.sizeName)],e=this.navOffset;if(e){var n=e>t?e-t:0;this.navOffset=n}},scrollNext:function(){var t=this.$refs.nav["offset"+m(this.sizeName)],e=this.$refs.navScroll["offset"+m(this.sizeName)],n=this.navOffset;if(!(t-n<=e)){var i=t-n>2*e?n+e:t-e;this.navOffset=i}},scrollToActiveTab:function(){if(this.scrollable){var t=this.$refs.nav,e=this.$el.querySelector(".is-active");if(e){var n=this.$refs.navScroll,i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=t.offsetWidth-r.width,o=this.navOffset,s=o;i.left<r.left&&(s=o-(r.left-i.left)),i.right>r.right&&(s=o+i.right-r.right),s=Math.max(s,0),this.navOffset=Math.min(s,a)}}},update:function(){if(this.$refs.nav){var t=this.sizeName,e=this.$refs.nav["offset"+m(t)],n=this.$refs.navScroll["offset"+m(t)],i=this.navOffset;if(n<e){var r=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=r,this.scrollable.next=r+n<e,e-r<n&&(this.navOffset=e-n)}else this.scrollable=!1,i>0&&(this.navOffset=0)}},changeTab:function(t){var e=t.keyCode,n=void 0,i=void 0,r=void 0;-1!==[37,38,39,40].indexOf(e)&&(r=t.currentTarget.querySelectorAll("[role=tab]"),i=Array.prototype.indexOf.call(r,t.target),n=37===e||38===e?0===i?r.length-1:i-1:i<r.length-1?i+1:0,r[n].focus(),r[n].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var t=this,e=document.visibilityState;"hidden"===e?this.focusable=!1:"visible"===e&&setTimeout(function(){t.focusable=!0},50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var t=this;setTimeout(function(){t.focusable=!0},50)}},updated:function(){this.update()},render:function(t){var e=this,n=this.type,i=this.panes,r=this.editable,a=this.stretch,o=this.onTabClick,s=this.onTabRemove,u=this.navStyle,l=this.scrollable,c=this.scrollNext,h=this.scrollPrev,d=this.changeTab,p=this.setFocus,f=this.removeFocus,m=l?[t("span",{class:["el-tabs__nav-prev",l.prev?"":"is-disabled"],on:{click:h}},[t("i",{class:"el-icon-arrow-left"})]),t("span",{class:["el-tabs__nav-next",l.next?"":"is-disabled"],on:{click:c}},[t("i",{class:"el-icon-arrow-right"})])]:null,g=this._l(i,function(n,i){var a,u=n.name||n.index||i,l=n.isClosable||r;n.index=""+i;var c=l?t("span",{class:"el-icon-close",on:{click:function(t){s(n,t)}}}):null,h=n.$slots.label||n.label,d=n.active?0:-1;return t("div",{class:(a={"el-tabs__item":!0},a["is-"+e.rootTabs.tabPosition]=!0,a["is-active"]=n.active,a["is-disabled"]=n.disabled,a["is-closable"]=l,a["is-focus"]=e.isFocus,a),attrs:{id:"tab-"+u,"aria-controls":"pane-"+u,role:"tab","aria-selected":n.active,tabindex:d},key:"tab-"+u,ref:"tabs",refInFor:!0,on:{focus:function(){p()},blur:function(){f()},click:function(t){f(),o(n,u,t)},keydown:function(t){!l||46!==t.keyCode&&8!==t.keyCode||s(n,t)}}},[h,c])});return t("div",{class:["el-tabs__nav-wrap",l?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[m,t("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[t("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,a&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:u,attrs:{role:"tablist"},on:{keydown:d}},[n?null:t("tab-bar",{attrs:{tabs:i}}),g])])])},mounted:function(){var t=this;Object(h["addResizeListener"])(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout(function(){t.scrollToActiveTab()},0)},beforeDestroy:function(){this.$el&&this.update&&Object(h["removeResizeListener"])(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},v=g,y=Object(u["a"])(v,p,f,!1,null,null,null);y.options.__file="packages/tabs/src/tab-nav.vue";var _,b,w=y.exports,x={name:"ElTabs",components:{TabNav:w},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(t){this.setCurrentName(t)},value:function(t){this.setCurrentName(t)},currentName:function(t){var e=this;this.$refs.nav&&this.$nextTick(function(){e.$refs.nav.$nextTick(function(t){e.$refs.nav.scrollToActiveTab()})})}},methods:{calcPaneInstances:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slots.default){var n=this.$slots.default.filter(function(t){return t.tag&&t.componentOptions&&"ElTabPane"===t.componentOptions.Ctor.options.name}),i=n.map(function(t){var e=t.componentInstance;return e}),r=!(i.length===this.panes.length&&i.every(function(e,n){return e===t.panes[n]}));(e||r)&&(this.panes=i)}else 0!==this.panes.length&&(this.panes=[])},handleTabClick:function(t,e,n){t.disabled||(this.setCurrentName(e),this.$emit("tab-click",t,n))},handleTabRemove:function(t,e){t.disabled||(e.stopPropagation(),this.$emit("edit",t.name,"remove"),this.$emit("tab-remove",t.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(t){var e=this,n=function(){e.currentName=t,e.$emit("input",t)};if(this.currentName!==t&&this.beforeLeave){var i=this.beforeLeave(t,this.currentName);i&&i.then?i.then(function(){n(),e.$refs.nav&&e.$refs.nav.removeFocus()},function(){}):!1!==i&&n()}else n()}},render:function(t){var e,n=this.type,i=this.handleTabClick,r=this.handleTabRemove,a=this.handleTabAdd,o=this.currentName,s=this.panes,u=this.editable,l=this.addable,c=this.tabPosition,h=this.stretch,d=u||l?t("span",{class:"el-tabs__new-tab",on:{click:a,keydown:function(t){13===t.keyCode&&a()}},attrs:{tabindex:"0"}},[t("i",{class:"el-icon-plus"})]):null,p={props:{currentName:o,onTabClick:i,onTabRemove:r,editable:u,type:n,panes:s,stretch:h},ref:"nav"},f=t("div",{class:["el-tabs__header","is-"+c]},[d,t("tab-nav",p)]),m=t("div",{class:"el-tabs__content"},[this.$slots.default]);return t("div",{class:(e={"el-tabs":!0,"el-tabs--card":"card"===n},e["el-tabs--"+c]=!0,e["el-tabs--border-card"]="border-card"===n,e)},["bottom"!==c?[f,m]:[m,f]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},T=x,S=Object(u["a"])(T,_,b,!1,null,null,null);S.options.__file="packages/tabs/src/tabs.vue";var E=S.exports;E.install=function(t){t.component(E.name,E)};e["default"]=E}})},7333:function(t,e,n){"use strict";var i=n("9e1e"),r=n("0d58"),a=n("2621"),o=n("52a7"),s=n("4bf8"),u=n("626a"),l=Object.assign;t.exports=!l||n("79e5")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){var n=s(t),l=arguments.length,c=1,h=a.f,d=o.f;while(l>c){var p,f=u(arguments[c++]),m=h?r(f).concat(h(f)):r(f),g=m.length,v=0;while(g>v)p=m[v++],i&&!d.call(f,p)||(n[p]=f[p])}return n}:l},7618:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("5d58"),r=n.n(i),a=n("67bb"),o=n.n(a);function s(t){return s="function"===typeof o.a&&"symbol"===typeof r.a?function(t){return typeof t}:function(t){return t&&"function"===typeof o.a&&t.constructor===o.a&&t!==o.a.prototype?"symbol":typeof t},s(t)}function u(t){return u="function"===typeof o.a&&"symbol"===s(r.a)?function(t){return s(t)}:function(t){return t&&"function"===typeof o.a&&t.constructor===o.a&&t!==o.a.prototype?"symbol":s(t)},u(t)}},"765d":function(t,e,n){n("6718")("observable")},"768b":function(t,e,n){"use strict";var i=n("a745"),r=n.n(i);function a(t){if(r()(t))return t}var o=n("5d73"),s=n.n(o);function u(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,u=s()(t);!(i=(o=u.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){r=!0,a=l}finally{try{i||null==u["return"]||u["return"]()}finally{if(r)throw a}}return n}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(t,e){return a(t)||u(t,e)||l()}n.d(e,"a",function(){return c})},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var i=n("4588"),r=Math.max,a=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):a(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var i=n("7726"),r=n("86cc"),a=n("9e1e"),o=n("2b4c")("species");t.exports=function(t){var e=i[t];a&&e&&!e[o]&&r.f(e,o,{configurable:!0,get:function(){return this}})}},"7bbc":function(t,e,n){var i=n("6821"),r=n("9093").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):r(i(t))}},"7cd6":function(t,e,n){var i=n("40c3"),r=n("5168")("iterator"),a=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[i(t)]}},"7d7b":function(t,e,n){var i=n("e4ae"),r=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},"7e10":function(t,e){var n=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],r=function(t){var e=[];while(t--)e.push(0);return e},a=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=new Uint8Array(t[n].reduce(function(t,e){return t.concat(e)},[])),e},{})},o={96e3:[n,[227,64],r(154),[56]],88200:[n,[231],r(170),[56]],64e3:[n,[248,192],r(240),[56]],48e3:[n,[255,192],r(268),[55,148,128],r(54),[112]],44100:[n,[255,192],r(268),[55,163,128],r(84),[112]],32e3:[n,[255,192],r(268),[55,234],r(226),[112]],24e3:[n,[255,192],r(268),[55,255,128],r(268),[111,112],r(126),[224]],16e3:[n,[255,192],r(268),[55,255,128],r(268),[111,255],r(269),[223,108],r(195),[1,192]],12e3:[i,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,253,128],r(259),[56]],11025:[i,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,255,192],r(268),[55,175,128],r(108),[112]],8e3:[i,r(268),[3,121,16],r(47),[7]]};t.exports=a(o)},"7e90":function(t,e,n){var i=n("d9f6"),r=n("e4ae"),a=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){r(t);var n,o=a(e),s=o.length,u=0;while(s>u)i.f(t,n=o[u++],e[n]);return t}},"7f20":function(t,e,n){var i=n("86cc").f,r=n("69a8"),a=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},"7f4d":function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e]||{};for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];void 0!==a&&(t[r]=a)}}return t}},"7f7f":function(t,e,n){var i=n("86cc").f,r=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in r||n("9e1e")&&i(r,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},"7fe1":function(t,e){var n=function(t){return t>>>0};t.exports={toUnsigned:n}},8079:function(t,e,n){var i=n("7726"),r=n("1991").set,a=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,u="process"==n("2d95")(o);t.exports=function(){var t,e,n,l=function(){var i,r;u&&(i=o.domain)&&i.exit();while(t){r=t.fn,t=t.next;try{r()}catch(a){throw t?n():e=void 0,a}}e=void 0,i&&i.enter()};if(u)n=function(){o.nextTick(l)};else if(!a||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){r.call(i,l)};else{var h=!0,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},8122:function(t,e,n){"use strict";e.__esModule=!0,e.isEmpty=e.isEqual=e.arrayEquals=e.looseEqual=e.capitalize=e.kebabCase=e.autoprefixer=e.isFirefox=e.isEdge=e.isIE=e.coerceTruthyValueToArray=e.arrayFind=e.arrayFindIndex=e.escapeRegexpString=e.valueEquals=e.generateId=e.getValueByPath=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.noop=l,e.hasOwn=c,e.toObject=d,e.getPropByPath=p,e.rafThrottle=y,e.objToArray=_;var r=n("2b0e"),a=s(r),o=n("a742");function s(t){return t&&t.__esModule?t:{default:t}}var u=Object.prototype.hasOwnProperty;function l(){}function c(t,e){return u.call(t,e)}function h(t,e){for(var n in e)t[n]=e[n];return t}function d(t){for(var e={},n=0;n<t.length;n++)t[n]&&h(e,t[n]);return e}e.getValueByPath=function(t,e){e=e||"";for(var n=e.split("."),i=t,r=null,a=0,o=n.length;a<o;a++){var s=n[a];if(!i)break;if(a===o-1){r=i[s];break}i=i[s]}return r};function p(t,e,n){var i=t;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var r=e.split("."),a=0,o=r.length;a<o-1;++a){if(!i&&!n)break;var s=r[a];if(!(s in i)){if(n)throw new Error("please transfer a valid prop path to form item!");break}i=i[s]}return{o:i,k:r[a],v:i?i[r[a]]:null}}e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var n=0;n!==t.length;++n)if(t[n]!==e[n])return!1;return!0},e.escapeRegexpString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var f=e.arrayFindIndex=function(t,e){for(var n=0;n!==t.length;++n)if(e(t[n]))return n;return-1},m=(e.arrayFind=function(t,e){var n=f(t,e);return-1!==n?t[n]:void 0},e.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},e.isIE=function(){return!a.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!a.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},e.isFirefox=function(){return!a.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(t){if("object"!==("undefined"===typeof t?"undefined":i(t)))return t;var e=["transform","transition","animation"],n=["ms-","webkit-"];return e.forEach(function(e){var i=t[e];e&&i&&n.forEach(function(n){t[n+e]=i})}),t},e.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},e.capitalize=function(t){return(0,o.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},e.looseEqual=function(t,e){var n=(0,o.isObject)(t),i=(0,o.isObject)(e);return n&&i?JSON.stringify(t)===JSON.stringify(e):!n&&!i&&String(t)===String(e)}),g=e.arrayEquals=function(t,e){if(t=t||[],e=e||[],t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!m(t[n],e[n]))return!1;return!0},v=(e.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?g(t,e):m(t,e)},e.isEmpty=function(t){if(null==t)return!0;if("boolean"===typeof t)return!1;if("number"===typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1});function y(t){var e=!1;return function(){for(var n=this,i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];e||(e=!0,window.requestAnimationFrame(function(i){t.apply(n,r),e=!1}))}}function _(t){return Array.isArray(t)?t:v(t)?[]:[t]}},8362:function(t,e){t.exports=i;var n=Object.prototype.toString;function i(t){var e=n.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},8378:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},8436:function(t,e){t.exports=function(){}},"845f":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=95)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},95:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-button-group"},[t._t("default")],2)},r=[];i._withStripped=!0;var a={name:"ElButtonGroup"},o=a,s=n(0),u=Object(s["a"])(o,i,r,!1,null,null,null);u.options.__file="packages/button/src/button-group.vue";var l=u.exports;l.install=function(t){t.component(l.name,l)};e["default"]=l}})},8484:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return at}),n.d(e,"b",function(){return ot});var i=n("be09"),r=n.n(i),a=function(t){return!!t&&"object"===typeof t},o=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(e,n){return Object.keys(n).forEach(function(i){Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):a(e[i])&&a(n[i])?e[i]=t(e[i],n[i]):e[i]=n[i]}),e},{})},s=function(t){return Object.keys(t).map(function(e){return t[e]})},u=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n},l=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},c=function(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},h=function(t,e){return t.reduce(function(t,n,i){return n[e]&&t.push(i),t},[])},d={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;function p(t,e){return e={exports:{}},t(e,e.exports),e.exports}var f=p(function(t,e){(function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),e=e.trim(),!e){if(!n.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+a.path;l.path=o.normalizePath(h)}else l.path=s.path,a.params||(l.params=s.params,a.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){t=t.split("").reverse().join("").replace(r,"");while(t.length!==(t=t.replace(a,"")).length);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o})()}),m=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=f.buildAbsoluteURL(r.a.location.href,t)),f.buildAbsoluteURL(t,e))},g=function(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,a=t.range,o=void 0===a?"":a,s=t.indexRange,u=void 0===s?"":s,l={uri:r,resolvedUri:m(n||"",r)};if(o||u){var c=o||u,h=c.split("-"),d=parseInt(h[0],10),p=parseInt(h[1],10);l.byterange={length:p-d+1,offset:d}}return l},v=function(t){var e=t.offset+t.length-1;return t.offset+"-"+e},y={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,a=void 0===r?1:r,o=t.duration,s=t.start,u=void 0===s?0:s,l=t.minimumUpdatePeriod,c=void 0===l?0:l,h=t.timeShiftBufferDepth,d=void 0===h?1/0:h,p=(e+n)/1e3,f=i+u,m=p+c,g=m-f,v=Math.ceil(g*a/o),y=Math.floor((p-f-d)*a/o),_=Math.floor((p-f)*a/o);return{start:Math.max(0,y),end:Math.min(v,_)}}},_=function(t){return function(e,n){var i=t.duration,r=t.timescale,a=void 0===r?1:r,o=t.periodIndex,s=t.startNumber,u=void 0===s?1:s;return{number:u+e,duration:i/a,timeline:o,time:n*i}}},b=function(t){var e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,a=void 0===r?1:r,o=t.sourceDuration,s=y[n](t),l=s.start,c=s.end,h=u(l,c).map(_(t));if("static"===n){var d=h.length-1;h[d].duration=o-i/a*d}return h},w=function(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,a=t.timescale,o=void 0===a?1:a,s=t.indexRange,u=void 0===s?"":s,l=t.duration;if(!e)throw new Error(d.NO_BASE_URL);var c=g({baseUrl:e,source:i.sourceURL,range:i.range}),h=g({baseUrl:e,source:e,indexRange:u});if(h.map=c,l){var p=b(t);p.length&&(h.duration=p[0].duration,h.timeline=p[0].timeline)}else r&&(h.duration=r/o,h.timeline=0);return h.number=0,[h]},x=function(t,e,n){for(var i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,a=t.timeline||0,o=t.sidx.byterange,s=o.offset+o.length,u=e.timescale,l=e.references.filter(function(t){return 1!==t.referenceType}),c=[],h=s+e.firstOffset,d=0;d<l.length;d++){var p=e.references[d],f=p.referencedSize,m=p.subsegmentDuration,g=h+f-1,v=h+"-"+g,y={baseUrl:n,timescale:u,timeline:a,periodIndex:a,duration:m,sourceDuration:r,indexRange:v},_=w(y)[0];i&&(_.map=i),c.push(_),h+=f}return t.segments=c,t},T=function(t){var e=s(t.reduce(function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");t[i]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e;return t},{}));return e.map(function(t){return t.discontinuityStarts=h(t.segments,"discontinuity"),t})},S=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var n in t){var i=t[n];if(i.sidx){var r=i.sidx.uri+"-"+v(i.sidx.byterange),a=e[r]&&e[r].sidx;i.sidx&&a&&x(i,a,i.sidx.resolvedUri)}}return t},E=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,a={attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),r&&(a.sidx=r),a},M=function(t){var e,n=t.attributes,i=t.segments;return"undefined"===typeof i&&(i=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration),{attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1}},C=function(t,e){var n;void 0===e&&(e={});var i=t.reduce(function(t,i){var r=i.attributes.role&&i.attributes.role.value||"",a=i.attributes.lang||"",o="main";if(a){var s=r?" ("+r+")":"";o=""+i.attributes.lang+s}return t[o]&&t[o].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth?t:(t[o]={language:a,autoselect:!0,default:"main"===r,playlists:S([E(i)],e),uri:""},"undefined"===typeof n&&"main"===r&&(n=i,n.default=!0),t)},{});if(!n){var r=Object.keys(i)[0];i[r].default=!0}return i},A=function(t,e){return void 0===e&&(e={}),t.reduce(function(t,n){var i=n.attributes.lang||"text";return t[i]?t:(t[i]={language:i,default:!1,autoselect:!1,playlists:S([M(n)],e),uri:""},t)},{})},k=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,a={attributes:(e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),r&&(a.sidx=r),a},P=function(t,e){var n;if(void 0===e&&(e={}),!t.length)return{};var i=t[0].attributes,r=i.sourceDuration,a=i.minimumUpdatePeriod,o=void 0===a?0:a,s=function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType},u=function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType},l=function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType},c=T(t.filter(s)).map(k),h=T(t.filter(u)),d=t.filter(l),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:r,playlists:S(c,e),minimumUpdatePeriod:1e3*o};return h.length&&(p.mediaGroups.AUDIO.audio=C(h,e)),d.length&&(p.mediaGroups.SUBTITLES.subs=A(d,e)),p},O=function(t,e,n){var i=t.NOW,r=t.clientOffset,a=t.availabilityStartTime,o=t.timescale,s=void 0===o?1:o,u=t.start,l=void 0===u?0:u,c=t.minimumUpdatePeriod,h=void 0===c?0:c,d=(i+r)/1e3,p=a+l,f=d+h,m=f-p;return Math.ceil((m*s-e)/n)},L=function(t,e){for(var n=t.type,i=void 0===n?"static":n,r=t.minimumUpdatePeriod,a=void 0===r?0:r,o=t.media,s=void 0===o?"":o,u=t.sourceDuration,l=t.timescale,c=void 0===l?1:l,h=t.startNumber,d=void 0===h?1:h,p=t.periodIndex,f=[],m=-1,g=0;g<e.length;g++){var v=e[g],y=v.d,_=v.r||0,b=v.t||0;m<0&&(m=b),b&&b>m&&(m=b);var w=void 0;if(_<0){var x=g+1;w=x===e.length?"dynamic"===i&&a>0&&s.indexOf("$Number$")>0?O(t,m,y):(u*c-m)/y:(e[x].t-m)/y}else w=_+1;var T=d+f.length+w,S=d+f.length;while(S<T)f.push({number:S,duration:y/c,time:m,timeline:p}),m+=y,S++}return f},R=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,I=function(t){return function(e,n,i,r){if("$$"===e)return"$";if("undefined"===typeof t[n])return e;var a=""+t[n];return"RepresentationID"===n?a:(r=i?parseInt(r,10):1,a.length>=r?a:""+new Array(r-a.length+1).join("0")+a)}},D=function(t,e){return t.replace(R,I(e))},N=function(t,e){return t.duration||e?t.duration?b(t):L(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]},U=function(t,e){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,r=void 0===i?{sourceURL:"",range:""}:i,a=g({baseUrl:t.baseUrl,source:D(r.sourceURL,n),range:r.range}),o=N(t,e);return o.map(function(e){n.Number=e.number,n.Time=e.time;var i=D(t.media||"",n);return{uri:i,timeline:e.timeline,duration:e.duration,resolvedUri:m(t.baseUrl||"",i),map:a,number:e.number}})},B=function(t,e){var n=t.baseUrl,i=t.initialization,r=void 0===i?{}:i,a=g({baseUrl:n,source:r.sourceURL,range:r.range}),o=g({baseUrl:n,source:e.media,range:e.mediaRange});return o.map=a,o},j=function(t,e){var n=t.duration,i=t.segmentUrls,r=void 0===i?[]:i;if(!n&&!e||n&&e)throw new Error(d.SEGMENT_TIME_UNSPECIFIED);var a,o=r.map(function(e){return B(t,e)});n&&(a=b(t)),e&&(a=L(t,e));var s=a.map(function(t,e){if(o[e]){var n=o[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}}).filter(function(t){return t});return s},F=function(t){var e,n,i=t.attributes,r=t.segmentInfo;r.template?(n=U,e=o(i,r.template)):r.base?(n=w,e=o(i,r.base)):r.list&&(n=j,e=o(i,r.list));var a={attributes:i};if(!n)return a;var s=n(e,r.timeline);if(e.duration){var u=e,l=u.duration,c=u.timescale,h=void 0===c?1:c;e.duration=l/h}else s.length?e.duration=s.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0;return a.attributes=e,a.segments=s,r.base&&e.indexRange&&(a.sidx=s[0],a.segments=[]),a},z=function(t){return t.map(F)},V=function(t,e){return c(t.childNodes).filter(function(t){var n=t.tagName;return n===e})},H=function(t){return t.textContent.trim()},G=function(t){var e=31536e3,n=2592e3,i=86400,r=3600,a=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,s=o.exec(t);if(!s)return 0;var u=s.slice(1),l=u[0],c=u[1],h=u[2],d=u[3],p=u[4],f=u[5];return parseFloat(l||0)*e+parseFloat(c||0)*n+parseFloat(h||0)*i+parseFloat(d||0)*r+parseFloat(p||0)*a+parseFloat(f||0)},W=function(t){var e=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return e.test(t)&&(t+="Z"),Date.parse(t)},$={mediaPresentationDuration:function(t){return G(t)},availabilityStartTime:function(t){return W(t)/1e3},minimumUpdatePeriod:function(t){return G(t)},timeShiftBufferDepth:function(t){return G(t)},start:function(t){return G(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?G(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},q=function(t){return t&&t.attributes?c(t.attributes).reduce(function(t,e){var n=$[e.name]||$.DEFAULT;return t[e.name]=n(e.value),t},{}):{}};function X(t){for(var e=r.a.atob(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}var Y={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},J=function(t,e){return e.length?l(t.map(function(t){return e.map(function(e){return m(t,H(e))})})):t},Z=function(t){var e=V(t,"SegmentTemplate")[0],n=V(t,"SegmentList")[0],i=n&&V(n,"SegmentURL").map(function(t){return o({tag:"SegmentURL"},q(t))}),r=V(t,"SegmentBase")[0],a=n||e,s=a&&V(a,"SegmentTimeline")[0],u=n||r||e,l=u&&V(u,"Initialization")[0],c=e&&q(e);c&&l?c.initialization=l&&q(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var h={template:c,timeline:s&&V(s,"S").map(function(t){return q(t)}),list:n&&o(q(n),{segmentUrls:i,initialization:q(l)}),base:r&&o(q(r),{initialization:q(l)})};return Object.keys(h).forEach(function(t){h[t]||delete h[t]}),h},K=function(t,e,n){return function(i){var r=V(i,"BaseURL"),a=J(e,r),s=o(t,q(i)),u=Z(i);return a.map(function(t){return{segmentInfo:o(n,u),attributes:o(s,{baseUrl:t})}})}},Q=function(t){return t.reduce(function(t,e){var n=q(e),i=Y[n.schemeIdUri];if(i){t[i]={attributes:n};var r=V(e,"cenc:pssh")[0];if(r){var a=H(r),o=a&&X(a);t[i].pssh=o}}return t},{})},tt=function(t,e,n){return function(i){var r=q(i),a=J(e,V(i,"BaseURL")),s=V(i,"Role")[0],u={role:q(s)},c=o(t,r,u),h=Q(V(i,"ContentProtection"));Object.keys(h).length&&(c=o(c,{contentProtection:h}));var d=Z(i),p=V(i,"Representation"),f=o(n,d);return l(p.map(K(c,a,f)))}},et=function(t,e){return function(n,i){var a=J(e,V(n,"BaseURL")),s=q(n),u=parseInt(s.id,10),c=r.a.isNaN(u)?i:u,h=o(t,{periodIndex:c}),d=V(n,"AdaptationSet"),p=Z(n);return l(d.map(tt(h,a,p)))}},nt=function(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,r=void 0===i?"":i,a=n.NOW,o=void 0===a?Date.now():a,s=n.clientOffset,u=void 0===s?0:s,c=V(t,"Period");if(!c.length)throw new Error(d.INVALID_NUMBER_OF_PERIOD);var h=q(t),p=J([r],V(t,"BaseURL"));return h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=o,h.clientOffset=u,l(c.map(et(h,p)))},it=function(t){if(""===t)throw new Error(d.DASH_EMPTY_MANIFEST);var e=new r.a.DOMParser,n=e.parseFromString(t,"application/xml"),i=n&&"MPD"===n.documentElement.tagName?n.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(d.DASH_INVALID_XML);return i},rt=function(t){var e=V(t,"UTCTiming")[0];if(!e)return null;var n=q(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(d.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},at=function(t,e){return void 0===e&&(e={}),P(z(nt(it(t),e)),e.sidxMapping)},ot=function(t){return rt(it(t))}}).call(this,n("c8ba"))},"84f2":function(t,e){t.exports={}},"85f2":function(t,e,n){t.exports=n("454f")},"86cc":function(t,e,n){var i=n("cb7c"),r=n("c69a"),a=n("6a99"),o=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return o(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"896a":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=67)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},14:function(t,e){t.exports=n("5128")},2:function(t,e){t.exports=n("5924")},40:function(t,e){t.exports=n("c56a")},67:function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":t.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[t.customClass,{"is-fullscreen":t.fullscreen}],style:{backgroundColor:t.background||""}},[n("div",{staticClass:"el-loading-spinner"},[t.spinner?n("i",{class:t.spinner}):n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),t.text?n("p",{staticClass:"el-loading-text"},[t._v(t._s(t.text))]):t._e()])])])},o=[];a._withStripped=!0;var s={data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(t){this.text=t}}},u=s,l=n(0),c=Object(l["a"])(u,a,o,!1,null,null,null);c.options.__file="packages/loading/src/loading.vue";var h=c.exports,d=n(2),p=n(14),f=n(40),m=n.n(f),g=r.a.extend(h),v={install:function(t){if(!t.prototype.$isServer){var e=function(e,i){i.value?t.nextTick(function(){i.modifiers.fullscreen?(e.originalPosition=Object(d["getStyle"])(document.body,"position"),e.originalOverflow=Object(d["getStyle"])(document.body,"overflow"),e.maskStyle.zIndex=p["PopupManager"].nextZIndex(),Object(d["addClass"])(e.mask,"is-fullscreen"),n(document.body,e,i)):(Object(d["removeClass"])(e.mask,"is-fullscreen"),i.modifiers.body?(e.originalPosition=Object(d["getStyle"])(document.body,"position"),["top","left"].forEach(function(t){var n="top"===t?"scrollTop":"scrollLeft";e.maskStyle[t]=e.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-parseInt(Object(d["getStyle"])(document.body,"margin-"+t),10)+"px"}),["height","width"].forEach(function(t){e.maskStyle[t]=e.getBoundingClientRect()[t]+"px"}),n(document.body,e,i)):(e.originalPosition=Object(d["getStyle"])(e,"position"),n(e,e,i)))}):(m()(e.instance,function(t){if(e.instance.hiding){e.domVisible=!1;var n=i.modifiers.fullscreen||i.modifiers.body?document.body:e;Object(d["removeClass"])(n,"el-loading-parent--relative"),Object(d["removeClass"])(n,"el-loading-parent--hidden"),e.instance.hiding=!1}},300,!0),e.instance.visible=!1,e.instance.hiding=!0)},n=function(e,n,i){n.domVisible||"none"===Object(d["getStyle"])(n,"display")||"hidden"===Object(d["getStyle"])(n,"visibility")?n.domVisible&&!0===n.instance.hiding&&(n.instance.visible=!0,n.instance.hiding=!1):(Object.keys(n.maskStyle).forEach(function(t){n.mask.style[t]=n.maskStyle[t]}),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(d["addClass"])(e,"el-loading-parent--relative"),i.modifiers.fullscreen&&i.modifiers.lock&&Object(d["addClass"])(e,"el-loading-parent--hidden"),n.domVisible=!0,e.appendChild(n.mask),t.nextTick(function(){n.instance.hiding?n.instance.$emit("after-leave"):n.instance.visible=!0}),n.domInserted=!0)};t.directive("loading",{bind:function(t,n,i){var r=t.getAttribute("element-loading-text"),a=t.getAttribute("element-loading-spinner"),o=t.getAttribute("element-loading-background"),s=t.getAttribute("element-loading-custom-class"),u=i.context,l=new g({el:document.createElement("div"),data:{text:u&&u[r]||r,spinner:u&&u[a]||a,background:u&&u[o]||o,customClass:u&&u[s]||s,fullscreen:!!n.modifiers.fullscreen}});t.instance=l,t.mask=l.$el,t.maskStyle={},n.value&&e(t,n)},update:function(t,n){t.instance.setText(t.getAttribute("element-loading-text")),n.oldValue!==n.value&&e(t,n)},unbind:function(t,n){t.domInserted&&(t.mask&&t.mask.parentNode&&t.mask.parentNode.removeChild(t.mask),e(t,{value:!1,modifiers:n.modifiers})),t.instance&&t.instance.$destroy()}})}}},y=v,_=n(9),b=n.n(_),w=r.a.extend(h),x={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},T=void 0;w.prototype.originalPosition="",w.prototype.originalOverflow="",w.prototype.close=function(){var t=this;this.fullscreen&&(T=void 0),m()(this,function(e){var n=t.fullscreen||t.body?document.body:t.target;Object(d["removeClass"])(n,"el-loading-parent--relative"),Object(d["removeClass"])(n,"el-loading-parent--hidden"),t.$el&&t.$el.parentNode&&t.$el.parentNode.removeChild(t.$el),t.$destroy()},300),this.visible=!1};var S=function(t,e,n){var i={};t.fullscreen?(n.originalPosition=Object(d["getStyle"])(document.body,"position"),n.originalOverflow=Object(d["getStyle"])(document.body,"overflow"),i.zIndex=p["PopupManager"].nextZIndex()):t.body?(n.originalPosition=Object(d["getStyle"])(document.body,"position"),["top","left"].forEach(function(e){var n="top"===e?"scrollTop":"scrollLeft";i[e]=t.target.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]+"px"}),["height","width"].forEach(function(e){i[e]=t.target.getBoundingClientRect()[e]+"px"})):n.originalPosition=Object(d["getStyle"])(e,"position"),Object.keys(i).forEach(function(t){n.$el.style[t]=i[t]})},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.a.prototype.$isServer){if(t=b()({},x,t),"string"===typeof t.target&&(t.target=document.querySelector(t.target)),t.target=t.target||document.body,t.target!==document.body?t.fullscreen=!1:t.body=!0,t.fullscreen&&T)return T;var e=t.body?document.body:t.target,n=new w({el:document.createElement("div"),data:t});return S(t,e,n),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(d["addClass"])(e,"el-loading-parent--relative"),t.fullscreen&&t.lock&&Object(d["addClass"])(e,"el-loading-parent--hidden"),e.appendChild(n.$el),r.a.nextTick(function(){n.visible=!0}),t.fullscreen&&(T=n),n}},M=E;e["default"]={install:function(t){t.use(y),t.prototype.$loading=M},directive:y,service:M}},7:function(t,e){t.exports=n("2b0e")},9:function(t,e){t.exports=n("7f4d")}})},"8a81":function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("9e1e"),o=n("5ca1"),s=n("2aba"),u=n("67ab").KEY,l=n("79e5"),c=n("5537"),h=n("7f20"),d=n("ca5a"),p=n("2b4c"),f=n("37c8"),m=n("3a72"),g=n("d4c0"),v=n("1169"),y=n("cb7c"),_=n("d3f4"),b=n("4bf8"),w=n("6821"),x=n("6a99"),T=n("4630"),S=n("2aeb"),E=n("7bbc"),M=n("11e9"),C=n("2621"),A=n("86cc"),k=n("0d58"),P=M.f,O=A.f,L=E.f,R=i.Symbol,I=i.JSON,D=I&&I.stringify,N="prototype",U=p("_hidden"),B=p("toPrimitive"),j={}.propertyIsEnumerable,F=c("symbol-registry"),z=c("symbols"),V=c("op-symbols"),H=Object[N],G="function"==typeof R&&!!C.f,W=i.QObject,$=!W||!W[N]||!W[N].findChild,q=a&&l(function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=P(H,e);i&&delete H[e],O(t,e,n),i&&t!==H&&O(H,e,i)}:O,X=function(t){var e=z[t]=S(R[N]);return e._k=t,e},Y=G&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},J=function(t,e,n){return t===H&&J(V,e,n),y(t),e=x(e,!0),y(n),r(z,e)?(n.enumerable?(r(t,U)&&t[U][e]&&(t[U][e]=!1),n=S(n,{enumerable:T(0,!1)})):(r(t,U)||O(t,U,T(1,{})),t[U][e]=!0),q(t,e,n)):O(t,e,n)},Z=function(t,e){y(t);var n,i=g(e=w(e)),r=0,a=i.length;while(a>r)J(t,n=i[r++],e[n]);return t},K=function(t,e){return void 0===e?S(t):Z(S(t),e)},Q=function(t){var e=j.call(this,t=x(t,!0));return!(this===H&&r(z,t)&&!r(V,t))&&(!(e||!r(this,t)||!r(z,t)||r(this,U)&&this[U][t])||e)},tt=function(t,e){if(t=w(t),e=x(e,!0),t!==H||!r(z,e)||r(V,e)){var n=P(t,e);return!n||!r(z,e)||r(t,U)&&t[U][e]||(n.enumerable=!0),n}},et=function(t){var e,n=L(w(t)),i=[],a=0;while(n.length>a)r(z,e=n[a++])||e==U||e==u||i.push(e);return i},nt=function(t){var e,n=t===H,i=L(n?V:w(t)),a=[],o=0;while(i.length>o)!r(z,e=i[o++])||n&&!r(H,e)||a.push(z[e]);return a};G||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(V,n),r(this,U)&&r(this[U],t)&&(this[U][t]=!1),q(this,t,T(1,n))};return a&&$&&q(H,t,{configurable:!0,set:e}),X(t)},s(R[N],"toString",function(){return this._k}),M.f=tt,A.f=J,n("9093").f=E.f=et,n("52a7").f=Q,C.f=nt,a&&!n("2d00")&&s(H,"propertyIsEnumerable",Q,!0),f.f=function(t){return X(p(t))}),o(o.G+o.W+o.F*!G,{Symbol:R});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;it.length>rt;)p(it[rt++]);for(var at=k(p.store),ot=0;at.length>ot;)m(at[ot++]);o(o.S+o.F*!G,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=R(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),o(o.S+o.F*!G,"Object",{create:K,defineProperty:J,defineProperties:Z,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=l(function(){C.f(1)});o(o.S+o.F*st,"Object",{getOwnPropertySymbols:function(t){return C.f(b(t))}}),I&&o(o.S+o.F*(!G||l(function(){var t=R();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),i[1]=e,D.apply(I,i)}}),R[N][B]||n("32e9")(R[N],B,R[N].valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},"8b97":function(t,e,n){var i=n("d3f4"),r=n("cb7c"),a=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},"8c10":function(t,e){function n(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(r){i=r}return[i,n]}t.exports=n},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8e6e":function(t,e,n){var i=n("5ca1"),r=n("990b"),a=n("6821"),o=n("11e9"),s=n("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,i=a(t),u=o.f,l=r(i),c={},h=0;while(l.length>h)n=u(i,e=l[h++]),void 0!==n&&s(c,e,n);return c}})},"8f60":function(t,e,n){"use strict";var i=n("a159"),r=n("aebd"),a=n("45f2"),o={};n("35e8")(o,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(o,{next:r(1,n)}),a(t,e+" Iterator")}},9003:function(t,e,n){var i=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==i(t)}},9093:function(t,e,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},9138:function(t,e,n){t.exports=n("35e8")},"946e":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=71)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},1:function(t,e){t.exports=n("d940")},11:function(t,e){t.exports=n("f3ad")},12:function(t,e){t.exports=n("417f")},13:function(t,e){t.exports=n("14e9")},2:function(t,e){t.exports=n("5924")},27:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-panel el-popper",class:t.popperClass},[n("div",{staticClass:"el-time-panel__content",class:{"has-seconds":t.showSeconds}},[n("time-spinner",{ref:"spinner",attrs:{"arrow-control":t.useArrow,"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,date:t.date},on:{change:t.handleChange,"select-range":t.setSelectionRange}})],1),n("div",{staticClass:"el-time-panel__footer"},[n("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:t.handleCancel}},[t._v(t._s(t.t("el.datepicker.cancel")))]),n("button",{staticClass:"el-time-panel__btn",class:{confirm:!t.disabled},attrs:{type:"button"},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])},r=[];i._withStripped=!0;var a=n(1),o=n(6),s=n.n(o),u=n(34),l={mixins:[s.a],components:{TimeSpinner:u["a"]},props:{visible:Boolean,timeArrowControl:Boolean},watch:{visible:function(t){var e=this;t?(this.oldValue=this.value,this.$nextTick(function(){return e.$refs.spinner.emitSelectRange("hours")})):this.needInitAdjust=!0},value:function(t){var e=this,n=void 0;t instanceof Date?n=Object(a["limitTimeRange"])(t,this.selectableRange,this.format):t||(n=this.defaultValue?new Date(this.defaultValue):new Date),this.date=n,this.visible&&this.needInitAdjust&&(this.$nextTick(function(t){return e.adjustSpinners()}),this.needInitAdjust=!1)},selectableRange:function(t){this.$refs.spinner.selectableRange=t},defaultValue:function(t){Object(a["isDate"])(this.value)||(this.date=t?new Date(t):new Date)}},data:function(){return{popperClass:"",format:"HH:mm:ss",value:"",defaultValue:null,date:new Date,oldValue:new Date,selectableRange:[],selectionRange:[0,2],disabled:!1,arrowControl:!1,needInitAdjust:!0}},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},useArrow:function(){return this.arrowControl||this.timeArrowControl||!1},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},methods:{handleCancel:function(){this.$emit("pick",this.oldValue,!1)},handleChange:function(t){this.visible&&(this.date=Object(a["clearMilliseconds"])(t),this.isValidValue(this.date)&&this.$emit("pick",this.date,!0))},setSelectionRange:function(t,e){this.$emit("select-range",t,e),this.selectionRange=[t,e]},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];if(!e){var n=Object(a["clearMilliseconds"])(Object(a["limitTimeRange"])(this.date,this.selectableRange,this.format));this.$emit("pick",n,t,e)}},handleKeydown:function(t){var e=t.keyCode,n={38:-1,40:1,37:-1,39:1};if(37===e||39===e){var i=n[e];return this.changeSelectionRange(i),void t.preventDefault()}if(38===e||40===e){var r=n[e];return this.$refs.spinner.scrollDown(r),void t.preventDefault()}},isValidValue:function(t){return Object(a["timeWithinRange"])(t,this.selectableRange,this.format)},adjustSpinners:function(){return this.$refs.spinner.adjustSpinners()},changeSelectionRange:function(t){var e=[0,3].concat(this.showSeconds?[6]:[]),n=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),i=e.indexOf(this.selectionRange[0]),r=(i+t+e.length)%e.length;this.$refs.spinner.emitSelectRange(n[r])}},mounted:function(){var t=this;this.$nextTick(function(){return t.handleConfirm(!0,!0)}),this.$emit("mounted")}},c=l,h=n(0),d=Object(h["a"])(c,i,r,!1,null,null,null);d.options.__file="packages/date-picker/src/panel/time.vue";e["a"]=d.exports},30:function(t,e,n){"use strict";var i=n(2);e["a"]={bind:function(t,e,n){var r=null,a=void 0,o=function(){return n.context[e.expression].apply()},s=function(){Date.now()-a<100&&o(),clearInterval(r),r=null};Object(i["on"])(t,"mousedown",function(t){0===t.button&&(a=Date.now(),Object(i["once"])(document,"mouseup",s),clearInterval(r),r=setInterval(o,100))})}}},32:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.ranged?n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor el-range-editor el-input__inner",class:["el-date-editor--"+t.type,t.pickerSize?"el-range-editor--"+t.pickerSize:"",t.pickerDisabled?"is-disabled":"",t.pickerVisible?"is-active":""],on:{click:t.handleRangeClick,mouseenter:t.handleMouseEnter,mouseleave:function(e){t.showClose=!1},keydown:t.handleKeydown}},[n("i",{class:["el-input__icon","el-range__icon",t.triggerClass]}),n("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.startPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[0]},domProps:{value:t.displayValue&&t.displayValue[0]},on:{input:t.handleStartInput,change:t.handleStartChange,focus:t.handleFocus}},"input",t.firstInputId,!1)),t._t("range-separator",[n("span",{staticClass:"el-range-separator"},[t._v(t._s(t.rangeSeparator))])]),n("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.endPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[1]},domProps:{value:t.displayValue&&t.displayValue[1]},on:{input:t.handleEndInput,change:t.handleEndChange,focus:t.handleFocus}},"input",t.secondInputId,!1)),t.haveTrigger?n("i",{staticClass:"el-input__icon el-range__close-icon",class:[t.showClose?""+t.clearIcon:""],on:{click:t.handleClickIcon}}):t._e()],2):n("el-input",t._b({directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor",class:"el-date-editor--"+t.type,attrs:{readonly:!t.editable||t.readonly||"dates"===t.type||"week"===t.type,disabled:t.pickerDisabled,size:t.pickerSize,name:t.name,placeholder:t.placeholder,value:t.displayValue,validateEvent:!1},on:{focus:t.handleFocus,input:function(e){return t.userInput=e},change:t.handleChange},nativeOn:{keydown:function(e){return t.handleKeydown(e)},mouseenter:function(e){return t.handleMouseEnter(e)},mouseleave:function(e){t.showClose=!1}}},"el-input",t.firstInputId,!1),[n("i",{staticClass:"el-input__icon",class:t.triggerClass,attrs:{slot:"prefix"},on:{click:t.handleFocus},slot:"prefix"}),t.haveTrigger?n("i",{staticClass:"el-input__icon",class:[t.showClose?""+t.clearIcon:""],attrs:{slot:"suffix"},on:{click:t.handleClickIcon},slot:"suffix"}):t._e()])},r=[];i._withStripped=!0;var a=n(7),o=n.n(a),s=n(12),u=n.n(s),l=n(1),c=n(5),h=n.n(c),d=n(4),p=n.n(d),f=n(11),m=n.n(f),g=n(9),v=n.n(g),y={props:{appendToBody:h.a.props.appendToBody,offset:h.a.props.offset,boundariesPadding:h.a.props.boundariesPadding,arrowOffset:h.a.props.arrowOffset},methods:h.a.methods,data:function(){return v()({visibleArrow:!0},h.a.data)},beforeDestroy:h.a.beforeDestroy},_={date:"yyyy-MM-dd",month:"yyyy-MM",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",week:"yyyywWW",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss",year:"yyyy"},b=["date","datetime","time","time-select","week","month","year","daterange","monthrange","timerange","datetimerange","dates"],w=function(t,e){return"timestamp"===e?t.getTime():Object(l["formatDate"])(t,e)},x=function(t,e){return"timestamp"===e?new Date(Number(t)):Object(l["parseDate"])(t,e)},T=function(t,e){if(Array.isArray(t)&&2===t.length){var n=t[0],i=t[1];if(n&&i)return[w(n,e),w(i,e)]}return""},S=function(t,e,n){if(Array.isArray(t)||(t=t.split(n)),2===t.length){var i=t[0],r=t[1];return[x(i,e),x(r,e)]}return[]},E={default:{formatter:function(t){return t?""+t:""},parser:function(t){return void 0===t||""===t?null:t}},week:{formatter:function(t,e){var n=Object(l["getWeekNumber"])(t),i=t.getMonth(),r=new Date(t);1===n&&11===i&&(r.setHours(0,0,0,0),r.setDate(r.getDate()+3-(r.getDay()+6)%7));var a=Object(l["formatDate"])(r,e);return a=/WW/.test(a)?a.replace(/WW/,n<10?"0"+n:n):a.replace(/W/,n),a},parser:function(t,e){return E.date.parser(t,e)}},date:{formatter:w,parser:x},datetime:{formatter:w,parser:x},daterange:{formatter:T,parser:S},monthrange:{formatter:T,parser:S},datetimerange:{formatter:T,parser:S},timerange:{formatter:T,parser:S},time:{formatter:w,parser:x},month:{formatter:w,parser:x},year:{formatter:w,parser:x},number:{formatter:function(t){return t?""+t:""},parser:function(t){var e=Number(t);return isNaN(t)?null:e}},dates:{formatter:function(t,e){return t.map(function(t){return w(t,e)})},parser:function(t,e){return("string"===typeof t?t.split(", "):t).map(function(t){return t instanceof Date?t:x(t,e)})}}},M={left:"bottom-start",center:"bottom",right:"bottom-end"},C=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";if(!t)return null;var r=(E[n]||E["default"]).parser,a=e||_[n];return r(t,a,i)},A=function(t,e,n){if(!t)return null;var i=(E[n]||E["default"]).formatter,r=e||_[n];return i(t,r)},k=function(t,e){var n=function(t,e){var n=t instanceof Date,i=e instanceof Date;return n&&i?t.getTime()===e.getTime():!n&&!i&&t===e},i=t instanceof Array,r=e instanceof Array;return i&&r?t.length===e.length&&t.every(function(t,i){return n(t,e[i])}):!i&&!r&&n(t,e)},P=function(t){return"string"===typeof t||t instanceof String},O=function(t){return null===t||void 0===t||P(t)||Array.isArray(t)&&2===t.length&&t.every(P)},L={mixins:[p.a,y],inject:{elForm:{default:""},elFormItem:{default:""}},props:{size:String,format:String,valueFormat:String,readonly:Boolean,placeholder:String,startPlaceholder:String,endPlaceholder:String,prefixIcon:String,clearIcon:{type:String,default:"el-icon-circle-close"},name:{default:"",validator:O},disabled:Boolean,clearable:{type:Boolean,default:!0},id:{default:"",validator:O},popperClass:String,editable:{type:Boolean,default:!0},align:{type:String,default:"left"},value:{},defaultValue:{},defaultTime:{},rangeSeparator:{default:"-"},pickerOptions:{},unlinkPanels:Boolean,validateEvent:{type:Boolean,default:!0}},components:{ElInput:m.a},directives:{Clickoutside:u.a},data:function(){return{pickerVisible:!1,showClose:!1,userInput:null,valueOnOpen:null,unwatchPickerOptions:null}},watch:{pickerVisible:function(t){this.readonly||this.pickerDisabled||(t?(this.showPicker(),this.valueOnOpen=Array.isArray(this.value)?[].concat(this.value):this.value):(this.hidePicker(),this.emitChange(this.value),this.userInput=null,this.validateEvent&&this.dispatch("ElFormItem","el.form.blur"),this.$emit("blur",this),this.blur()))},parsedValue:{immediate:!0,handler:function(t){this.picker&&(this.picker.value=t)}},defaultValue:function(t){this.picker&&(this.picker.defaultValue=t)},value:function(t,e){k(t,e)||this.pickerVisible||!this.validateEvent||this.dispatch("ElFormItem","el.form.change",t)}},computed:{ranged:function(){return this.type.indexOf("range")>-1},reference:function(){var t=this.$refs.reference;return t.$el||t},refInput:function(){return this.reference?[].slice.call(this.reference.querySelectorAll("input")):[]},valueIsEmpty:function(){var t=this.value;if(Array.isArray(t)){for(var e=0,n=t.length;e<n;e++)if(t[e])return!1}else if(t)return!1;return!0},triggerClass:function(){return this.prefixIcon||(-1!==this.type.indexOf("time")?"el-icon-time":"el-icon-date")},selectionMode:function(){return"week"===this.type?"week":"month"===this.type?"month":"year"===this.type?"year":"dates"===this.type?"dates":"day"},haveTrigger:function(){return"undefined"!==typeof this.showTrigger?this.showTrigger:-1!==b.indexOf(this.type)},displayValue:function(){var t=A(this.parsedValue,this.format,this.type,this.rangeSeparator);return Array.isArray(this.userInput)?[this.userInput[0]||t&&t[0]||"",this.userInput[1]||t&&t[1]||""]:null!==this.userInput?this.userInput:t?"dates"===this.type?t.join(", "):t:""},parsedValue:function(){if(!this.value)return this.value;if("time-select"===this.type)return this.value;var t=Object(l["isDateObject"])(this.value)||Array.isArray(this.value)&&this.value.every(l["isDateObject"]);return t?this.value:this.valueFormat?C(this.value,this.valueFormat,this.type,this.rangeSeparator)||this.value:Array.isArray(this.value)?this.value.map(function(t){return new Date(t)}):new Date(this.value)},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},pickerSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},pickerDisabled:function(){return this.disabled||(this.elForm||{}).disabled},firstInputId:function(){var t={},e=void 0;return e=this.ranged?this.id&&this.id[0]:this.id,e&&(t.id=e),t},secondInputId:function(){var t={},e=void 0;return this.ranged&&(e=this.id&&this.id[1]),e&&(t.id=e),t}},created:function(){this.popperOptions={boundariesPadding:0,gpuAcceleration:!1},this.placement=M[this.align]||M.left,this.$on("fieldReset",this.handleFieldReset)},methods:{focus:function(){this.ranged?this.handleFocus():this.$refs.reference.focus()},blur:function(){this.refInput.forEach(function(t){return t.blur()})},parseValue:function(t){var e=Object(l["isDateObject"])(t)||Array.isArray(t)&&t.every(l["isDateObject"]);return this.valueFormat&&!e&&C(t,this.valueFormat,this.type,this.rangeSeparator)||t},formatToValue:function(t){var e=Object(l["isDateObject"])(t)||Array.isArray(t)&&t.every(l["isDateObject"]);return this.valueFormat&&e?A(t,this.valueFormat,this.type,this.rangeSeparator):t},parseString:function(t){var e=Array.isArray(t)?this.type:this.type.replace("range","");return C(t,this.format,e)},formatToString:function(t){var e=Array.isArray(t)?this.type:this.type.replace("range","");return A(t,this.format,e)},handleMouseEnter:function(){this.readonly||this.pickerDisabled||!this.valueIsEmpty&&this.clearable&&(this.showClose=!0)},handleChange:function(){if(this.userInput){var t=this.parseString(this.displayValue);t&&(this.picker.value=t,this.isValidValue(t)&&(this.emitInput(t),this.userInput=null))}""===this.userInput&&(this.emitInput(null),this.emitChange(null),this.userInput=null)},handleStartInput:function(t){this.userInput?this.userInput=[t.target.value,this.userInput[1]]:this.userInput=[t.target.value,null]},handleEndInput:function(t){this.userInput?this.userInput=[this.userInput[0],t.target.value]:this.userInput=[null,t.target.value]},handleStartChange:function(t){var e=this.parseString(this.userInput&&this.userInput[0]);if(e){this.userInput=[this.formatToString(e),this.displayValue[1]];var n=[e,this.picker.value&&this.picker.value[1]];this.picker.value=n,this.isValidValue(n)&&(this.emitInput(n),this.userInput=null)}},handleEndChange:function(t){var e=this.parseString(this.userInput&&this.userInput[1]);if(e){this.userInput=[this.displayValue[0],this.formatToString(e)];var n=[this.picker.value&&this.picker.value[0],e];this.picker.value=n,this.isValidValue(n)&&(this.emitInput(n),this.userInput=null)}},handleClickIcon:function(t){this.readonly||this.pickerDisabled||(this.showClose?(this.valueOnOpen=this.value,t.stopPropagation(),this.emitInput(null),this.emitChange(null),this.showClose=!1,this.picker&&"function"===typeof this.picker.handleClear&&this.picker.handleClear()):this.pickerVisible=!this.pickerVisible)},handleClose:function(){if(this.pickerVisible&&(this.pickerVisible=!1,"dates"===this.type)){var t=C(this.valueOnOpen,this.valueFormat,this.type,this.rangeSeparator)||this.valueOnOpen;this.emitInput(t)}},handleFieldReset:function(t){this.userInput=""===t?null:t},handleFocus:function(){var t=this.type;-1===b.indexOf(t)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},handleKeydown:function(t){var e=this,n=t.keyCode;return 27===n?(this.pickerVisible=!1,void t.stopPropagation()):9!==n?13===n?((""===this.userInput||this.isValidValue(this.parseString(this.displayValue)))&&(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur()),void t.stopPropagation()):void(this.userInput?t.stopPropagation():this.picker&&this.picker.handleKeydown&&this.picker.handleKeydown(t)):void(this.ranged?setTimeout(function(){-1===e.refInput.indexOf(document.activeElement)&&(e.pickerVisible=!1,e.blur(),t.stopPropagation())},0):(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur(),t.stopPropagation()))},handleRangeClick:function(){var t=this.type;-1===b.indexOf(t)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},hidePicker:function(){this.picker&&(this.picker.resetView&&this.picker.resetView(),this.pickerVisible=this.picker.visible=!1,this.destroyPopper())},showPicker:function(){var t=this;this.$isServer||(this.picker||this.mountPicker(),this.pickerVisible=this.picker.visible=!0,this.updatePopper(),this.picker.value=this.parsedValue,this.picker.resetView&&this.picker.resetView(),this.$nextTick(function(){t.picker.adjustSpinners&&t.picker.adjustSpinners()}))},mountPicker:function(){var t=this;this.picker=new o.a(this.panel).$mount(),this.picker.defaultValue=this.defaultValue,this.picker.defaultTime=this.defaultTime,this.picker.popperClass=this.popperClass,this.popperElm=this.picker.$el,this.picker.width=this.reference.getBoundingClientRect().width,this.picker.showTime="datetime"===this.type||"datetimerange"===this.type,this.picker.selectionMode=this.selectionMode,this.picker.unlinkPanels=this.unlinkPanels,this.picker.arrowControl=this.arrowControl||this.timeArrowControl||!1,this.$watch("format",function(e){t.picker.format=e});var e=function(){var e=t.pickerOptions;if(e&&e.selectableRange){var n=e.selectableRange,i=E.datetimerange.parser,r=_.timerange;n=Array.isArray(n)?n:[n],t.picker.selectableRange=n.map(function(e){return i(e,r,t.rangeSeparator)})}for(var a in e)e.hasOwnProperty(a)&&"selectableRange"!==a&&(t.picker[a]=e[a]);t.format&&(t.picker.format=t.format)};e(),this.unwatchPickerOptions=this.$watch("pickerOptions",function(){return e()},{deep:!0}),this.$el.appendChild(this.picker.$el),this.picker.resetView&&this.picker.resetView(),this.picker.$on("dodestroy",this.doDestroy),this.picker.$on("pick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.userInput=null,t.pickerVisible=t.picker.visible=n,t.emitInput(e),t.picker.resetView&&t.picker.resetView()}),this.picker.$on("select-range",function(e,n,i){0!==t.refInput.length&&(i&&"min"!==i?"max"===i&&(t.refInput[1].setSelectionRange(e,n),t.refInput[1].focus()):(t.refInput[0].setSelectionRange(e,n),t.refInput[0].focus()))})},unmountPicker:function(){this.picker&&(this.picker.$destroy(),this.picker.$off(),"function"===typeof this.unwatchPickerOptions&&this.unwatchPickerOptions(),this.picker.$el.parentNode.removeChild(this.picker.$el))},emitChange:function(t){k(t,this.valueOnOpen)||(this.$emit("change",t),this.valueOnOpen=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",t))},emitInput:function(t){var e=this.formatToValue(t);k(this.value,e)||this.$emit("input",e)},isValidValue:function(t){return this.picker||this.mountPicker(),!this.picker.isValidValue||t&&this.picker.isValidValue(t)}}},R=L,I=n(0),D=Object(I["a"])(R,i,r,!1,null,null,null);D.options.__file="packages/date-picker/src/picker.vue";e["a"]=D.exports},34:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-time-spinner",class:{"has-seconds":t.showSeconds}},[t.arrowControl?t._e():[n("el-scrollbar",{ref:"hours",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("hours")},mousemove:function(e){t.adjustCurrentSpinner("hours")}}},t._l(t.hoursList,function(e,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:i===t.hours,disabled:e},on:{click:function(n){t.handleClick("hours",{value:i,disabled:e})}}},[t._v(t._s(("0"+(t.amPmMode?i%12||12:i)).slice(-2))+t._s(t.amPm(i)))])}),0),n("el-scrollbar",{ref:"minutes",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("minutes")},mousemove:function(e){t.adjustCurrentSpinner("minutes")}}},t._l(t.minutesList,function(e,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:i===t.minutes,disabled:!e},on:{click:function(e){t.handleClick("minutes",{value:i,disabled:!1})}}},[t._v(t._s(("0"+i).slice(-2)))])}),0),n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.showSeconds,expression:"showSeconds"}],ref:"seconds",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("seconds")},mousemove:function(e){t.adjustCurrentSpinner("seconds")}}},t._l(60,function(e,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:i===t.seconds},on:{click:function(e){t.handleClick("seconds",{value:i,disabled:!1})}}},[t._v(t._s(("0"+i).slice(-2)))])}),0)],t.arrowControl?[n("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("hours")}}},[n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),n("ul",{ref:"hours",staticClass:"el-time-spinner__list"},t._l(t.arrowHourList,function(e,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:e===t.hours,disabled:t.hoursList[e]}},[t._v(t._s(void 0===e?"":("0"+(t.amPmMode?e%12||12:e)).slice(-2)+t.amPm(e)))])}),0)]),n("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("minutes")}}},[n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),n("ul",{ref:"minutes",staticClass:"el-time-spinner__list"},t._l(t.arrowMinuteList,function(e,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:e===t.minutes}},[t._v("\n          "+t._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]),t.showSeconds?n("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("seconds")}}},[n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),n("ul",{ref:"seconds",staticClass:"el-time-spinner__list"},t._l(t.arrowSecondList,function(e,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:e===t.seconds}},[t._v("\n          "+t._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]):t._e()]:t._e()],2)},r=[];i._withStripped=!0;var a=n(1),o=n(13),s=n.n(o),u=n(30),l={components:{ElScrollbar:s.a},directives:{repeatClick:u["a"]},props:{date:{},defaultValue:{},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""}},computed:{hours:function(){return this.date.getHours()},minutes:function(){return this.date.getMinutes()},seconds:function(){return this.date.getSeconds()},hoursList:function(){return Object(a["getRangeHours"])(this.selectableRange)},minutesList:function(){return Object(a["getRangeMinutes"])(this.selectableRange,this.hours)},arrowHourList:function(){var t=this.hours;return[t>0?t-1:void 0,t,t<23?t+1:void 0]},arrowMinuteList:function(){var t=this.minutes;return[t>0?t-1:void 0,t,t<59?t+1:void 0]},arrowSecondList:function(){var t=this.seconds;return[t>0?t-1:void 0,t,t<59?t+1:void 0]}},data:function(){return{selectableRange:[],currentScrollbar:null}},mounted:function(){var t=this;this.$nextTick(function(){!t.arrowControl&&t.bindScrollEvent()})},methods:{increase:function(){this.scrollDown(1)},decrease:function(){this.scrollDown(-1)},modifyDateField:function(t,e){switch(t){case"hours":this.$emit("change",Object(a["modifyTime"])(this.date,e,this.minutes,this.seconds));break;case"minutes":this.$emit("change",Object(a["modifyTime"])(this.date,this.hours,e,this.seconds));break;case"seconds":this.$emit("change",Object(a["modifyTime"])(this.date,this.hours,this.minutes,e));break}},handleClick:function(t,e){var n=e.value,i=e.disabled;i||(this.modifyDateField(t,n),this.emitSelectRange(t),this.adjustSpinner(t,n))},emitSelectRange:function(t){"hours"===t?this.$emit("select-range",0,2):"minutes"===t?this.$emit("select-range",3,5):"seconds"===t&&this.$emit("select-range",6,8),this.currentScrollbar=t},bindScrollEvent:function(){var t=this,e=function(e){t.$refs[e].wrap.onscroll=function(n){t.handleScroll(e,n)}};e("hours"),e("minutes"),e("seconds")},handleScroll:function(t){var e=Math.min(Math.floor((this.$refs[t].wrap.scrollTop-(.5*this.scrollBarHeight(t)-10)/this.typeItemHeight(t)+3)/this.typeItemHeight(t)),"hours"===t?23:59);this.modifyDateField(t,e)},adjustSpinners:function(){this.adjustSpinner("hours",this.hours),this.adjustSpinner("minutes",this.minutes),this.adjustSpinner("seconds",this.seconds)},adjustCurrentSpinner:function(t){this.adjustSpinner(t,this[t])},adjustSpinner:function(t,e){if(!this.arrowControl){var n=this.$refs[t].wrap;n&&(n.scrollTop=Math.max(0,e*this.typeItemHeight(t)))}},scrollDown:function(t){this.currentScrollbar||this.emitSelectRange("hours");var e=this.currentScrollbar,n=this.hoursList,i=this[e];if("hours"===this.currentScrollbar){var r=Math.abs(t);t=t>0?1:-1;var a=n.length;while(a--&&r)i=(i+t+n.length)%n.length,n[i]||r--;if(n[i])return}else i=(i+t+60)%60;this.modifyDateField(e,i),this.adjustSpinner(e,i)},amPm:function(t){var e="a"===this.amPmMode.toLowerCase();if(!e)return"";var n="A"===this.amPmMode,i=t<12?" am":" pm";return n&&(i=i.toUpperCase()),i},typeItemHeight:function(t){return this.$refs[t].$el.querySelector("li").offsetHeight},scrollBarHeight:function(t){return this.$refs[t].$el.offsetHeight}}},c=l,h=n(0),d=Object(h["a"])(c,i,r,!1,null,null,null);d.options.__file="packages/date-picker/src/basic/time-spinner.vue";e["a"]=d.exports},4:function(t,e){t.exports=n("d010")},5:function(t,e){t.exports=n("e974")},6:function(t,e){t.exports=n("6b7c")},7:function(t,e){t.exports=n("2b0e")},71:function(t,e,n){"use strict";n.r(e);var i=n(32),r=n(27),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-range-picker el-picker-panel el-popper",class:t.popperClass},[n("div",{staticClass:"el-time-range-picker__content"},[n("div",{staticClass:"el-time-range-picker__cell"},[n("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.startTime")))]),n("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[n("time-spinner",{ref:"minSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.minDate},on:{change:t.handleMinChange,"select-range":t.setMinSelectionRange}})],1)]),n("div",{staticClass:"el-time-range-picker__cell"},[n("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.endTime")))]),n("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[n("time-spinner",{ref:"maxSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.maxDate},on:{change:t.handleMaxChange,"select-range":t.setMaxSelectionRange}})],1)])]),n("div",{staticClass:"el-time-panel__footer"},[n("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:function(e){t.handleCancel()}}},[t._v(t._s(t.t("el.datepicker.cancel")))]),n("button",{staticClass:"el-time-panel__btn confirm",attrs:{type:"button",disabled:t.btnDisabled},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])},o=[];a._withStripped=!0;var s=n(1),u=n(6),l=n.n(u),c=n(34),h=Object(s["parseDate"])("00:00:00","HH:mm:ss"),d=Object(s["parseDate"])("23:59:59","HH:mm:ss"),p=function(t){return Object(s["modifyDate"])(h,t.getFullYear(),t.getMonth(),t.getDate())},f=function(t){return Object(s["modifyDate"])(d,t.getFullYear(),t.getMonth(),t.getDate())},m=function(t,e){return new Date(Math.min(t.getTime()+e,f(t).getTime()))},g={mixins:[l.a],components:{TimeSpinner:c["a"]},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},offset:function(){return this.showSeconds?11:8},spinner:function(){return this.selectionRange[0]<this.offset?this.$refs.minSpinner:this.$refs.maxSpinner},btnDisabled:function(){return this.minDate.getTime()>this.maxDate.getTime()},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},data:function(){return{popperClass:"",minDate:new Date,maxDate:new Date,value:[],oldValue:[new Date,new Date],defaultValue:null,format:"HH:mm:ss",visible:!1,selectionRange:[0,2],arrowControl:!1}},watch:{value:function(t){Array.isArray(t)?(this.minDate=new Date(t[0]),this.maxDate=new Date(t[1])):Array.isArray(this.defaultValue)?(this.minDate=new Date(this.defaultValue[0]),this.maxDate=new Date(this.defaultValue[1])):this.defaultValue?(this.minDate=new Date(this.defaultValue),this.maxDate=m(new Date(this.defaultValue),36e5)):(this.minDate=new Date,this.maxDate=m(new Date,36e5))},visible:function(t){var e=this;t&&(this.oldValue=this.value,this.$nextTick(function(){return e.$refs.minSpinner.emitSelectRange("hours")}))}},methods:{handleClear:function(){this.$emit("pick",null)},handleCancel:function(){this.$emit("pick",this.oldValue)},handleMinChange:function(t){this.minDate=Object(s["clearMilliseconds"])(t),this.handleChange()},handleMaxChange:function(t){this.maxDate=Object(s["clearMilliseconds"])(t),this.handleChange()},handleChange:function(){this.isValidValue([this.minDate,this.maxDate])&&(this.$refs.minSpinner.selectableRange=[[p(this.minDate),this.maxDate]],this.$refs.maxSpinner.selectableRange=[[this.minDate,f(this.maxDate)]],this.$emit("pick",[this.minDate,this.maxDate],!0))},setMinSelectionRange:function(t,e){this.$emit("select-range",t,e,"min"),this.selectionRange=[t,e]},setMaxSelectionRange:function(t,e){this.$emit("select-range",t,e,"max"),this.selectionRange=[t+this.offset,e+this.offset]},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.$refs.minSpinner.selectableRange,n=this.$refs.maxSpinner.selectableRange;this.minDate=Object(s["limitTimeRange"])(this.minDate,e,this.format),this.maxDate=Object(s["limitTimeRange"])(this.maxDate,n,this.format),this.$emit("pick",[this.minDate,this.maxDate],t)},adjustSpinners:function(){this.$refs.minSpinner.adjustSpinners(),this.$refs.maxSpinner.adjustSpinners()},changeSelectionRange:function(t){var e=this.showSeconds?[0,3,6,11,14,17]:[0,3,8,11],n=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),i=e.indexOf(this.selectionRange[0]),r=(i+t+e.length)%e.length,a=e.length/2;r<a?this.$refs.minSpinner.emitSelectRange(n[r]):this.$refs.maxSpinner.emitSelectRange(n[r-a])},isValidValue:function(t){return Array.isArray(t)&&Object(s["timeWithinRange"])(this.minDate,this.$refs.minSpinner.selectableRange)&&Object(s["timeWithinRange"])(this.maxDate,this.$refs.maxSpinner.selectableRange)},handleKeydown:function(t){var e=t.keyCode,n={38:-1,40:1,37:-1,39:1};if(37===e||39===e){var i=n[e];return this.changeSelectionRange(i),void t.preventDefault()}if(38===e||40===e){var r=n[e];return this.spinner.scrollDown(r),void t.preventDefault()}}}},v=g,y=n(0),_=Object(y["a"])(v,a,o,!1,null,null,null);_.options.__file="packages/date-picker/src/panel/time-range.vue";var b=_.exports,w={mixins:[i["a"]],name:"ElTimePicker",props:{isRange:Boolean,arrowControl:Boolean},data:function(){return{type:""}},watch:{isRange:function(t){this.picker?(this.unmountPicker(),this.type=t?"timerange":"time",this.panel=t?b:r["a"],this.mountPicker()):(this.type=t?"timerange":"time",this.panel=t?b:r["a"])}},created:function(){this.type=this.isRange?"timerange":"time",this.panel=this.isRange?b:r["a"]},install:function(t){t.component(w.name,w)}};e["default"]=w},9:function(t,e){t.exports=n("7f4d")}})},"960d":function(t,e,n){},"990b":function(t,e,n){var i=n("9093"),r=n("2621"),a=n("cb7c"),o=n("7726").Reflect;t.exports=o&&o.ownKeys||function(t){var e=i.f(a(t)),n=r.f;return n?e.concat(n(t)):e}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9afa":function(t,e,n){"use strict";var i,r,a=n("2806").parseType,o=function(t){return new Date(1e3*t-20828448e5)},s=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},u=function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31);break}return r},l={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:i(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,a=new DataView(t.buffer,t.byteOffset,t.byteLength),o={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},s=31&t[5];for(i=6,r=0;r<s;r++)n=a.getUint16(i),i+=2,o.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=a.getUint16(i),i+=2,o.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return o},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:a(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;while(i<t.byteLength)n.compatibleBrands.push(a(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:i(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:i(t.subarray(8))}},hdlr:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:a(t.subarray(8,12)),name:""},i=8;for(i=24;i<t.byteLength;i++){if(0===t[i]){i++;break}n.name+=String.fromCharCode(t[i])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(t){return{byteLength:t.byteLength,nals:u(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=o(n.getUint32(i)),i+=8,r.modificationTime=o(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=o(n.getUint32(i)),i+=4,r.modificationTime=o(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:i(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:i(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=i(t.subarray(28))[0]),n},moof:function(t){return{boxes:i(t)}},moov:function(t){return{boxes:i(t)}},mvex:function(t){return{boxes:i(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=o(e.getUint32(n)),n+=8,i.modificationTime=o(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8,i.duration=e.getUint32(n)):(i.creationTime=o(e.getUint32(n)),n+=4,i.modificationTime=o(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4,i.duration=e.getUint32(n)),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:i(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:i(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return l.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],o=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),a&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),o&&(i.defaultSampleDuration=n.getUint32(e),e+=4),s&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=o(e.getUint32(n)),n+=8,i.modificationTime=o(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8,i.duration=e.getUint32(n)):(i.creationTime=o(e.getUint32(n)),n+=4,i.modificationTime=o(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4,i.duration=e.getUint32(n)),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:i(t)}},trak:function(t){return{boxes:i(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],u=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],h=i.getUint32(4),d=8;r&&(n.dataOffset=i.getInt32(d),d+=4),a&&h&&(e={flags:s(t.subarray(d,d+4))},d+=4,o&&(e.duration=i.getUint32(d),d+=4),u&&(e.size=i.getUint32(d),d+=4),c&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),h--);while(h--)e={},o&&(e.duration=i.getUint32(d),d+=4),u&&(e.size=i.getUint32(d),d+=4),l&&(e.flags=s(t.subarray(d,d+4)),d+=4),c&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};i=function(t){for(var e,n,i,r,o,s=0,u=[],c=new ArrayBuffer(t.length),h=new Uint8Array(c),d=0;d<t.length;++d)h[d]=t[d];e=new DataView(c);while(s<t.byteLength)n=e.getUint32(s),i=a(t.subarray(s+4,s+8)),r=n>1?s+n:t.byteLength,o=(l[i]||function(t){return{data:t}})(t.subarray(s+8,r)),o.size=n,o.type=i,u.push(o),s=r;return u},r=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,i){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var i=n+"  "+e+": ",r=t[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var a=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return a?1===a.length?i+"<"+a.join("").slice(1)+">":i+"<\n"+a.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+r(t.boxes,e+1):"")}).join("\n")},t.exports={inspect:i,textify:r,parseTfdt:l.tfdt,parseHdlr:l.hdlr,parseTfhd:l.tfhd,parseTrun:l.trun,parseSidx:l.sidx}},"9b43":function(t,e,n){var i=n("d8e8");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var i=n("2b4c")("unscopables"),r=Array.prototype;void 0==r[i]&&n("32e9")(r,i,{}),t.exports=function(t){r[i][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9d4c":function(t,e,n){},"9d56":function(t,e,n){"use strict";var i,r=n("4329"),a=n("fbd0");i=function(){var t=new Uint8Array,e=0;i.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var i,r,o,s,u=0,l=0;t.length?(s=t.length,t=new Uint8Array(n.byteLength+s),t.set(t.subarray(0,s)),t.set(n,s)):t=n;while(t.length-l>=3)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(255!==(255&t[l])||240!==(240&t[l+1]))l++;else{if(t.length-l<7)break;if(u=a.parseAdtsSize(t,l),l+u>t.length)break;o={type:"audio",data:t.subarray(l,l+u),pts:e,dts:e},this.trigger("data",o),l+=u}else{if(t.length-l<10)break;if(u=a.parseId3TagSize(t,l),l+u>t.length)break;r={type:"timed-metadata",data:t.subarray(l,l+u)},this.trigger("data",r),l+=u}i=t.length-l,t=i>0?t.subarray(l):new Uint8Array}},i.prototype=new r,t.exports=i},"9d7e":function(t,e,n){"use strict";e.__esModule=!0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){function e(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return 1===n.length&&"object"===i(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),t.replace(a,function(e,i,a,o){var s=void 0;return"{"===t[o-1]&&"}"===t[o+e.length]?a:(s=(0,r.hasOwn)(n,a)?n[a]:null,null===s||void 0===s?"":s)})}return e};var r=n("8122"),a=/(%|)\{([0-9a-zA-Z_]+)\}/g},"9def":function(t,e,n){var i=n("4588"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9e1f":function(t,e,n){},a0d3:function(t,e,n){"use strict";var i=n("0f7c");t.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},a159:function(t,e,n){var i=n("e4ae"),r=n("7e90"),a=n("1691"),o=n("5559")("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,e=n("1ec9")("iframe"),i=a.length,r="<",o=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+o+"document.F=Object"+r+"/script"+o),t.close(),l=t.F;while(i--)delete l[u][a[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=i(t),n=new s,s[u]=null,n[o]=t):n=l(),void 0===e?n:r(n,e)}},a25f:function(t,e,n){var i=n("7726"),r=i.navigator;t.exports=r&&r.userAgent||""},a5b8:function(t,e,n){"use strict";var i=n("d8e8");function r(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},a742:function(t,e,n){"use strict";function i(t){return"[object String]"===Object.prototype.toString.call(t)}function r(t){return"[object Object]"===Object.prototype.toString.call(t)}function a(t){return t&&t.nodeType===Node.ELEMENT_NODE}e.__esModule=!0,e.isString=i,e.isObject=r,e.isHtmlElement=a;e.isFunction=function(t){var e={};return t&&"[object Function]"===e.toString.call(t)},e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return void 0!==t&&null!==t}},a745:function(t,e,n){t.exports=n("f410")},a8e0:function(t,e,n){"use strict";var i=n("dc6d").discardEmulationPreventionBytes,r=n("4e69").CaptionStream,a=n("2806"),o=n("9afa"),s=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},u=function(t,e,n){var r,a,o,u,l=new DataView(t.buffer,t.byteOffset,t.byteLength),c=[];for(a=0;a+4<t.length;a+=o)if(o=l.getUint32(a),a+=4,!(o<=0))switch(31&t[a]){case 6:var h=t.subarray(a+1,a+1+o),d=s(a,e);r={nalUnitType:"sei_rbsp",size:o,data:h,escapedRBSP:i(h),trackId:n},d?(r.pts=d.pts,r.dts=d.dts,u=d):(r.pts=u.pts,r.dts=u.dts),c.push(r);break;default:break}return c},l=function(t,e,n){var i=e,r=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,s=n.trackId,u=[];return t.forEach(function(t){var e=o.parseTrun(t),n=e.samples;n.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=a),t.trackId=s,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration}),u=u.concat(n)}),u},c=function(t,e){var n=a.findBox(t,["moof","traf"]),i=a.findBox(t,["mdat"]),r={},s=[];return i.forEach(function(t,e){var i=n[e];s.push({mdat:t,traf:i})}),s.forEach(function(t){var n,i,s=t.mdat,c=t.traf,h=a.findBox(c,["tfhd"]),d=o.parseTfhd(h[0]),p=d.trackId,f=a.findBox(c,["tfdt"]),m=f.length>0?o.parseTfdt(f[0]).baseMediaDecodeTime:0,g=a.findBox(c,["trun"]);e===p&&g.length>0&&(n=l(g,m,d),i=u(s,n,p),r[p]||(r[p]=[]),r[p]=r[p].concat(i))}),r},h=function(t,e,n){var i;return e?(i=c(t,e),{seiNals:i[e],timescale:n}):null},d=function(){var t,e,n,i,a,o=!1;this.isInitialized=function(){return o},this.init=function(){t=new r,o=!0,t.on("data",function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,a.captions.push(t),a.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"===typeof e&&0===Object.keys(e).length)&&(n!==t[0]||i!==e[n])},this.parse=function(t,r,o){var s;if(!this.isInitialized())return null;if(!r||!o)return null;if(this.isNewInit(r,o))n=r[0],i=o[n];else if(!n||!i)return e.push(t),null;while(e.length>0){var u=e.shift();this.parse(u,r,o)}return s=h(t,n,i),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),a):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};t.exports=d},aa77:function(t,e,n){var i=n("5ca1"),r=n("be13"),a=n("79e5"),o=n("fdef"),s="["+o+"]",u="â€‹Â…",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(t,e,n){var r={},s=a(function(){return!!o[t]()||u[t]()!=u}),l=r[t]=s?e(d):o[t];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},d=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},aae3:function(t,e,n){var i=n("d3f4"),r=n("2d95"),a=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},ac4d:function(t,e,n){n("3a72")("asyncIterator")},ac6a:function(t,e,n){for(var i=n("cadf"),r=n("0d58"),a=n("2aba"),o=n("7726"),s=n("32e9"),u=n("84f2"),l=n("2b4c"),c=l("iterator"),h=l("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),m=0;m<f.length;m++){var g,v=f[m],y=p[v],_=o[v],b=_&&_.prototype;if(b&&(b[c]||s(b,c,d),b[h]||s(b,h,v),u[v]=d,y))for(g in i)b[g]||a(b,g,i[g],!0)}},ae75:function(t,e,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b03c:function(t,e){var n="auto",i={"":1,lr:1,rl:1},r={start:1,middle:1,end:1,left:1,right:1};function a(t){if("string"!==typeof t)return!1;var e=i[t.toLowerCase()];return!!e&&t.toLowerCase()}function o(t){if("string"!==typeof t)return!1;var e=r[t.toLowerCase()];return!!e&&t.toLowerCase()}function s(t,e,i){this.hasBeenReset=!1;var r="",s=!1,u=t,l=e,c=i,h=null,d="",p=!0,f="auto",m="start",g=50,v="middle",y=50,_="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(t){r=""+t}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(t){s=!!t}},startTime:{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");l=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(t){c=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(t){var e=a(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(t){p=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(t){if("number"!==typeof t&&t!==n)throw new SyntaxError("An invalid number or illegal string was specified.");f=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(t){var e=o(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");g=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(t){var e=o(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return y},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return _},set:function(t){var e=o(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}}}),this.displayState=void 0}s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=s},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b189:function(t,e,n){"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n("d4ab"),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{h(window[t])}catch(e){return!0}}catch(e){return!0}return!1}(),f=function(t){if("undefined"===typeof window||!p)return h(t);try{return h(t)}catch(e){return!1}};i=function(t){var e=null!==t&&"object"===typeof t,n="[object Function]"===a.call(t),i=o(t),s=e&&"[object String]"===a.call(t),h=[];if(!e&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var d=l&&n;if(s&&t.length>0&&!r.call(t,0))for(var p=0;p<t.length;++p)h.push(String(p));if(i&&t.length>0)for(var m=0;m<t.length;++m)h.push(String(m));else for(var g in t)d&&"prototype"===g||!r.call(t,g)||h.push(String(g));if(u)for(var v=f(t),y=0;y<c.length;++y)v&&"constructor"===c[y]||!r.call(t,c[y])||h.push(c[y]);return h}}t.exports=i},b2d6:function(t,e,n){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"}}}},b370:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=126)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},10:function(t,e){t.exports=n("2bb5")},12:function(t,e){t.exports=n("417f")},126:function(t,e,n){"use strict";n.r(e);var i,r,a=n(12),o=n.n(a),s=n(4),u=n.n(s),l=n(10),c=n.n(l),h=n(18),d=n.n(h),p=n(45),f=n.n(p),m=n(3),g={name:"ElDropdown",componentName:"ElDropdown",mixins:[u.a,c.a],directives:{Clickoutside:o.a},components:{ElButton:d.a,ElButtonGroup:f.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(m["generateId"])()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(t){this.broadcast("ElDropdownMenu","visible",t),this.$emit("visible-change",t)},focusing:function(t){var e=this.$el.querySelector(".el-dropdown-selfdefine");e&&(t?e.className+=" focusing":e.className=e.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var t=this;this.triggerElm.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!0},"click"===this.trigger?0:this.showTimeout))},hide:function(){var t=this;this.triggerElm.disabled||(this.removeTabindex(),this.tabindex>=0&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!1},"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.triggerElm.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(t){var e=t.keyCode;[38,40].indexOf(e)>-1?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),t.preventDefault(),t.stopPropagation()):13===e?this.handleClick():[9,27].indexOf(e)>-1&&this.hide()},handleItemKeyDown:function(t){var e=t.keyCode,n=t.target,i=this.menuItemsArray.indexOf(n),r=this.menuItemsArray.length-1,a=void 0;[38,40].indexOf(e)>-1?(a=38===e?0!==i?i-1:0:i<r?i+1:r,this.removeTabindex(),this.resetTabindex(this.menuItems[a]),this.menuItems[a].focus(),t.preventDefault(),t.stopPropagation()):13===e?(this.triggerElmFocus(),n.click(),this.hideOnClick&&(this.visible=!1)):[9,27].indexOf(e)>-1&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(t){this.removeTabindex(),t.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach(function(t){t.setAttribute("tabindex","-1")})},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var t=this,e=this.trigger,n=this.show,i=this.hide,r=this.handleClick,a=this.splitButton,o=this.handleTriggerKeyDown,s=this.handleItemKeyDown;this.triggerElm=a?this.$refs.trigger.$el:this.$slots.default[0].elm;var u=this.dropdownElm;this.triggerElm.addEventListener("keydown",o),u.addEventListener("keydown",s,!0),a||(this.triggerElm.addEventListener("focus",function(){t.focusing=!0}),this.triggerElm.addEventListener("blur",function(){t.focusing=!1}),this.triggerElm.addEventListener("click",function(){t.focusing=!1})),"hover"===e?(this.triggerElm.addEventListener("mouseenter",n),this.triggerElm.addEventListener("mouseleave",i),u.addEventListener("mouseenter",n),u.addEventListener("mouseleave",i)):"click"===e&&this.triggerElm.addEventListener("click",r)},handleMenuItemClick:function(t,e){this.hideOnClick&&(this.visible=!1),this.$emit("command",t,e)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(t){var e=this,n=this.hide,i=this.splitButton,r=this.type,a=this.dropdownSize,o=function(t){e.$emit("click",t),n()},s=i?t("el-button-group",[t("el-button",{attrs:{type:r,size:a},nativeOn:{click:o}},[this.$slots.default]),t("el-button",{ref:"trigger",attrs:{type:r,size:a},class:"el-dropdown__caret-button"},[t("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):this.$slots.default;return t("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:n}]},[s,this.$slots.dropdown])}},v=g,y=n(0),_=Object(y["a"])(v,i,r,!1,null,null,null);_.options.__file="packages/dropdown/src/dropdown.vue";var b=_.exports;b.install=function(t){t.component(b.name,b)};e["default"]=b},18:function(t,e){t.exports=n("eedf")},3:function(t,e){t.exports=n("8122")},4:function(t,e){t.exports=n("d010")},45:function(t,e){t.exports=n("845f")}})},b3fd:function(t,e,n){"use strict";var i=n("f367"),r=n("1b7f");t.exports=function(){var t=r();return i(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},b447:function(t,e,n){var i=n("3a38"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},b5d8:function(t,e,n){},b8e3:function(t,e){t.exports=!0},bb53:function(t,e){t.exports=function(t,e){var n=t%e;return Math.floor(n>=0?n:n+e)}},bcaa:function(t,e,n){var i=n("cb7c"),r=n("d3f4"),a=n("a5b8");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t),o=n.resolve;return o(e),n.promise}},bd49:function(t,e,n){},bd86:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("85f2"),r=n.n(i);function a(t,e,n){return e in t?r()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},be09:function(t,e,n){(function(e){var n;n="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=n}).call(this,n("c8ba"))},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},be4f:function(t,e,n){},bf0b:function(t,e,n){var i=n("355d"),r=n("aebd"),a=n("36c3"),o=n("1bc3"),s=n("07e3"),u=n("794b"),l=Object.getOwnPropertyDescriptor;e.f=n("8e60")?l:function(t,e){if(t=a(t),e=o(e,!0),u)try{return l(t,e)}catch(n){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},c207:function(t,e){},c366:function(t,e,n){var i=n("6821"),r=n("9def"),a=n("77f1");t.exports=function(t){return function(e,n,o){var s,u=i(e),l=r(u.length),c=a(o,l);if(t&&n!=n){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var i=n("8436"),r=n("50ed"),a=n("481b"),o=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},c3a1:function(t,e,n){var i=n("e6f3"),r=n("1691");t.exports=Object.keys||function(t){return i(t,r)}},c46d:function(t,e,n){"use strict";var i=n("e9ac"),r=i("%TypeError%"),a=i("%SyntaxError%"),o=n("a0d3"),s={"Property Descriptor":function(t,e){if("Object"!==t.Type(e))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in e)if(o(e,i)&&!n[i])return!1;var a=o(e,"[[Value]]"),s=o(e,"[[Get]]")||o(e,"[[Set]]");if(a&&s)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(t,e,n,i){var o=s[e];if("function"!==typeof o)throw new a("unknown record type: "+e);if(!o(t,i))throw new r(n+" must be a "+e);console.log(o(t,i),i)}},c56a:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!e)throw new Error("instance & callback is required");var r=!1,a=function(){r||(r=!0,e&&e.apply(null,arguments))};i?t.$once("after-leave",a):t.$on("after-leave",a),setTimeout(function(){a()},n+100)}},c5f6:function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("2d95"),o=n("5dbc"),s=n("6a99"),u=n("79e5"),l=n("9093").f,c=n("11e9").f,h=n("86cc").f,d=n("aa77").trim,p="Number",f=i[p],m=f,g=f.prototype,v=a(n("2aeb")(g))==p,y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var n,i,r,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,u=e.slice(2),l=0,c=u.length;l<c;l++)if(o=u.charCodeAt(l),o<48||o>r)return NaN;return parseInt(u,i)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(v?u(function(){g.valueOf.call(n)}):a(n)!=p)?o(new m(_(e)),n,f):_(e)};for(var b,w=n("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)r(m,b=w[x])&&!r(f,b)&&h(f,b,c(m,b));f.prototype=g,g.constructor=f,n("2aba")(i,p,f)}},c612:function(t,e){var n=Number.isNaN||function(t){return t!==t};t.exports=Number.isFinite||function(t){return"number"===typeof t&&!n(t)&&t!==1/0&&t!==-1/0}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},ca9f:function(t,e,n){"use strict";var i=n("0f7c"),r=n("f367"),a=n("562e"),o=n("1b7f"),s=n("b3fd"),u=i.call(Function.call,o());r(u,{getPolyfill:o,implementation:a,shim:s}),t.exports=u},cadf:function(t,e,n){"use strict";var i=n("9c6c"),r=n("d53b"),a=n("84f2"),o=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},cb70:function(t,e,n){},cb7c:function(t,e,n){var i=n("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},ccb9:function(t,e,n){e.f=n("5168")},ce10:function(t,e,n){var i=n("69a8"),r=n("6821"),a=n("c366")(!1),o=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)n!=o&&i(s,n)&&l.push(n);while(e.length>u)i(s,n=e[u++])&&(~a(l,n)||l.push(n));return l}},cffa:function(t,e,n){"use strict";var i=n("2e20");
/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/i["f"]._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(){var t=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},e=function(t,e,n){var i,r,a=t.cycle;for(i in a)r=a[i],t[i]="function"===typeof r?r(n,e[n],e):r[n%r.length];delete t.cycle},n=function(t){if("function"===typeof t)return t;var e="object"===typeof t?t:{each:t},n=e.ease,i=e.from||0,r=e.base||0,a={},o=isNaN(i),s=e.axis,u={center:.5,end:1}[i]||0;return function(t,l,c){var h,d,p,f,m,g,v,y,_,b=(c||e).length,w=a[b];if(!w){if(_="auto"===e.grid?0:(e.grid||[1/0])[0],!_){v=-1/0;while(v<(v=c[_++].getBoundingClientRect().left)&&_<b);_--}for(w=a[b]=[],h=o?Math.min(_,b)*u-.5:i%_,d=o?b*u/_-.5:i/_|0,v=0,y=1/0,g=0;g<b;g++)p=g%_-h,f=d-(g/_|0),w[g]=m=s?Math.abs("y"===s?f:p):Math.sqrt(p*p+f*f),m>v&&(v=m),m<y&&(y=m);w.max=v-y,w.min=y,w.v=b=e.amount||e.each*(_>b?b-1:s?"y"===s?b/_:_:Math.max(_,b/_))||0,w.b=b<0?r-b:r}return b=(w[t]-w.min)/w.max,w.b+(n?n.getRatio(b):b)*w.v}},r=function(t,e,n){i["g"].call(this,t,e,n),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=r.prototype.render},a=1e-8,o=i["g"]._internals,s=o.isSelector,u=o.isArray,l=r.prototype=i["g"].to({},.1,{}),c=[];r.version="2.1.3",l.constructor=r,l.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=i["g"].killTweensOf,r.getTweensOf=i["g"].getTweensOf,r.lagSmoothing=i["g"].lagSmoothing,r.ticker=i["g"].ticker,r.render=i["g"].render,r.distribute=n,l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i["g"].prototype.invalidate.call(this)},l.updateTo=function(t,e){var n,r=this,a=r.ratio,o=r.vars.immediateRender||t.immediateRender;for(n in e&&r._startTime<r._timeline._time&&(r._startTime=r._timeline._time,r._uncache(!1),r._gc?r._enabled(!0,!1):r._timeline.insert(r,r._startTime-r._delay)),t)r.vars[n]=t[n];if(r._initted||o)if(e)r._initted=!1,o&&r.render(0,!0,!0);else if(r._gc&&r._enabled(!0,!1),r._notifyPluginsOfEnabled&&r._firstPT&&i["g"]._onPluginEvent("_onDisable",r),r._time/r._duration>.998){var s=r._totalTime;r.render(0,!0,!1),r._initted=!1,r.render(s,!0,!1)}else if(r._initted=!1,r._init(),r._time>0||o){var u,l=1/(1-a),c=r._firstPT;while(c)u=c.s+c.c,c.c*=l,c.s=u-c.c,c=c._next}return r},l.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,s,u,l,c,h,d,p,f,m=this,g=m._dirty?m.totalDuration():m._totalDuration,v=m._time,y=m._totalTime,_=m._cycle,b=m._duration,w=m._rawPrevTime;if(t>=g-a&&t>=0?(m._totalTime=g,m._cycle=m._repeat,m._yoyo&&0!==(1&m._cycle)?(m._time=0,m.ratio=m._ease._calcEnd?m._ease.getRatio(0):0):(m._time=b,m.ratio=m._ease._calcEnd?m._ease.getRatio(1):1),m._reversed||(r=!0,s="onComplete",n=n||m._timeline.autoRemoveChildren),0===b&&(m._initted||!m.vars.lazy||n)&&(m._startTime===m._timeline._duration&&(t=0),(w<0||t<=0&&t>=-a||w===a&&"isPause"!==m.data)&&w!==t&&(n=!0,w>a&&(s="onReverseComplete")),m._rawPrevTime=p=!e||t||w===t?t:a)):t<a?(m._totalTime=m._time=m._cycle=0,m.ratio=m._ease._calcEnd?m._ease.getRatio(0):0,(0!==y||0===b&&w>0)&&(s="onReverseComplete",r=m._reversed),t>-a?t=0:t<0&&(m._active=!1,0===b&&(m._initted||!m.vars.lazy||n)&&(w>=0&&(n=!0),m._rawPrevTime=p=!e||t||w===t?t:a)),m._initted||(n=!0)):(m._totalTime=m._time=t,0!==m._repeat&&(l=b+m._repeatDelay,m._cycle=m._totalTime/l>>0,0!==m._cycle&&m._cycle===m._totalTime/l&&y<=t&&m._cycle--,m._time=m._totalTime-m._cycle*l,m._yoyo&&0!==(1&m._cycle)&&(m._time=b-m._time,f=m._yoyoEase||m.vars.yoyoEase,f&&(m._yoyoEase||(!0!==f||m._initted?m._yoyoEase=f=!0===f?m._ease:f instanceof i["b"]?f:i["b"].map[f]:(f=m.vars.ease,m._yoyoEase=f=f?f instanceof i["b"]?f:"function"===typeof f?new i["b"](f,m.vars.easeParams):i["b"].map[f]||i["g"].defaultEase:i["g"].defaultEase)),m.ratio=f?1-f.getRatio((b-m._time)/b):0)),m._time>b?m._time=b:m._time<0&&(m._time=0)),m._easeType&&!f?(c=m._time/b,h=m._easeType,d=m._easePower,(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===d?c*=c:2===d?c*=c*c:3===d?c*=c*c*c:4===d&&(c*=c*c*c*c),m.ratio=1===h?1-c:2===h?c:m._time/b<.5?c/2:1-c/2):f||(m.ratio=m._ease.getRatio(m._time/b))),v!==m._time||n||_!==m._cycle){if(!m._initted){if(m._init(),!m._initted||m._gc)return;if(!n&&m._firstPT&&(!1!==m.vars.lazy&&m._duration||m.vars.lazy&&!m._duration))return m._time=v,m._totalTime=y,m._rawPrevTime=w,m._cycle=_,o.lazyTweens.push(m),void(m._lazy=[t,e]);!m._time||r||f?r&&this._ease._calcEnd&&!f&&(m.ratio=m._ease.getRatio(0===m._time?0:1)):m.ratio=m._ease.getRatio(m._time/b)}!1!==m._lazy&&(m._lazy=!1),m._active||!m._paused&&m._time!==v&&t>=0&&(m._active=!0),0===y&&(2===m._initted&&t>0&&m._init(),m._startAt&&(t>=0?m._startAt.render(t,!0,n):s||(s="_dummyGS")),m.vars.onStart&&(0===m._totalTime&&0!==b||e||m._callback("onStart"))),u=m._firstPT;while(u)u.f?u.t[u.p](u.c*m.ratio+u.s):u.t[u.p]=u.c*m.ratio+u.s,u=u._next;m._onUpdate&&(t<0&&m._startAt&&m._startTime&&m._startAt.render(t,!0,n),e||(m._totalTime!==y||s)&&m._callback("onUpdate")),m._cycle!==_&&(e||m._gc||m.vars.onRepeat&&m._callback("onRepeat")),s&&(m._gc&&!n||(t<0&&m._startAt&&!m._onUpdate&&m._startTime&&m._startAt.render(t,!0,n),r&&(m._timeline.autoRemoveChildren&&m._enabled(!1,!1),m._active=!1),!e&&m.vars[s]&&m._callback(s),0===b&&m._rawPrevTime===a&&p!==a&&(m._rawPrevTime=0)))}else y!==m._totalTime&&m._onUpdate&&(e||m._callback("onUpdate"))},r.to=function(t,e,n){return new r(t,e,n)},r.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new r(t,e,n)},r.fromTo=function(t,e,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new r(t,e,i)},r.staggerTo=r.allTo=function(a,o,l,h,d,p,f){var m,g,v,y,_=[],b=n(l.stagger||h),w=l.cycle,x=(l.startAt||c).cycle;for(u(a)||("string"===typeof a&&(a=i["g"].selector(a)||a),s(a)&&(a=t(a))),a=a||[],m=a.length-1,v=0;v<=m;v++){for(y in g={},l)g[y]=l[y];if(w&&(e(g,a,v),null!=g.duration&&(o=g.duration,delete g.duration)),x){for(y in x=g.startAt={},l.startAt)x[y]=l.startAt[y];e(g.startAt,a,v)}g.delay=b(v,a[v],a)+(g.delay||0),v===m&&d&&(g.onComplete=function(){l.onComplete&&l.onComplete.apply(l.onCompleteScope||this,arguments),d.apply(f||l.callbackScope||this,p||c)}),_[v]=new r(a[v],o,g)}return _},r.staggerFrom=r.allFrom=function(t,e,n,i,a,o,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,r.staggerTo(t,e,n,i,a,o,s)},r.staggerFromTo=r.allFromTo=function(t,e,n,i,a,o,s,u){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,r.staggerTo(t,e,i,a,o,s,u)},r.delayedCall=function(t,e,n,i,a){return new r(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:a,overwrite:0})},r.set=function(t,e){return new r(t,0,e)},r.isTweening=function(t){return i["g"].getTweensOf(t,!0).length>0};var h=function(t,e){var n=[],r=0,a=t._first;while(a)a instanceof i["g"]?n[r++]=a:(e&&(n[r++]=a),n=n.concat(h(a,e)),r=n.length),a=a._next;return n},d=r.getAllTweens=function(t){return h(i["a"]._rootTimeline,t).concat(h(i["a"]._rootFramesTimeline,t))};r.killAll=function(t,e,n,r){null==e&&(e=!0),null==n&&(n=!0);var a,o,s,u=d(0!=r),l=u.length,c=e&&n&&r;for(s=0;s<l;s++)o=u[s],(c||o instanceof i["d"]||(a=o.target===o.vars.onComplete)&&n||e&&!a)&&(t?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},r.killChildTweensOf=function(e,n){if(null!=e){var a,l,c,h,d,p=o.tweenLookup;if("string"===typeof e&&(e=i["g"].selector(e)||e),s(e)&&(e=t(e)),u(e)){h=e.length;while(--h>-1)r.killChildTweensOf(e[h],n)}else{for(c in a=[],p){l=p[c].target.parentNode;while(l)l===e&&(a=a.concat(p[c].tweens)),l=l.parentNode}for(d=a.length,h=0;h<d;h++)n&&a[h].totalTime(a[h].totalDuration()),a[h]._enabled(!1,!1)}}};var p=function(t,e,n,r){e=!1!==e,n=!1!==n,r=!1!==r;var a,o,s=d(r),u=e&&n&&r,l=s.length;while(--l>-1)o=s[l],(u||o instanceof i["d"]||(a=o.target===o.vars.onComplete)&&n||e&&!a)&&o.paused(t)};return r.pauseAll=function(t,e,n){p(!0,t,e,n)},r.resumeAll=function(t,e,n){p(!1,t,e,n)},r.globalTimeScale=function(t){var e=i["a"]._rootTimeline,n=i["g"].ticker.time;return arguments.length?(t=t||a,e._startTime=n-(n-e._startTime)*e._timeScale/t,e=i["a"]._rootFramesTimeline,n=i["g"].ticker.frame,e._startTime=n-(n-e._startTime)*e._timeScale/t,e._timeScale=i["a"]._rootTimeline._timeScale=t,t):e._timeScale},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this.duration()?this._time/this._duration:this.ratio},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.time=function(t,e){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var n=this._duration,i=this._cycle,r=i*(n+this._repeatDelay);return t>n&&(t=n),this.totalTime(this._yoyo&&1&i?n-t+r:this._repeat?t+r:t,e)},l.duration=function(t){return arguments.length?i["a"].prototype.duration.call(this,t):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r},!0);var r=i["h"].TweenMax;
/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
i["f"]._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(){var t,e,n,r,a=function(){i["e"].call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=i["f"]._gsDefine.globals,s={},u=a.prototype=new i["e"]("css");u.constructor=a,a.version="2.1.3",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,u="px",a.suffixMap={top:u,right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var l,c,h,d,p,f,m,g,v=/(?:\-|\.|\b)(\d|\.|e\-)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b),?/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,S=/opacity:([^;]*)/i,E=/alpha\(opacity *=.+?\)/i,M=/^(rgb|hsl)/,C=/([A-Z])/g,A=/-([a-z])/gi,k=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,P=function(t,e){return e.toUpperCase()},O=/(?:Left|Right|Width)/i,L=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,D=/[\s,\(]/i,N=Math.PI/180,U=180/Math.PI,B={},j={style:{}},F=i["f"].document||{createElement:function(){return j}},z=function(t,e){var n=F.createElementNS?F.createElementNS(e||"http://www.w3.org/1999/xhtml",t):F.createElement(t);return n.style?n:F.createElement(t)},V=z("div"),H=z("img"),G=a._internals={_specialProps:s},W=(i["f"].navigator||{}).userAgent||"",$=function(){var t=W.indexOf("Android"),e=z("a");return h=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===t||parseFloat(W.substr(t+8,2))>3),p=h&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,d=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(f=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),q=function(t){return T.test("string"===typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(t){i["f"].console&&console.log(t)},Y="",J="",Z=function(t,e){e=e||V;var n,i,r=e.style;if(void 0!==r[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;while(--i>-1&&void 0===r[n[i]+t]);return i>=0?(J=3===i?"ms":n[i],Y="-"+J.toLowerCase()+"-",J+t):null},K="undefined"!==typeof window?window:F.defaultView||{getComputedStyle:function(){}},Q=function(t){return K.getComputedStyle(t)},tt=a.getStyle=function(t,e,n,i,r){var a;return $||"opacity"!==e?(!i&&t.style[e]?a=t.style[e]:(n=n||Q(t))?a=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(C,"-$1").toLowerCase()):t.currentStyle&&(a=t.currentStyle[e]),null==r||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:r):q(t)},et=G.convertToPixels=function(t,e,n,r,o){if("px"===r||!r&&"lineHeight"!==e)return n;if("auto"===r||!n)return 0;var s,u,l,c=O.test(e),h=t,d=V.style,p=n<0,f=1===n;if(p&&(n=-n),f&&(n*=100),"lineHeight"!==e||r)if("%"===r&&-1!==e.indexOf("border"))s=n/100*(c?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)d[c?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(h=t.parentNode||F.body,-1!==tt(h,"display").indexOf("flex")&&(d.position="absolute"),u=h._gsCache,l=i["g"].ticker.frame,u&&c&&u.time===l)return u.width*n/100;d[c?"width":"height"]=n+r}h.appendChild(V),s=parseFloat(V[c?"offsetWidth":"offsetHeight"]),h.removeChild(V),c&&"%"===r&&!1!==a.cacheWidths&&(u=h._gsCache=h._gsCache||{},u.time=l,u.width=s/n*100),0!==s||o||(s=et(t,e,n,r,!0))}else u=Q(t).lineHeight,t.style.lineHeight=n,s=parseFloat(Q(t).lineHeight),t.style.lineHeight=u;return f&&(s/=100),p?-s:s},nt=G.calculateOffset=function(t,e,n){if("absolute"!==tt(t,"position",n))return 0;var i="left"===e?"Left":"Top",r=tt(t,"margin"+i,n);return t["offset"+i]-(et(t,e,parseFloat(r),r.replace(x,""))||0)},it=function(t,e){var n,i,r,a={};if(e=e||Q(t,null))if(n=e.length)while(--n>-1)r=e[n],-1!==r.indexOf("-transform")&&Pt!==r||(a[r.replace(A,P)]=e.getPropertyValue(r));else for(n in e)-1!==n.indexOf("Transform")&&kt!==n||(a[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"===typeof n&&void 0===a[n]&&(a[n.replace(A,P)]=e[n]);return $||(a.opacity=q(t)),i=Gt(t,e,!1),a.rotation=i.rotation,a.skewX=i.skewX,a.scaleX=i.scaleX,a.scaleY=i.scaleY,a.x=i.x,a.y=i.y,Lt&&(a.z=i.z,a.rotationX=i.rotationX,a.rotationY=i.rotationY,a.scaleZ=i.scaleZ),a.filters&&delete a.filters,a},rt=function(t,e,n,i,r){var a,o,s,u={},l=t.style;for(o in n)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(a=n[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"!==typeof a&&"string"!==typeof a||(u[o]="auto"!==a||"left"!==o&&"top"!==o?""!==a&&"auto"!==a&&"none"!==a||"string"!==typeof e[o]||""===e[o].replace(w,"")?a:0:nt(t,o),void 0!==l[o]&&(s=new _t(l,o,l[o],s))));if(i)for(o in i)"className"!==o&&(u[o]=i[o]);return{difs:u,firstMPT:s}},at={width:["Left","Right"],height:["Top","Bottom"]},ot=["marginLeft","marginRight","marginTop","marginBottom"],st=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||Q(t))[e]||0;if(t.getCTM&&zt(t))return t.getBBox()[e]||0;var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=at[e],a=r.length;n=n||Q(t,null);while(--a>-1)i-=parseFloat(tt(t,"padding"+r[a],n,!0))||0,i-=parseFloat(tt(t,"border"+r[a]+"Width",n,!0))||0;return i},ut=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var n,i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],a=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];if(i.length>3&&!e){for(i=t.split(", ").join(",").split(","),t=[],n=0;n<i.length;n++)t.push(ut(i[n]));return t.join(",")}return null==a?a="center"===r?"50%":"0":"center"===a&&(a="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+a+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==a.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===a.charAt(1),e.ox=parseFloat(r.replace(w,"")),e.oy=parseFloat(a.replace(w,"")),e.v=t),e||t},lt=function(t,e){return"function"===typeof t&&(t=t(g,m)),"string"===typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){"function"===typeof t&&(t=t(g,m));var n="string"===typeof t&&"="===t.charAt(1);return"string"===typeof t&&"v"===t.charAt(t.length-2)&&(t=(n?t.substr(0,2):0)+window["inner"+("vh"===t.substr(-2)?"Height":"Width")]*(parseFloat(n?t.substr(2):t)/100)),null==t?e:n?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ht=function(t,e,n,i){var r,a,o,s,u,l=1e-6;return"function"===typeof t&&(t=t(g,m)),null==t?s=e:"number"===typeof t?s=t:(r=360,a=t.split("_"),u="="===t.charAt(1),o=(u?parseInt(t.charAt(0)+"1",10)*parseFloat(a[0].substr(2)):parseFloat(a[0]))*(-1===t.indexOf("rad")?1:U)-(u?0:e),a.length&&(i&&(i[n]=e+o),-1!==t.indexOf("short")&&(o%=r,o!==o%(r/2)&&(o=o<0?o+r:o-r)),-1!==t.indexOf("_cw")&&o<0?o=(o+9999999999*r)%r-(o/r|0)*r:-1!==t.indexOf("ccw")&&o>0&&(o=(o-9999999999*r)%r-(o/r|0)*r)),s=e+o),s<l&&s>-l&&(s=0),s},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(t,e,n){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},ft=a.parseColor=function(t,e){var n,i,r,a,o,s,u,l,c,h,d;if(t)if("number"===typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),dt[t])n=dt[t];else if("#"===t.charAt(0))4===t.length&&(i=t.charAt(1),r=t.charAt(2),a=t.charAt(3),t="#"+i+i+r+r+a+a),t=parseInt(t.substr(1),16),n=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=d=t.match(v),e){if(-1!==t.indexOf("="))return t.match(y)}else o=Number(n[0])%360/360,s=Number(n[1])/100,u=Number(n[2])/100,r=u<=.5?u*(s+1):u+s-u*s,i=2*u-r,n.length>3&&(n[3]=Number(n[3])),n[0]=pt(o+1/3,i,r),n[1]=pt(o,i,r),n[2]=pt(o-1/3,i,r);else n=t.match(v)||dt.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=dt.black;return e&&!d&&(i=n[0]/255,r=n[1]/255,a=n[2]/255,l=Math.max(i,r,a),c=Math.min(i,r,a),u=(l+c)/2,l===c?o=s=0:(h=l-c,s=u>.5?h/(2-l-c):h/(l+c),o=l===i?(r-a)/h+(r<a?6:0):l===r?(a-i)/h+2:(i-r)/h+4,o*=60),n[0]=o+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},mt=function(t,e){var n,i,r,a=t.match(gt)||[],o=0,s="";if(!a.length)return t;for(n=0;n<a.length;n++)i=a[n],r=t.substr(o,t.indexOf(i,o)-o),o+=r.length+i.length,i=ft(i,e),3===i.length&&i.push(1),s+=r+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+t.substr(o)},gt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(u in dt)gt+="|"+u+"\\b";gt=new RegExp(gt+")","gi"),a.colorStringFilter=function(t){var e,n=t[0]+" "+t[1];gt.test(n)&&(e=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),gt.lastIndex=0},i["g"].defaultStringFilter||(i["g"].defaultStringFilter=a.colorStringFilter);var vt=function(t,e,n,i){if(null==t)return function(t){return t};var r,a=e?(t.match(gt)||[""])[0]:"",o=t.split(a).join("").match(_)||[],s=t.substr(0,t.indexOf(o[0])),u=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",c=o.length,h=c>0?o[0].replace(v,""):"";return c?e?(r=function(t){var e,d,p,f;if("number"===typeof t)t+=h;else if(i&&I.test(t)){for(f=t.replace(I,"|").split("|"),p=0;p<f.length;p++)f[p]=r(f[p]);return f.join(",")}if(e=(t.match(gt)||[a])[0],d=t.split(e).join("").match(_)||[],p=d.length,c>p--)while(++p<c)d[p]=n?d[(p-1)/2|0]:o[p];return s+d.join(l)+l+e+u+(-1!==t.indexOf("inset")?" inset":"")},r):(r=function(t){var e,a,d;if("number"===typeof t)t+=h;else if(i&&I.test(t)){for(a=t.replace(I,"|").split("|"),d=0;d<a.length;d++)a[d]=r(a[d]);return a.join(",")}if(e=t.match(","===l?_:b)||[],d=e.length,c>d--)while(++d<c)e[d]=n?e[(d-1)/2|0]:o[d];return(s&&"none"!==t&&t.substr(0,t.indexOf(e[0]))||s)+e.join(l)+u},r):function(t){return t}},yt=function(t){return t=t.split(","),function(e,n,i,r,a,o,s){var u,l=(n+"").split(" ");for(s={},u=0;u<4;u++)s[t[u]]=l[u]=l[u]||l[(u-1)/2>>0];return r.parse(e,s,a,o)}},_t=(G._setPluginRatio=function(t){this.plugin.setRatio(t);var e,n,i,r,a,o=this.data,s=o.proxy,u=o.firstMPT,l=1e-6;while(u)e=s[u.v],u.r?e=u.r(e):e<l&&e>-l&&(e=0),u.t[u.p]=e,u=u._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===t||0===t){u=o.firstMPT,a=1===t?"e":"b";while(u){if(n=u.t,n.type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[a]=r}}else n[a]=n.s+n.xs0;u=u._next}}},function(t,e,n,i,r){this.t=t,this.p=e,this.v=n,this.r=r,i&&(i._prev=this,this._next=i)}),bt=(G._parseToProxy=function(t,e,n,i,r,a){var o,s,u,l,c,h=i,d={},p={},f=n._transform,m=B;n._transform=null,B=e,i=c=n.parse(t,e,i,r),B=m,a&&(n._transform=f,h&&(h._prev=null,h._prev&&(h._prev._next=null)));while(i&&i!==h){if(i.type<=1&&(s=i.p,p[s]=i.s+i.c,d[s]=i.s,a||(l=new _t(i,"s",s,l,i.r),i.c=0),1===i.type)){o=i.l;while(--o>0)u="xn"+o,s=i.p+"_"+u,p[s]=i.data[u],d[s]=i[u],a||(l=new _t(i,u,s,l,i.rxp[u]))}i=i._next}return{proxy:d,end:p,firstMPT:l,pt:c}},G.CSSPropTween=function(e,n,i,a,o,s,u,l,c,h,d){this.t=e,this.p=n,this.s=i,this.c=a,this.n=u||n,e instanceof bt||r.push(this.n),this.r=l?"function"===typeof l?l:Math.round:l,this.type=s||0,c&&(this.pr=c,t=!0),this.b=void 0===h?i:h,this.e=void 0===d?i+a:d,o&&(this._next=o,o._prev=this)}),wt=function(t,e,n,i,r,a){var o=new bt(t,e,n,i-n,r,-1,a);return o.b=n,o.e=o.xs0=i,o},xt=a.parseComplex=function(t,e,n,i,r,o,s,u,c,h){n=n||o||"","function"===typeof i&&(i=i(g,m)),s=new bt(t,e,0,0,s,h?2:1,null,!1,u,n,i),i+="",r&&gt.test(i+n)&&(i=[n,i],a.colorStringFilter(i),n=i[0],i=i[1]);var d,p,f,_,b,w,x,T,S,E,M,C,A,k=n.split(", ").join(",").split(" "),P=i.split(", ").join(",").split(" "),O=k.length,L=!1!==l;for(-1===i.indexOf(",")&&-1===n.indexOf(",")||(-1!==(i+n).indexOf("rgb")||-1!==(i+n).indexOf("hsl")?(k=k.join(" ").replace(I,", ").split(" "),P=P.join(" ").replace(I,", ").split(" ")):(k=k.join(" ").split(",").join(", ").split(" "),P=P.join(" ").split(",").join(", ").split(" ")),O=k.length),O!==P.length&&(k=(o||"").split(" "),O=k.length),s.plugin=c,s.setRatio=h,gt.lastIndex=0,d=0;d<O;d++)if(_=k[d],b=P[d]+"",T=parseFloat(_),T||0===T)s.appendXtra("",T,lt(b,T),b.replace(y,""),!(!L||-1===b.indexOf("px"))&&Math.round,!0);else if(r&&gt.test(_))C=b.indexOf(")")+1,C=")"+(C?b.substr(C):""),A=-1!==b.indexOf("hsl")&&$,E=b,_=ft(_,A),b=ft(b,A),S=_.length+b.length>6,S&&!$&&0===b[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(P[d]).join("transparent")):($||(S=!1),A?s.appendXtra(E.substr(0,E.indexOf("hsl"))+(S?"hsla(":"hsl("),_[0],lt(b[0],_[0]),",",!1,!0).appendXtra("",_[1],lt(b[1],_[1]),"%,",!1).appendXtra("",_[2],lt(b[2],_[2]),S?"%,":"%"+C,!1):s.appendXtra(E.substr(0,E.indexOf("rgb"))+(S?"rgba(":"rgb("),_[0],b[0]-_[0],",",Math.round,!0).appendXtra("",_[1],b[1]-_[1],",",Math.round).appendXtra("",_[2],b[2]-_[2],S?",":C,Math.round),S&&(_=_.length<4?1:_[3],s.appendXtra("",_,(b.length<4?1:b[3])-_,C,!1))),gt.lastIndex=0;else if(w=_.match(v),w){if(x=b.match(y),!x||x.length!==w.length)return s;for(f=0,p=0;p<w.length;p++)M=w[p],E=_.indexOf(M,f),s.appendXtra(_.substr(f,E-f),Number(M),lt(x[p],M),"",!(!L||"px"!==_.substr(E+M.length,2))&&Math.round,0===p),f=E+M.length;s["xs"+s.l]+=_.substr(f)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+b:b;if(-1!==i.indexOf("=")&&s.data){for(C=s.xs0+s.data.s,d=1;d<s.l;d++)C+=s["xs"+d]+s.data["xn"+d];s.e=C+s["xs"+d]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},Tt=9;u=bt.prototype,u.l=u.pr=0;while(--Tt>0)u["xn"+Tt]=0,u["xs"+Tt]="";u.xs0="",u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null,u.appendXtra=function(t,e,n,i,r,a){var o=this,s=o.l;return o["xs"+s]+=a&&(s||o["xs"+s])?" "+t:t||"",n||0===s||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=i||"",s>0?(o.data["xn"+s]=e+n,o.rxp["xn"+s]=r,o["xn"+s]=e,o.plugin||(o.xfirst=new bt(o,"xn"+s,e,n,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:e+n},o.rxp={},o.s=e,o.c=n,o.r=r,o)):(o["xs"+s]+=e+(i||""),o)};var St=function(t,e){e=e||{},this.p=e.prefix&&Z(t)||t,s[t]=s[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.allowFunc=e.allowFunc,this.pr=e.priority||0},Et=G._registerComplexSpecialProp=function(t,e,n){"object"!==typeof e&&(e={parser:n});var i,r=t.split(","),a=e.defaultValue;for(n=n||[a],i=0;i<r.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=n[i]||a,new St(r[i],e)},Mt=G._registerPluginProp=function(t){if(!s[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Et(t,{parser:function(t,n,i,r,a,u,l){var c=o.com.greensock.plugins[e];return c?(c._cssRegister(),s[i].parse(t,n,i,r,a,u,l)):(X("Error: "+e+" js file not loaded."),a)}})}};u=St.prototype,u.parseComplex=function(t,e,n,i,r,a){var o,s,u,l,c,h,d=this.keyword;if(this.multi&&(I.test(n)||I.test(e)?(s=e.replace(I,"|").split("|"),u=n.replace(I,"|").split("|")):d&&(s=[e],u=[n])),u){for(l=u.length>s.length?u.length:s.length,o=0;o<l;o++)e=s[o]=s[o]||this.dflt,n=u[o]=u[o]||this.dflt,d&&(c=e.indexOf(d),h=n.indexOf(d),c!==h&&(-1===h?s[o]=s[o].split(d).join(""):-1===c&&(s[o]+=" "+d)));e=s.join(", "),n=u.join(", ")}return xt(t,this.p,e,n,this.clrs,this.dflt,i,this.pr,r,a)},u.parse=function(t,e,i,r,a,o,s){return this.parseComplex(t.style,this.format(tt(t,this.p,n,!1,this.dflt)),this.format(e),a,o)},a.registerSpecialProp=function(t,e,n){Et(t,{parser:function(t,i,r,a,o,s,u){var l=new bt(t,r,0,0,o,2,r,!1,n);return l.plugin=s,l.setRatio=e(t,i,a._tween,r),l},priority:n})},a.useSVGTransformAttr=!0;var Ct,At="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),kt=Z("transform"),Pt=Y+"transform",Ot=Z("transformOrigin"),Lt=null!==Z("perspective"),Rt=G.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(!1===a.defaultForce3D||!Lt)&&(a.defaultForce3D||"auto")},It=i["f"].SVGElement,Dt=function(t,e,n){var i,r=F.createElementNS("http://www.w3.org/2000/svg",t),a=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(a,"$1-$2").toLowerCase(),n[i]);return e.appendChild(r),r},Nt=F.documentElement||{},Ut=function(){var t,e,n,r=f||/Android/i.test(W)&&!i["f"].chrome;return F.createElementNS&&Nt.appendChild&&!r&&(t=Dt("svg",Nt),e=Dt("rect",t,{width:100,height:50,x:100}),n=e.getBoundingClientRect().width,e.style[Ot]="50% 50%",e.style[kt]="scaleX(0.5)",r=n===e.getBoundingClientRect().width&&!(d&&Lt),Nt.removeChild(t)),r}(),Bt=function(t,e,n,i,r,o){var s,u,l,c,h,d,p,f,m,g,v,y,_,b,w=t._gsTransform,x=Ht(t,!0);w&&(_=w.xOrigin,b=w.yOrigin),(!i||(s=i.split(" ")).length<2)&&(p=t.getBBox(),0===p.x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=ut(e).split(" "),s=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),n.xOrigin=c=parseFloat(s[0]),n.yOrigin=h=parseFloat(s[1]),i&&x!==Vt&&(d=x[0],p=x[1],f=x[2],m=x[3],g=x[4],v=x[5],y=d*m-p*f,y&&(u=c*(m/y)+h*(-f/y)+(f*v-m*g)/y,l=c*(-p/y)+h*(d/y)-(d*v-p*g)/y,c=n.xOrigin=s[0]=u,h=n.yOrigin=s[1]=l)),w&&(o&&(n.xOffset=w.xOffset,n.yOffset=w.yOffset,w=n),r||!1!==r&&!1!==a.defaultSmoothOrigin?(u=c-_,l=h-b,w.xOffset+=u*x[0]+l*x[2]-u,w.yOffset+=u*x[1]+l*x[3]-l):w.xOffset=w.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},jt=function(t){var e,n=z("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,a=this.style.cssText;if(Nt.appendChild(n),n.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=jt}catch(o){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?i.insertBefore(this,r):i.appendChild(this),Nt.removeChild(n),this.style.cssText=a,e},Ft=function(t){try{return t.getBBox()}catch(e){return jt.call(t,!0)}},zt=function(t){return!(!It||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Ft(t))},Vt=[1,0,0,1,0,0],Ht=function(t,e){var n,i,r,a,o,s,u,l=t._gsTransform||new Rt,c=1e5,h=t.style;if(kt?i=tt(t,Pt,null,!0):t.currentStyle&&(i=t.currentStyle.filter.match(L),i=i&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,kt&&n&&!t.offsetParent&&t!==Nt&&(a=h.display,h.display="block",u=t.parentNode,u&&t.offsetParent||(o=1,s=t.nextSibling,Nt.appendChild(t)),i=tt(t,Pt,null,!0),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,a?h.display=a:Xt(h,"display"),o&&(s?u.insertBefore(t,s):u?u.appendChild(t):Nt.removeChild(t))),(l.svg||t.getCTM&&zt(t))&&(n&&-1!==(h[kt]+"").indexOf("matrix")&&(i=h[kt],n=0),r=t.getAttribute("transform"),n&&r&&(r=t.transform.baseVal.consolidate().matrix,i="matrix("+r.a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",n=0)),n)return Vt;r=(i||"").match(v)||[],Tt=r.length;while(--Tt>-1)a=Number(r[Tt]),r[Tt]=(o=a-(a|=0))?(o*c+(o<0?-.5:.5)|0)/c+a:a;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Gt=G.getTransform=function(t,e,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var o,s,u,l,c,h,d=n&&t._gsTransform||new Rt,p=d.scaleX<0,f=2e-5,m=1e5,g=Lt&&(parseFloat(tt(t,Ot,e,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,v=parseFloat(a.defaultTransformPerspective)||0;if(d.svg=!(!t.getCTM||!zt(t)),d.svg&&(Bt(t,tt(t,Ot,e,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),Ct=a.useSVGTransformAttr||Ut),o=Ht(t),o!==Vt){if(16===o.length){var y,_,b,w,x,T=o[0],S=o[1],E=o[2],M=o[3],C=o[4],A=o[5],k=o[6],P=o[7],O=o[8],L=o[9],R=o[10],I=o[12],D=o[13],N=o[14],B=o[11],j=Math.atan2(k,R);d.zOrigin&&(N=-d.zOrigin,I=O*N-o[12],D=L*N-o[13],N=R*N+d.zOrigin-o[14]),d.rotationX=j*U,j&&(w=Math.cos(-j),x=Math.sin(-j),y=C*w+O*x,_=A*w+L*x,b=k*w+R*x,O=C*-x+O*w,L=A*-x+L*w,R=k*-x+R*w,B=P*-x+B*w,C=y,A=_,k=b),j=Math.atan2(-E,R),d.rotationY=j*U,j&&(w=Math.cos(-j),x=Math.sin(-j),y=T*w-O*x,_=S*w-L*x,b=E*w-R*x,L=S*x+L*w,R=E*x+R*w,B=M*x+B*w,T=y,S=_,E=b),j=Math.atan2(S,T),d.rotation=j*U,j&&(w=Math.cos(j),x=Math.sin(j),y=T*w+S*x,_=C*w+A*x,b=O*w+L*x,S=S*w-T*x,A=A*w-C*x,L=L*w-O*x,T=y,C=_,O=b),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),j=Math.atan2(C,A),d.scaleX=(Math.sqrt(T*T+S*S+E*E)*m+.5|0)/m,d.scaleY=(Math.sqrt(A*A+k*k)*m+.5|0)/m,d.scaleZ=(Math.sqrt(O*O+L*L+R*R)*m+.5|0)/m,T/=d.scaleX,C/=d.scaleY,S/=d.scaleX,A/=d.scaleY,Math.abs(j)>f?(d.skewX=j*U,C=0,"simple"!==d.skewType&&(d.scaleY*=1/Math.cos(j))):d.skewX=0,d.perspective=B?1/(B<0?-B:B):0,d.x=I,d.y=D,d.z=N,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*T-d.yOrigin*C),d.y-=d.yOrigin-(d.yOrigin*S-d.xOrigin*A))}else if(!Lt||r||!o.length||d.x!==o[4]||d.y!==o[5]||!d.rotationX&&!d.rotationY){var F=o.length>=6,z=F?o[0]:1,V=o[1]||0,H=o[2]||0,G=F?o[3]:1;d.x=o[4]||0,d.y=o[5]||0,u=Math.sqrt(z*z+V*V),l=Math.sqrt(G*G+H*H),c=z||V?Math.atan2(V,z)*U:d.rotation||0,h=H||G?Math.atan2(H,G)*U+c:d.skewX||0,d.scaleX=u,d.scaleY=l,d.rotation=c,d.skewX=h,Lt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=v,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*z+d.yOrigin*H),d.y-=d.yOrigin-(d.xOrigin*V+d.yOrigin*G))}for(s in Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(p?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180)),d.zOrigin=g,d)d[s]<f&&d[s]>-f&&(d[s]=0)}return n&&(t._gsTransform=d,d.svg&&(Ct&&t.style[kt]?i["g"].delayedCall(.001,function(){Xt(t.style,kt)}):!Ct&&t.getAttribute("transform")&&i["g"].delayedCall(.001,function(){t.removeAttribute("transform")}))),d},Wt=function(t){var e,n,i=this.data,r=-i.rotation*N,a=r+i.skewX*N,o=1e5,s=(Math.cos(r)*i.scaleX*o|0)/o,u=(Math.sin(r)*i.scaleX*o|0)/o,l=(Math.sin(a)*-i.scaleY*o|0)/o,c=(Math.cos(a)*i.scaleY*o|0)/o,h=this.t.style,d=this.t.currentStyle;if(d){n=u,u=-l,l=-n,e=d.filter,h.filter="";var p,m,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==d.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+l+", M22="+c,b=i.x+g*i.xPercent/100,w=i.y+v*i.yPercent/100;if(null!=i.ox&&(p=(i.oxp?g*i.ox*.01:i.ox)-g/2,m=(i.oyp?v*i.oy*.01:i.oy)-v/2,b+=p-(p*s+m*u),w+=m-(p*l+m*c)),y?(p=g/2,m=v/2,_+=", Dx="+(p-(p*s+m*u)+b)+", Dy="+(m-(p*l+m*c)+w)+")"):_+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?h.filter=e.replace(R,_):h.filter=_+" "+e,0!==t&&1!==t||1===s&&0===u&&0===l&&1===c&&(y&&-1===_.indexOf("Dx=0, Dy=0")||T.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&h.removeAttribute("filter")),!y){var S,E,M,C=f<8?1:-1;for(p=i.ieOffsetX||0,m=i.ieOffsetY||0,i.ieOffsetX=Math.round((g-((s<0?-s:s)*g+(u<0?-u:u)*v))/2+b),i.ieOffsetY=Math.round((v-((c<0?-c:c)*v+(l<0?-l:l)*g))/2+w),Tt=0;Tt<4;Tt++)E=ot[Tt],S=d[E],n=-1!==S.indexOf("px")?parseFloat(S):et(this.t,E,parseFloat(S),S.replace(x,""))||0,M=n!==i[E]?Tt<2?-i.ieOffsetX:-i.ieOffsetY:Tt<2?p-i.ieOffsetX:m-i.ieOffsetY,h[E]=(i[E]=Math.round(n-M*(0===Tt||2===Tt?1:C)))+"px"}}},$t=G.set3DTransformRatio=G.setTransformRatio=function(t){var e,n,i,r,a,o,s,u,l,c,h,p,f,m,g,v,y,_,b,w,x,T,S,E=this.data,M=this.t.style,C=E.rotation,A=E.rotationX,k=E.rotationY,P=E.scaleX,O=E.scaleY,L=E.scaleZ,R=E.x,I=E.y,D=E.z,U=E.svg,B=E.perspective,j=E.force3D,F=E.skewY,z=E.skewX;if(F&&(z+=F,C+=F),!((1!==t&&0!==t||"auto"!==j||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&j||D||B||k||A||1!==L)||Ct&&U||!Lt)C||z||U?(C*=N,T=z*N,S=1e5,n=Math.cos(C)*P,a=Math.sin(C)*P,i=Math.sin(C-T)*-O,o=Math.cos(C-T)*O,T&&"simple"===E.skewType&&(e=Math.tan(T-F*N),e=Math.sqrt(1+e*e),i*=e,o*=e,F&&(e=Math.tan(F*N),e=Math.sqrt(1+e*e),n*=e,a*=e)),U&&(R+=E.xOrigin-(E.xOrigin*n+E.yOrigin*i)+E.xOffset,I+=E.yOrigin-(E.xOrigin*a+E.yOrigin*o)+E.yOffset,Ct&&(E.xPercent||E.yPercent)&&(g=this.t.getBBox(),R+=.01*E.xPercent*g.width,I+=.01*E.yPercent*g.height),g=1e-6,R<g&&R>-g&&(R=0),I<g&&I>-g&&(I=0)),b=(n*S|0)/S+","+(a*S|0)/S+","+(i*S|0)/S+","+(o*S|0)/S+","+R+","+I+")",U&&Ct?this.t.setAttribute("transform","matrix("+b):M[kt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+b):M[kt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+P+",0,0,"+O+","+R+","+I+")";else{if(d&&(g=1e-4,P<g&&P>-g&&(P=L=2e-5),O<g&&O>-g&&(O=L=2e-5),!B||E.z||E.rotationX||E.rotationY||(B=0)),C||z)C*=N,v=n=Math.cos(C),y=a=Math.sin(C),z&&(C-=z*N,v=Math.cos(C),y=Math.sin(C),"simple"===E.skewType&&(e=Math.tan((z-F)*N),e=Math.sqrt(1+e*e),v*=e,y*=e,E.skewY&&(e=Math.tan(F*N),e=Math.sqrt(1+e*e),n*=e,a*=e))),i=-y,o=v;else{if(!(k||A||1!==L||B||U))return void(M[kt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+I+"px,"+D+"px)"+(1!==P||1!==O?" scale("+P+","+O+")":""));n=o=1,i=a=0}c=1,r=s=u=l=h=p=0,f=B?-1/B:0,m=E.zOrigin,g=1e-6,w=",",x="0",C=k*N,C&&(v=Math.cos(C),y=Math.sin(C),u=-y,h=f*-y,r=n*y,s=a*y,c=v,f*=v,n*=v,a*=v),C=A*N,C&&(v=Math.cos(C),y=Math.sin(C),e=i*v+r*y,_=o*v+s*y,l=c*y,p=f*y,r=i*-y+r*v,s=o*-y+s*v,c*=v,f*=v,i=e,o=_),1!==L&&(r*=L,s*=L,c*=L,f*=L),1!==O&&(i*=O,o*=O,l*=O,p*=O),1!==P&&(n*=P,a*=P,u*=P,h*=P),(m||U)&&(m&&(R+=r*-m,I+=s*-m,D+=c*-m+m),U&&(R+=E.xOrigin-(E.xOrigin*n+E.yOrigin*i)+E.xOffset,I+=E.yOrigin-(E.xOrigin*a+E.yOrigin*o)+E.yOffset),R<g&&R>-g&&(R=x),I<g&&I>-g&&(I=x),D<g&&D>-g&&(D=0)),b=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",b+=(n<g&&n>-g?x:n)+w+(a<g&&a>-g?x:a)+w+(u<g&&u>-g?x:u),b+=w+(h<g&&h>-g?x:h)+w+(i<g&&i>-g?x:i)+w+(o<g&&o>-g?x:o),A||k||1!==L?(b+=w+(l<g&&l>-g?x:l)+w+(p<g&&p>-g?x:p)+w+(r<g&&r>-g?x:r),b+=w+(s<g&&s>-g?x:s)+w+(c<g&&c>-g?x:c)+w+(f<g&&f>-g?x:f)+w):b+=",0,0,0,0,1,0,",b+=R+w+I+w+D+w+(B?1+-D/B:1)+")",M[kt]=b}};u=Rt.prototype,u.x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0,u.scaleX=u.scaleY=u.scaleZ=1,Et("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,r,o,s,u){if(r._lastParsedTransform===u)return o;r._lastParsedTransform=u;var l=u.scale&&"function"===typeof u.scale?u.scale:0;l&&(u.scale=l(g,t));var c,h,d,p,f,v,y,_,b,w=t._gsTransform,x=t.style,T=1e-6,S=At.length,E=u,M={},C="transformOrigin",A=Gt(t,n,!0,E.parseTransform),k=E.transform&&("function"===typeof E.transform?E.transform(g,m):E.transform);if(A.skewType=E.skewType||A.skewType||a.defaultSkewType,r._transform=A,"rotationZ"in E&&(E.rotation=E.rotationZ),k&&"string"===typeof k&&kt)h=V.style,h[kt]=k,h.display="block",h.position="absolute",-1!==k.indexOf("%")&&(h.width=tt(t,"width"),h.height=tt(t,"height")),F.body.appendChild(V),c=Gt(V,null,!1),"simple"===A.skewType&&(c.scaleY*=Math.cos(c.skewX*N)),A.svg&&(v=A.xOrigin,y=A.yOrigin,c.x-=A.xOffset,c.y-=A.yOffset,(E.transformOrigin||E.svgOrigin)&&(k={},Bt(t,ut(E.transformOrigin),k,E.svgOrigin,E.smoothOrigin,!0),v=k.xOrigin,y=k.yOrigin,c.x-=k.xOffset-A.xOffset,c.y-=k.yOffset-A.yOffset),(v||y)&&(_=Ht(V,!0),c.x-=v-(v*_[0]+y*_[2]),c.y-=y-(v*_[1]+y*_[3]))),F.body.removeChild(V),c.perspective||(c.perspective=A.perspective),null!=E.xPercent&&(c.xPercent=ct(E.xPercent,A.xPercent)),null!=E.yPercent&&(c.yPercent=ct(E.yPercent,A.yPercent));else if("object"===typeof E){if(c={scaleX:ct(null!=E.scaleX?E.scaleX:E.scale,A.scaleX),scaleY:ct(null!=E.scaleY?E.scaleY:E.scale,A.scaleY),scaleZ:ct(E.scaleZ,A.scaleZ),x:ct(E.x,A.x),y:ct(E.y,A.y),z:ct(E.z,A.z),xPercent:ct(E.xPercent,A.xPercent),yPercent:ct(E.yPercent,A.yPercent),perspective:ct(E.transformPerspective,A.perspective)},f=E.directionalRotation,null!=f)if("object"===typeof f)for(h in f)E[h]=f[h];else E.rotation=f;"string"===typeof E.x&&-1!==E.x.indexOf("%")&&(c.x=0,c.xPercent=ct(E.x,A.xPercent)),"string"===typeof E.y&&-1!==E.y.indexOf("%")&&(c.y=0,c.yPercent=ct(E.y,A.yPercent)),c.rotation=ht("rotation"in E?E.rotation:"shortRotation"in E?E.shortRotation+"_short":A.rotation,A.rotation,"rotation",M),Lt&&(c.rotationX=ht("rotationX"in E?E.rotationX:"shortRotationX"in E?E.shortRotationX+"_short":A.rotationX||0,A.rotationX,"rotationX",M),c.rotationY=ht("rotationY"in E?E.rotationY:"shortRotationY"in E?E.shortRotationY+"_short":A.rotationY||0,A.rotationY,"rotationY",M)),c.skewX=ht(E.skewX,A.skewX),c.skewY=ht(E.skewY,A.skewY)}Lt&&null!=E.force3D&&(A.force3D=E.force3D,p=!0),d=A.force3D||A.z||A.rotationX||A.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,d||null==E.scale||(c.scaleZ=1);while(--S>-1)b=At[S],k=c[b]-A[b],(k>T||k<-T||null!=E[b]||null!=B[b])&&(p=!0,o=new bt(A,b,A[b],k,o),b in M&&(o.e=M[b]),o.xs0=0,o.plugin=s,r._overwriteProps.push(o.n));return k="function"===typeof E.transformOrigin?E.transformOrigin(g,m):E.transformOrigin,A.svg&&(k||E.svgOrigin)&&(v=A.xOffset,y=A.yOffset,Bt(t,ut(k),c,E.svgOrigin,E.smoothOrigin),o=wt(A,"xOrigin",(w?A:c).xOrigin,c.xOrigin,o,C),o=wt(A,"yOrigin",(w?A:c).yOrigin,c.yOrigin,o,C),v===A.xOffset&&y===A.yOffset||(o=wt(A,"xOffset",w?v:A.xOffset,A.xOffset,o,C),o=wt(A,"yOffset",w?y:A.yOffset,A.yOffset,o,C)),k="0px 0px"),(k||Lt&&d&&A.zOrigin)&&(kt?(p=!0,b=Ot,k||(k=(tt(t,b,n,!1,"50% 50%")+"").split(" "),k=k[0]+" "+k[1]+" "+A.zOrigin+"px"),k+="",o=new bt(x,b,0,0,o,-1,C),o.b=x[b],o.plugin=s,Lt?(h=A.zOrigin,k=k.split(" "),A.zOrigin=(k.length>2?parseFloat(k[2]):h)||0,o.xs0=o.e=k[0]+" "+(k[1]||"50%")+" 0px",o=new bt(A,"zOrigin",0,0,o,-1,o.n),o.b=h,o.xs0=o.e=A.zOrigin):o.xs0=o.e=k):ut(k+"",A)),p&&(r._transformType=A.svg&&Ct||!d&&3!==this._transformType?2:3),l&&(u.scale=l),o},allowFunc:!0,prefix:!0}),Et("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Et("clipPath",{defaultValue:"inset(0%)",prefix:!0,multi:!0,formatter:vt("inset(0% 0% 0% 0%)",!1,!0)}),Et("borderRadius",{defaultValue:"0px",parser:function(t,i,r,a,o,s){i=this.format(i);var u,l,c,h,d,p,f,m,g,v,y,_,b,w,x,T,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=t.style;for(g=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),u=i.split(" "),l=0;l<S.length;l++)this.p.indexOf("border")&&(S[l]=Z(S[l])),d=h=tt(t,S[l],n,!1,"0px"),-1!==d.indexOf(" ")&&(h=d.split(" "),d=h[0],h=h[1]),p=c=u[l],f=parseFloat(d),_=d.substr((f+"").length),b="="===p.charAt(1),b?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),y=p.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(p),y=p.substr((m+"").length)),""===y&&(y=e[r]||_),y!==_&&(w=et(t,"borderLeft",f,_),x=et(t,"borderTop",f,_),"%"===y?(d=w/g*100+"%",h=x/v*100+"%"):"em"===y?(T=et(t,"borderLeft",1,"em"),d=w/T+"em",h=x/T+"em"):(d=w+"px",h=x+"px"),b&&(p=parseFloat(d)+m+y,c=parseFloat(h)+m+y)),o=xt(E,S[l],d+" "+h,p+" "+c,!1,"0px",o);return o},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),Et("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,r,a,o){return xt(t.style,i,this.format(tt(t,i,n,!1,"0px 0px")),this.format(e),!1,"0px",a)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),Et("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,a,o){var s,u,l,c,h,d,p="background-position",m=n||Q(t,null),g=this.format((m?f?m.getPropertyValue(p+"-x")+" "+m.getPropertyValue(p+"-y"):m.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==g.indexOf("%")!==(-1!==v.indexOf("%"))&&v.split(",").length<2&&(d=tt(t,"backgroundImage").replace(k,""),d&&"none"!==d)){s=g.split(" "),u=v.split(" "),H.setAttribute("src",d),l=2;while(--l>-1)g=s[l],c=-1!==g.indexOf("%"),c!==(-1!==u[l].indexOf("%"))&&(h=0===l?t.offsetWidth-H.width:t.offsetHeight-H.height,s[l]=c?parseFloat(g)/100*h+"px":parseFloat(g)/h*100+"%");g=s.join(" ")}return this.parseComplex(t.style,g,v,a,o)},formatter:ut}),Et("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="","co"===t.substr(0,2)?t:ut(-1===t.indexOf(" ")?t+" "+t:t)}}),Et("perspective",{defaultValue:"0px",prefix:!0}),Et("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Et("transformStyle",{prefix:!0}),Et("backfaceVisibility",{prefix:!0}),Et("userSelect",{prefix:!0}),Et("margin",{parser:yt("marginTop,marginRight,marginBottom,marginLeft")}),Et("padding",{parser:yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Et("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,a,o){var s,u,l;return f<9?(u=t.currentStyle,l=f<8?" ":",",s="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",e=this.format(e).split(",").join(l)):(s=this.format(tt(t,this.p,n,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,a,o)}}),Et("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Et("autoRound,strictUnits",{parser:function(t,e,n,i,r){return r}}),Et("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,a,o){var s=tt(t,"borderTopWidth",n,!1,"0px"),u=this.format(e).split(" "),l=u[0].replace(x,"");return"px"!==l&&(s=parseFloat(s)/et(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(s+" "+tt(t,"borderTopStyle",n,!1,"solid")+" "+tt(t,"borderTopColor",n,!1,"#000")),u.join(" "),a,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(gt)||["#000"])[0]}}),Et("borderWidth",{parser:yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Et("float,cssFloat,styleFloat",{parser:function(t,e,n,i,r,a){var o=t.style,s="cssFloat"in o?"cssFloat":"styleFloat";return new bt(o,s,0,0,r,-1,n,!1,0,o[s],e)}});var qt=function(t){var e,n=this.t,i=n.filter||tt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(n.removeAttribute("filter"),e=!tt(this.data,"filter")):(n.filter=i.replace(E,""),e=!0)),e||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),-1===i.indexOf("pacity")?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(T,"opacity="+r))};Et("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,a,o){var s=parseFloat(tt(t,"opacity",n,!1,"1")),u=t.style,l="autoAlpha"===i;return"string"===typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),l&&1===s&&"hidden"===tt(t,"visibility",n)&&0!==e&&(s=0),$?a=new bt(u,"opacity",s,e-s,a):(a=new bt(u,"opacity",100*s,100*(e-s),a),a.xn1=l?1:0,u.zoom=1,a.type=2,a.b="alpha(opacity="+a.s+")",a.e="alpha(opacity="+(a.s+a.c)+")",a.data=t,a.plugin=o,a.setRatio=qt),l&&(a=new bt(u,"visibility",0,0,a,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),a.xs0="inherit",r._overwriteProps.push(a.n),r._overwriteProps.push(i)),a}});var Xt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(C,"-$1").toLowerCase())):t.removeAttribute(e))},Yt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);var e=this.data,n=this.t.style;while(e)e.v?n[e.p]=e.v:Xt(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Et("className",{parser:function(e,i,r,a,o,s,u){var l,c,h,d,p,f=e.getAttribute("class")||"",m=e.style.cssText;if(o=a._classNamePT=new bt(e,r,0,0,o,2),o.setRatio=Yt,o.pr=-11,t=!0,o.b=f,c=it(e,n),h=e._gsClassPT,h){d={},p=h.data;while(p)d[p.p]=1,p=p._next;h.setRatio(1)}return e._gsClassPT=o,o.e="="!==i.charAt(1)?i:f.replace(new RegExp("(?:\\s|^)"+i.substr(2)+"(?![\\w-])"),"")+("+"===i.charAt(0)?" "+i.substr(2):""),e.setAttribute("class",o.e),l=rt(e,c,it(e),u,d),e.setAttribute("class",f),o.data=l.firstMPT,e.style.cssText!==m&&(e.style.cssText=m),o=o.xfirst=a.parse(e,l.difs,o,s),o}});var Jt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,i,r,a,o=this.t.style,u=s.transform.parse;if("all"===this.e)o.cssText="",r=!0;else{e=this.e.split(" ").join("").split(","),i=e.length;while(--i>-1)n=e[i],s[n]&&(s[n].parse===u?r=!0:n="transformOrigin"===n?Ot:s[n].p),Xt(o,n)}r&&(Xt(o,kt),a=this.t._gsTransform,a&&(a.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};Et("clearProps",{parser:function(e,n,i,r,a){return a=new bt(e,i,0,0,a,2),a.setRatio=Jt,a.e=n,a.pr=-10,a.data=r._tween,t=!0,a}}),u="bezier,throwProps,physicsProps,physics2D".split(","),Tt=u.length;while(Tt--)Mt(u[Tt]);u=a.prototype,u._firstPT=u._lastParsedTransform=u._transform=null,u._onInitTween=function(i,o,u,d){if(!i.nodeType)return!1;this._target=m=i,this._tween=u,this._vars=o,g=d,l=o.autoRound,t=!1,e=o.suffixMap||a.suffixMap,n=Q(i,""),r=this._overwriteProps;var f,v,y,_,b,w,x,T,E,M=i.style;if(c&&""===M.zIndex&&(f=tt(i,"zIndex",n),"auto"!==f&&""!==f||this._addLazySet(M,"zIndex",0)),"string"===typeof o&&(_=M.cssText,f=it(i,n),M.cssText=_+";"+o,f=rt(i,f,it(i)).difs,!$&&S.test(o)&&(f.opacity=parseFloat(RegExp.$1)),o=f,M.cssText=_),o.className?this._firstPT=v=s.className.parse(i,o.className,"className",this,null,null,o):this._firstPT=v=this.parse(i,o,null),this._transformType){E=3===this._transformType,kt?h&&(c=!0,""===M.zIndex&&(x=tt(i,"zIndex",n),"auto"!==x&&""!==x||this._addLazySet(M,"zIndex",0)),p&&this._addLazySet(M,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):M.zoom=1,y=v;while(y&&y._next)y=y._next;T=new bt(i,"transform",0,0,null,2),this._linkCSSP(T,null,y),T.setRatio=kt?$t:Wt,T.data=this._transform||Gt(i,n,!0),T.tween=u,T.pr=-1,r.pop()}if(t){while(v){w=v._next,y=_;while(y&&y.pr>v.pr)y=y._next;(v._prev=y?y._prev:b)?v._prev._next=v:_=v,(v._next=y)?y._prev=v:b=v,v=w}this._firstPT=_}return!0},u.parse=function(t,i,r,a){var o,u,c,h,d,p,f,v,y,_,b=t.style;for(o in i){if(p=i[o],u=s[o],"function"!==typeof p||u&&u.allowFunc||(p=p(g,m)),u)r=u.parse(t,p,o,this,r,a,i);else{if("--"===o.substr(0,2)){this._tween._propLookup[o]=this._addTween.call(this._tween,t.style,"setProperty",Q(t).getPropertyValue(o)+"",p+"",o,!1,o);continue}d=tt(t,o,n)+"",y="string"===typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||y&&M.test(p)?(y||(p=ft(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),r=xt(b,o,d,p,!0,"transparent",r,0,a)):y&&D.test(p)?r=xt(b,o,d,p,!0,null,r,0,a):(c=parseFloat(d),f=c||0===c?d.substr((c+"").length):"",""!==d&&"auto"!==d||("width"===o||"height"===o?(c=st(t,o,n),f="px"):"left"===o||"top"===o?(c=nt(t,o,n),f="px"):(c="opacity"!==o?0:1,f="")),_=y&&"="===p.charAt(1),_?(h=parseInt(p.charAt(0)+"1",10),p=p.substr(2),h*=parseFloat(p),v=p.replace(x,"")):(h=parseFloat(p),v=y?p.replace(x,""):""),""===v&&(v=o in e?e[o]:f),p=h||0===h?(_?h+c:h)+v:i[o],f!==v&&(""===v&&"lineHeight"!==o||(h||0===h)&&c&&(c=et(t,o,c,f),"%"===v?(c/=et(t,o,100,"%")/100,!0!==i.strictUnits&&(d=c+"%")):"em"===v||"rem"===v||"vw"===v||"vh"===v?c/=et(t,o,1,v):"px"!==v&&(h=et(t,o,h,v),v="px"),_&&(h||0===h)&&(p=h+c+v))),_&&(h+=c),!c&&0!==c||!h&&0!==h?void 0!==b[o]&&(p||p+""!=="NaN"&&null!=p)?(r=new bt(b,o,h||c||0,0,r,-1,o,!1,0,d,p),r.xs0="none"!==p||"display"!==o&&-1===o.indexOf("Style")?p:d):X("invalid "+o+" tween value: "+i[o]):(r=new bt(b,o,c,h-c,r,0,o,!1!==l&&("px"===v||"zIndex"===o),0,d,p),r.xs0=v))}a&&r&&!r.plugin&&(r.plugin=a)}return r},u.setRatio=function(t){var e,n,i,r=this._firstPT,a=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)while(r){if(e=r.c*t+r.s,r.r?e=r.r(e):e<a&&e>-a&&(e=0),r.type)if(1===r.type)if(i=r.l,2===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else while(r)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else while(r){if(2!==r.type)if(r.r&&-1!==r.type)if(e=r.r(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+e+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},u._enableTransforms=function(t){this._transform=this._transform||Gt(this._target,n,!0),this._transformType=this._transform.svg&&Ct||!t&&3!==this._transformType?2:3};var Zt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(t,e,n){var i=this._firstPT=new bt(t,e,0,0,this._firstPT,2);i.e=n,i.setRatio=Zt,i.data=this},u._linkCSSP=function(t,e,n,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),n?n._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},u._mod=function(t){var e=this._firstPT;while(e)"function"===typeof t[e.p]&&(e.r=t[e.p]),e=e._next},u._kill=function(t){var e,n,r,a=t;if(t.autoAlpha||t.alpha){for(n in a={},t)a[n]=t[n];a.opacity=1,a.autoAlpha&&(a.visibility=1)}t.className&&(e=this._classNamePT)&&(r=e.xfirst,r&&r._prev?this._linkCSSP(r._prev,e._next,r._prev._prev):r===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,r._prev),this._classNamePT=null),e=this._firstPT;while(e)e.plugin&&e.plugin!==n&&e.plugin._kill&&(e.plugin._kill(t),n=e.plugin),e=e._next;return i["e"].prototype._kill.call(this,a)};var Kt=function(t,e,n){var i,r,a,o;if(t.slice){r=t.length;while(--r>-1)Kt(t[r],e,n)}else{i=t.childNodes,r=i.length;while(--r>-1)a=i[r],o=a.type,a.style&&(e.push(it(a)),n&&n.push(a)),1!==o&&9!==o&&11!==o||!a.childNodes.length||Kt(a,e,n)}};return a.cascadeTo=function(t,e,n){var r,a,o,s,u=i["g"].to(t,e,n),l=[u],c=[],h=[],d=[],p=i["g"]._internals.reservedProps;t=u._targets||u.target,Kt(t,c,d),u.render(e,!0,!0),Kt(t,h),u.render(0,!0,!0),u._enabled(!0),r=d.length;while(--r>-1)if(a=rt(d[r],c[r],h[r]),a.firstMPT){for(o in a=a.difs,n)p[o]&&(a[o]=n[o]);for(o in s={},a)s[o]=c[r][o];l.push(i["g"].fromTo(d[r],e,s,a))}return l},i["e"].activate([a]),a},!0);var a=i["h"].CSSPlugin,o=i["f"]._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,n,i){var r,a;if("function"!==typeof t.setAttribute)return!1;for(r in e)a=e[r],"function"===typeof a&&(a=a(i,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",a+"",r,!1,r),this._overwriteProps.push(r);return!0}}),s=i["f"]._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(t,e,n){return this._tween=n,!0}}),u=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){return(Math.round(n/t)*t*e|0)/e}},l=function(t,e){while(t)t.f||t.blob||(t.m=e||Math.round),t=t._next},c=s.prototype;
/*!
 * VERSION: 0.6.1
 * DATE: 2018-08-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */c._onInitAllProps=function(){var t,e,n,i,r=this._tween,a=r.vars.roundProps,o={},s=r._propLookup.roundProps;if("object"!==typeof a||a.push){"string"===typeof a&&(a=a.split(",")),n=a.length;while(--n>-1)o[a[n]]=Math.round}else for(i in a)o[i]=u(a[i]);for(i in o){t=r._firstPT;while(t)e=t._next,t.pg?t.t._mod(o):t.n===i&&(2===t.f&&t.t?l(t.t._firstPT,o[i]):(this._add(t.t,i,t.s,t.c,o[i]),e&&(e._prev=t._prev),t._prev?t._prev._next=e:r._firstPT===t&&(r._firstPT=e),t._next=t._prev=null,r._propLookup[i]=s)),t=e}return!1},c._add=function(t,e,n,i,r){this._addTween(t,e,n,n+i,e,r||Math.round),this._overwriteProps.push(e)};
/*!
 * VERSION: 0.3.1
 * DATE: 2018-08-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var h=i["f"]._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,n,i){"object"!==typeof e&&(e={rotation:e}),this.finals={};var r,a,o,s,u,l,c=!0===e.useRadians?2*Math.PI:360,h=1e-6;for(r in e)"useRadians"!==r&&(s=e[r],"function"===typeof s&&(s=s(i,t)),l=(s+"").split("_"),a=l[0],o=parseFloat("function"!==typeof t[r]?t[r]:t[r.indexOf("set")||"function"!==typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),s=this.finals[r]="string"===typeof a&&"="===a.charAt(1)?o+parseInt(a.charAt(0)+"1",10)*Number(a.substr(2)):Number(a)||0,u=s-o,l.length&&(a=l.join("_"),-1!==a.indexOf("short")&&(u%=c,u!==u%(c/2)&&(u=u<0?u+c:u-c)),-1!==a.indexOf("_cw")&&u<0?u=(u+9999999999*c)%c-(u/c|0)*c:-1!==a.indexOf("ccw")&&u>0&&(u=(u-9999999999*c)%c-(u/c|0)*c)),(u>h||u<-h)&&(this._addTween(t,r,o,o+u,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else{e=this._firstPT;while(e)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}}});h._autoCSS=!0,
/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
i["f"]._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(){var t=function(t){i["d"].call(this,t);var e,n,r=this,a=r.vars;for(n in r._labels={},r.autoRemoveChildren=!!a.autoRemoveChildren,r.smoothChildTiming=!!a.smoothChildTiming,r._sortChildren=!0,r._onUpdate=a.onUpdate,a)e=a[n],o(e)&&-1!==e.join("").indexOf("{self}")&&(a[n]=r._swapSelfInParams(e));o(a.tweens)&&r.add(a.tweens,0,a.align,a.stagger)},e=1e-8,n=i["g"]._internals,r=t._internals={},a=n.isSelector,o=n.isArray,s=n.lazyTweens,u=n.lazyRender,l=i["f"]._gsDefine.globals,c=function(t){var e,n={};for(e in t)n[e]=t[e];return n},h=function(t,e,n){var i,r,a=t.cycle;for(i in a)r=a[i],t[i]="function"===typeof r?r(n,e[n],e):r[n%r.length];delete t.cycle},d=r.pauseCallback=function(){},p=function(t){var e,n=[],i=t.length;for(e=0;e!==i;n.push(t[e++]));return n},f=function(t,e,n,i){var r="immediateRender";return r in e||(e[r]=!(n&&!1===n[r]||i)),e},m=function(t){if("function"===typeof t)return t;var e="object"===typeof t?t:{each:t},n=e.ease,i=e.from||0,r=e.base||0,a={},o=isNaN(i),s=e.axis,u={center:.5,end:1}[i]||0;return function(t,l,c){var h,d,p,f,m,g,v,y,_,b=(c||e).length,w=a[b];if(!w){if(_="auto"===e.grid?0:(e.grid||[1/0])[0],!_){v=-1/0;while(v<(v=c[_++].getBoundingClientRect().left)&&_<b);_--}for(w=a[b]=[],h=o?Math.min(_,b)*u-.5:i%_,d=o?b*u/_-.5:i/_|0,v=0,y=1/0,g=0;g<b;g++)p=g%_-h,f=d-(g/_|0),w[g]=m=s?Math.abs("y"===s?f:p):Math.sqrt(p*p+f*f),m>v&&(v=m),m<y&&(y=m);w.max=v-y,w.min=y,w.v=b=e.amount||e.each*(_>b?b-1:s?"y"===s?b/_:_:Math.max(_,b/_))||0,w.b=b<0?r-b:r}return b=(w[t]-w.min)/w.max,w.b+(n?n.getRatio(b):b)*w.v}},g=t.prototype=new i["d"];return t.version="2.1.3",t.distribute=m,g.constructor=t,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,n,r){var a=n.repeat&&l.TweenMax||i["g"];return e?this.add(new a(t,e,n),r):this.set(t,n,r)},g.from=function(t,e,n,r){return this.add((n.repeat&&l.TweenMax||i["g"]).from(t,e,f(this,n)),r)},g.fromTo=function(t,e,n,r,a){var o=r.repeat&&l.TweenMax||i["g"];return r=f(this,r,n),e?this.add(o.fromTo(t,e,n,r),a):this.set(t,r,a)},g.staggerTo=function(e,n,r,o,s,u,l,d){var f,g,v=new t({onComplete:u,onCompleteParams:l,callbackScope:d,smoothChildTiming:this.smoothChildTiming}),y=m(r.stagger||o),_=r.startAt,b=r.cycle;for("string"===typeof e&&(e=i["g"].selector(e)||e),e=e||[],a(e)&&(e=p(e)),g=0;g<e.length;g++)f=c(r),_&&(f.startAt=c(_),_.cycle&&h(f.startAt,e,g)),b&&(h(f,e,g),null!=f.duration&&(n=f.duration,delete f.duration)),v.to(e[g],n,f,y(g,e[g],e));return this.add(v,s)},g.staggerFrom=function(t,e,n,i,r,a,o,s){return n.runBackwards=!0,this.staggerTo(t,e,f(this,n),i,r,a,o,s)},g.staggerFromTo=function(t,e,n,i,r,a,o,s,u){return i.startAt=n,this.staggerTo(t,e,f(this,i,n),r,a,o,s,u)},g.call=function(t,e,n,r){return this.add(i["g"].delayedCall(0,t,e,n),r)},g.set=function(t,e,n){return this.add(new i["g"](t,0,f(this,e,null,!0)),n)},t.exportRoot=function(e,n){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var r,a,o,s,u=new t(e),l=u._timeline;null==n&&(n=!0),l._remove(u,!0),u._startTime=0,u._rawPrevTime=u._time=u._totalTime=l._time,o=l._first;while(o)s=o._next,n&&o instanceof i["g"]&&o.target===o.vars.onComplete||(a=o._startTime-o._delay,a<0&&(r=1),u.add(o,a)),o=s;return l.add(u,0),r&&u.totalDuration(),u},g.add=function(e,n,r,a){var s,u,l,c,h,d,p=this;if("number"!==typeof n&&(n=p._parseTimeOrLabel(n,0,!0,e)),!(e instanceof i["a"])){if(e instanceof Array||e&&e.push&&o(e)){for(r=r||"normal",a=a||0,s=n,u=e.length,l=0;l<u;l++)o(c=e[l])&&(c=new t({tweens:c})),p.add(c,s),"string"!==typeof c&&"function"!==typeof c&&("sequence"===r?s=c._startTime+c.totalDuration()/c._timeScale:"start"===r&&(c._startTime-=c.delay())),s+=a;return p._uncache(!0)}if("string"===typeof e)return p.addLabel(e,n);if("function"!==typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=i["g"].delayedCall(0,e)}if(i["d"].prototype.add.call(p,e,n),(e._time||!e._duration&&e._initted)&&(s=(p.rawTime()-e._startTime)*e._timeScale,(!e._duration||Math.abs(Math.max(0,Math.min(e.totalDuration(),s)))-e._totalTime>1e-5)&&e.render(s,!1,!1)),(p._gc||p._time===p._duration)&&!p._paused&&p._duration<p.duration()){h=p,d=h.rawTime()>e._startTime;while(h._timeline)d&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline}return p},g.remove=function(t){if(t instanceof i["a"]){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?i["a"]._rootFramesTimeline:i["a"]._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&o(t)){var n=t.length;while(--n>-1)this.remove(t[n]);return this}return"string"===typeof t?this.removeLabel(t):this.kill(null,t)},g._remove=function(t,e){i["d"].prototype._remove.call(this,t,e);var n=this._last;return n?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,n,i){return this.add(t,e||0,n,i)},g.appendMultiple=function(t,e,n,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,i)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,n,r){var a=i["g"].delayedCall(0,d,n,r||this);return a.vars.onComplete=a.vars.onReverseComplete=e,a.data="isPause",this._hasPause=!0,this.add(a,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(t,e,n,r){var a,s;if(r instanceof i["a"]&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&o(r))){s=r.length;while(--s>-1)r[s]instanceof i["a"]&&r[s].timeline===this&&this.remove(r[s])}if(a="number"!==typeof t||e?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"===typeof e)return this._parseTimeOrLabel(e,n&&"number"===typeof t&&null==this._labels[e]?t-a:0,n);if(e=e||0,"string"!==typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=a);else{if(s=t.indexOf("="),-1===s)return null==this._labels[t]?n?this._labels[t]=a+e:e:this._labels[t]+e;e=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,n):a}return Number(t)+e},g.seek=function(t,e){return this.totalTime("number"===typeof t?t:this._parseTimeOrLabel(t),!1!==e)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,n,i){this._gc&&this._enabled(!0,!1);var r,a,o,l,c,h,d,p,f=this,m=f._time,g=f._dirty?f.totalDuration():f._totalDuration,v=f._startTime,y=f._timeScale,_=f._paused;if(m!==f._time&&(t+=f._time-m),f._hasPause&&!f._forcingPlayhead&&!n){if(t>m){r=f._first;while(r&&r._startTime<=t&&!h)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===f._rawPrevTime||(h=r),r=r._next}else{r=f._last;while(r&&r._startTime>=t&&!h)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(h=r),r=r._prev}h&&(f._time=f._totalTime=t=h._startTime,p=f._startTime+(f._reversed?f._duration-t:t)/f._timeScale)}if(t>=g-e&&t>=0)f._totalTime=f._time=g,f._reversed||f._hasPausedChild()||(a=!0,l="onComplete",c=!!f._timeline.autoRemoveChildren,0===f._duration&&(t<=0&&t>=-e||f._rawPrevTime<0||f._rawPrevTime===e)&&f._rawPrevTime!==t&&f._first&&(c=!0,f._rawPrevTime>e&&(l="onReverseComplete"))),f._rawPrevTime=f._duration||!n||t||f._rawPrevTime===t?t:e,t=g+1e-4;else if(t<e)if(f._totalTime=f._time=0,t>-e&&(t=0),(0!==m||0===f._duration&&f._rawPrevTime!==e&&(f._rawPrevTime>0||t<0&&f._rawPrevTime>=0))&&(l="onReverseComplete",a=f._reversed),t<0)f._active=!1,f._timeline.autoRemoveChildren&&f._reversed?(c=a=!0,l="onReverseComplete"):f._rawPrevTime>=0&&f._first&&(c=!0),f._rawPrevTime=t;else{if(f._rawPrevTime=f._duration||!n||t||f._rawPrevTime===t?t:e,0===t&&a){r=f._first;while(r&&0===r._startTime)r._duration||(a=!1),r=r._next}t=0,f._initted||(c=!0)}else f._totalTime=f._time=f._rawPrevTime=t;if(f._time!==m&&f._first||i||c||h){if(f._initted||(f._initted=!0),f._active||!f._paused&&f._time!==m&&t>0&&(f._active=!0),0===m&&f.vars.onStart&&(0===f._time&&f._duration||n||f._callback("onStart")),d=f._time,d>=m){r=f._first;while(r){if(o=r._next,d!==f._time||f._paused&&!_)break;(r._active||r._startTime<=d&&!r._paused&&!r._gc)&&(h===r&&(f.pause(),f._pauseTime=p),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,n,i):r.render((t-r._startTime)*r._timeScale,n,i)),r=o}}else{r=f._last;while(r){if(o=r._prev,d!==f._time||f._paused&&!_)break;if(r._active||r._startTime<=m&&!r._paused&&!r._gc){if(h===r){h=r._prev;while(h&&h.endTime()>f._time)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,n,i),h=h._prev;h=null,f.pause(),f._pauseTime=p}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,n,i):r.render((t-r._startTime)*r._timeScale,n,i)}r=o}}f._onUpdate&&(n||(s.length&&u(),f._callback("onUpdate"))),l&&(f._gc||v!==f._startTime&&y===f._timeScale||(0===f._time||g>=f.totalDuration())&&(a&&(s.length&&u(),f._timeline.autoRemoveChildren&&f._enabled(!1,!1),f._active=!1),!n&&f.vars[l]&&f._callback(l)))}},g._hasPausedChild=function(){var e=this._first;while(e){if(e._paused||e instanceof t&&e._hasPausedChild())return!0;e=e._next}return!1},g.getChildren=function(t,e,n,r){r=r||-9999999999;var a=[],o=this._first,s=0;while(o)o._startTime<r||(o instanceof i["g"]?!1!==e&&(a[s++]=o):(!1!==n&&(a[s++]=o),!1!==t&&(a=a.concat(o.getChildren(!0,e,n)),s=a.length))),o=o._next;return a},g.getTweensOf=function(t,e){var n,r,a=this._gc,o=[],s=0;a&&this._enabled(!0,!0),n=i["g"].getTweensOf(t),r=n.length;while(--r>-1)(n[r].timeline===this||e&&this._contains(n[r]))&&(o[s++]=n[r]);return a&&this._enabled(!1,!0),o},g.recent=function(){return this._recent},g._contains=function(t){var e=t.timeline;while(e){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,n){n=n||0;var i,r=this._first,a=this._labels;while(r)r._startTime>=n&&(r._startTime+=t),r=r._next;if(e)for(i in a)a[i]>=n&&(a[i]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=n.length,r=!1;while(--i>-1)n[i]._kill(t,e)&&(r=!0);return r},g.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;this._time=this._totalTime=0;while(--n>-1)e[n]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){var t=this._first;while(t)t.invalidate(),t=t._next;return i["a"].prototype.invalidate.call(this)},g._enabled=function(t,e){if(t===this._gc){var n=this._first;while(n)n._enabled(t,!0),n=n._next}return i["d"].prototype._enabled.call(this,t,e)},g.totalTime=function(t,e,n){this._forcingPlayhead=!0;var r=i["a"].prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){var e,n,i=0,r=this,a=r._last,o=999999999999;while(a)e=a._prev,a._dirty&&a.totalDuration(),a._startTime>o&&r._sortChildren&&!a._paused&&!r._calculatingDuration?(r._calculatingDuration=1,r.add(a,a._startTime-a._delay),r._calculatingDuration=0):o=a._startTime,a._startTime<0&&!a._paused&&(i-=a._startTime,r._timeline.smoothChildTiming&&(r._startTime+=a._startTime/r._timeScale,r._time-=a._startTime,r._totalTime-=a._startTime,r._rawPrevTime-=a._startTime),r.shiftChildren(-a._startTime,!1,-9999999999),o=0),n=a._startTime+a._totalDuration/a._timeScale,n>i&&(i=n),a=e;r._duration=r._totalDuration=i,r._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(t){if(!1===t&&this._paused){var e=this._first;while(e)e._startTime===this._time&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next}return i["a"].prototype.paused.apply(this,arguments)},g.usesFrames=function(){var t=this._timeline;while(t._timeline)t=t._timeline;return t===i["a"]._rootFramesTimeline},g.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},t},!0);var d=i["h"].TimelineLite;
/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */i["f"]._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(){var t=function(t){d.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},e=1e-8,n=i["g"]._internals,r=n.lazyTweens,a=n.lazyRender,o=i["f"]._gsDefine.globals,s=new i["b"](null,null,1,0),u=t.prototype=new d;return u.constructor=t,u.kill()._gc=!1,t.version="2.1.3",u.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),d.prototype.invalidate.call(this)},u.addCallback=function(t,e,n,r){return this.add(i["g"].delayedCall(0,t,n,r),e)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else{var n=this.getTweensOf(t,!1),i=n.length,r=this._parseTimeOrLabel(e);while(--i>-1)n[i]._startTime===r&&n[i]._enabled(!1,!1)}return this},u.removePause=function(t){return this.removeCallback(d._internals.pauseCallback,t)},u.tweenTo=function(t,e){e=e||{};var n,r,a,u={ease:s,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},l=e.repeat&&o.TweenMax||i["g"];for(r in e)u[r]=e[r];return u.time=this._parseTimeOrLabel(t),n=Math.abs(Number(u.time)-this._time)/this._timeScale||.001,a=new l(this,n,u),u.onStart=function(){a.target.paused(!0),a.vars.time===a.target.time()||n!==a.duration()||a.isFromTo||a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale).render(a.time(),!0,!0),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||a,e.onStartParams||[])},a},u.tweenFromTo=function(t,e,n){n=n||{},t=this._parseTimeOrLabel(t),n.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var i=this.tweenTo(e,n);return i.isFromTo=1,i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},u.render=function(t,n,i){this._gc&&this._enabled(!0,!1);var o,s,u,l,c,h,d,p,f,m=this,g=m._time,v=m._dirty?m.totalDuration():m._totalDuration,y=m._duration,_=m._totalTime,b=m._startTime,w=m._timeScale,x=m._rawPrevTime,T=m._paused,S=m._cycle;if(g!==m._time&&(t+=m._time-g),t>=v-e&&t>=0)m._locked||(m._totalTime=v,m._cycle=m._repeat),m._reversed||m._hasPausedChild()||(s=!0,l="onComplete",c=!!m._timeline.autoRemoveChildren,0===m._duration&&(t<=0&&t>=-e||x<0||x===e)&&x!==t&&m._first&&(c=!0,x>e&&(l="onReverseComplete"))),m._rawPrevTime=m._duration||!n||t||m._rawPrevTime===t?t:e,m._yoyo&&1&m._cycle?m._time=t=0:(m._time=y,t=y+1e-4);else if(t<e)if(m._locked||(m._totalTime=m._cycle=0),m._time=0,t>-e&&(t=0),(0!==g||0===y&&x!==e&&(x>0||t<0&&x>=0)&&!m._locked)&&(l="onReverseComplete",s=m._reversed),t<0)m._active=!1,m._timeline.autoRemoveChildren&&m._reversed?(c=s=!0,l="onReverseComplete"):x>=0&&m._first&&(c=!0),m._rawPrevTime=t;else{if(m._rawPrevTime=y||!n||t||m._rawPrevTime===t?t:e,0===t&&s){o=m._first;while(o&&0===o._startTime)o._duration||(s=!1),o=o._next}t=0,m._initted||(c=!0)}else 0===y&&x<0&&(c=!0),m._time=m._rawPrevTime=t,m._locked||(m._totalTime=t,0!==m._repeat&&(h=y+m._repeatDelay,m._cycle=m._totalTime/h>>0,m._cycle&&m._cycle===m._totalTime/h&&_<=t&&m._cycle--,m._time=m._totalTime-m._cycle*h,m._yoyo&&1&m._cycle&&(m._time=y-m._time),m._time>y?(m._time=y,t=y+1e-4):m._time<0?m._time=t=0:t=m._time));if(m._hasPause&&!m._forcingPlayhead&&!n){if(t=m._time,t>g||m._repeat&&S!==m._cycle){o=m._first;while(o&&o._startTime<=t&&!d)o._duration||"isPause"!==o.data||o.ratio||0===o._startTime&&0===m._rawPrevTime||(d=o),o=o._next}else{o=m._last;while(o&&o._startTime>=t&&!d)o._duration||"isPause"===o.data&&o._rawPrevTime>0&&(d=o),o=o._prev}d&&(f=m._startTime+(m._reversed?m._duration-d._startTime:d._startTime)/m._timeScale,d._startTime<y&&(m._time=m._rawPrevTime=t=d._startTime,m._totalTime=t+m._cycle*(m._totalDuration+m._repeatDelay)))}if(m._cycle!==S&&!m._locked){var E=m._yoyo&&0!==(1&S),M=E===(m._yoyo&&0!==(1&m._cycle)),C=m._totalTime,A=m._cycle,k=m._rawPrevTime,P=m._time;if(m._totalTime=S*y,m._cycle<S?E=!E:m._totalTime+=y,m._time=g,m._rawPrevTime=0===y?x-1e-4:x,m._cycle=S,m._locked=!0,g=E?0:y,m.render(g,n,0===y),n||m._gc||m.vars.onRepeat&&(m._cycle=A,m._locked=!1,m._callback("onRepeat")),g!==m._time)return;if(M&&(m._cycle=S,m._locked=!0,g=E?y+1e-4:-1e-4,m.render(g,!0,!1)),m._locked=!1,m._paused&&!T)return;m._time=P,m._totalTime=C,m._cycle=A,m._rawPrevTime=k}if(m._time!==g&&m._first||i||c||d){if(m._initted||(m._initted=!0),m._active||!m._paused&&m._totalTime!==_&&t>0&&(m._active=!0),0===_&&m.vars.onStart&&(0===m._totalTime&&m._totalDuration||n||m._callback("onStart")),p=m._time,p>=g){o=m._first;while(o){if(u=o._next,p!==m._time||m._paused&&!T)break;(o._active||o._startTime<=m._time&&!o._paused&&!o._gc)&&(d===o&&(m.pause(),m._pauseTime=f),o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(t-o._startTime)*o._timeScale,n,i):o.render((t-o._startTime)*o._timeScale,n,i)),o=u}}else{o=m._last;while(o){if(u=o._prev,p!==m._time||m._paused&&!T)break;if(o._active||o._startTime<=g&&!o._paused&&!o._gc){if(d===o){d=o._prev;while(d&&d.endTime()>m._time)d.render(d._reversed?d.totalDuration()-(t-d._startTime)*d._timeScale:(t-d._startTime)*d._timeScale,n,i),d=d._prev;d=null,m.pause(),m._pauseTime=f}o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(t-o._startTime)*o._timeScale,n,i):o.render((t-o._startTime)*o._timeScale,n,i)}o=u}}m._onUpdate&&(n||(r.length&&a(),m._callback("onUpdate"))),l&&(m._locked||m._gc||b!==m._startTime&&w===m._timeScale||(0===m._time||v>=m.totalDuration())&&(s&&(r.length&&a(),m._timeline.autoRemoveChildren&&m._enabled(!1,!1),m._active=!1),!n&&m.vars[l]&&m._callback(l)))}else _!==m._totalTime&&m._onUpdate&&(n||m._callback("onUpdate"))},u.getActive=function(t,e,n){var i,r,a=[],o=this.getChildren(t||null==t,e||null==t,!!n),s=0,u=o.length;for(i=0;i<u;i++)r=o[i],r.isActive()&&(a[s++]=r);return a},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,n=this.getLabelsArray(),i=n.length;for(e=0;e<i;e++)if(n[e].time>t)return n[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);var e=this.getLabelsArray(),n=e.length;while(--n>-1)if(e[n].time<t)return e[n].name;return null},u.getLabelsArray=function(){var t,e=[],n=0;for(t in this._labels)e[n++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.invalidate=function(){return this._locked=!1,d.prototype.invalidate.call(this)},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},u.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(d.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var n=this._duration,i=this._cycle,r=i*(n+this._repeatDelay);return t>n&&(t=n),this.totalTime(this._yoyo&&1&i?n-t+r:this._repeat?t+r:t,e)},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+e)},t},!0);var p=i["h"].TimelineMax,f=180/Math.PI,m=[],g=[],v=[],y={},_=i["f"]._gsDefine.globals,b=function(t,e,n,i){n===i&&(n=i-(i-e)/1e6),t===e&&(e=t+(n-t)/1e6),this.a=t,this.b=e,this.c=n,this.d=i,this.da=i-t,this.ca=n-t,this.ba=e-t},w=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",x=function(t,e,n,i){var r={a:t},a={},o={},s={c:i},u=(t+e)/2,l=(e+n)/2,c=(n+i)/2,h=(u+l)/2,d=(l+c)/2,p=(d-h)/8;return r.b=u+(t-u)/4,a.b=h+p,r.c=a.a=(r.b+a.b)/2,a.c=o.a=(h+d)/2,o.b=d-p,s.b=c+(i-c)/4,o.c=s.a=(o.b+s.b)/2,[r,a,o,s]},T=function(t,e,n,i,r){var a,o,s,u,l,c,h,d,p,f,y,_,b,w=t.length-1,T=0,S=t[0].a;for(a=0;a<w;a++)l=t[T],o=l.a,s=l.d,u=t[T+1].d,r?(y=m[a],_=g[a],b=(_+y)*e*.25/(i?.5:v[a]||.5),c=s-(s-o)*(i?.5*e:0!==y?b/y:0),h=s+(u-s)*(i?.5*e:0!==_?b/_:0),d=s-(c+((h-c)*(3*y/(y+_)+.5)/4||0))):(c=s-(s-o)*e*.5,h=s+(u-s)*e*.5,d=s-(c+h)/2),c+=d,h+=d,l.c=p=c,l.b=0!==a?S:S=l.a+.6*(l.c-l.a),l.da=s-o,l.ca=p-o,l.ba=S-o,n?(f=x(o,S,p,s),t.splice(T,1,f[0],f[1],f[2],f[3]),T+=4):T++,S=h;l=t[T],l.b=S,l.c=S+.4*(l.d-S),l.da=l.d-l.a,l.ca=l.c-l.a,l.ba=S-l.a,n&&(f=x(l.a,S,l.c,l.d),t.splice(T,1,f[0],f[1],f[2],f[3]))},S=function(t,e,n,i){var r,a,o,s,u,l,c=[];if(i){t=[i].concat(t),a=t.length;while(--a>-1)"string"===typeof(l=t[a][e])&&"="===l.charAt(1)&&(t[a][e]=i[e]+Number(l.charAt(0)+l.substr(2)))}if(r=t.length-2,r<0)return c[0]=new b(t[0][e],0,0,t[0][e]),c;for(a=0;a<r;a++)o=t[a][e],s=t[a+1][e],c[a]=new b(o,0,0,s),n&&(u=t[a+2][e],m[a]=(m[a]||0)+(s-o)*(s-o),g[a]=(g[a]||0)+(u-s)*(u-s));return c[a]=new b(t[a][e],0,0,t[a+1][e]),c},E=function(t,e,n,i,r,a){var o,s,u,l,c,h,d,p,f={},_=[],b=a||t[0];for(s in r="string"===typeof r?","+r+",":w,null==e&&(e=1),t[0])_.push(s);if(t.length>1){p=t[t.length-1],d=!0,o=_.length;while(--o>-1)if(s=_[o],Math.abs(b[s]-p[s])>.05){d=!1;break}d&&(t=t.concat(),a&&t.unshift(a),t.push(t[1]),a=t[t.length-3])}m.length=g.length=v.length=0,o=_.length;while(--o>-1)s=_[o],y[s]=-1!==r.indexOf(","+s+","),f[s]=S(t,s,y[s],a);o=m.length;while(--o>-1)m[o]=Math.sqrt(m[o]),g[o]=Math.sqrt(g[o]);if(!i){o=_.length;while(--o>-1)if(y[s])for(u=f[_[o]],h=u.length-1,l=0;l<h;l++)c=u[l+1].da/g[l]+u[l].da/m[l]||0,v[l]=(v[l]||0)+c*c;o=v.length;while(--o>-1)v[o]=Math.sqrt(v[o])}o=_.length,l=n?4:1;while(--o>-1)s=_[o],u=f[s],T(u,e,n,i,y[s]),d&&(u.splice(0,l),u.splice(u.length-l,l));return f},M=function(t,e,n){e=e||"soft";var i,r,a,o,s,u,l,c,h,d,p,f={},m="cubic"===e?3:2,g="soft"===e,v=[];if(g&&n&&(t=[n].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(h in t[0])v.push(h);u=v.length;while(--u>-1){for(h=v[u],f[h]=s=[],d=0,c=t.length,l=0;l<c;l++)i=null==n?t[l][h]:"string"===typeof(p=t[l][h])&&"="===p.charAt(1)?n[h]+Number(p.charAt(0)+p.substr(2)):Number(p),g&&l>1&&l<c-1&&(s[d++]=(i+s[d-2])/2),s[d++]=i;for(c=d-m+1,d=0,l=0;l<c;l+=m)i=s[l],r=s[l+1],a=s[l+2],o=2===m?0:s[l+3],s[d++]=p=3===m?new b(i,r,a,o):new b(i,(2*r+i)/3,(2*r+a)/3,a);s.length=d}return f},C=function(t,e,n){var i,r,a,o,s,u,l,c,h,d,p,f=1/n,m=t.length;while(--m>-1)for(d=t[m],a=d.a,o=d.d-a,s=d.c-a,u=d.b-a,i=r=0,c=1;c<=n;c++)l=f*c,h=1-l,i=r-(r=(l*l*o+3*h*(l*s+h*u))*l),p=m*n+c-1,e[p]=(e[p]||0)+i*i},A=function(t,e){e=e>>0||6;var n,i,r,a,o=[],s=[],u=0,l=0,c=e-1,h=[],d=[];for(n in t)C(t[n],o,e);for(r=o.length,i=0;i<r;i++)u+=Math.sqrt(o[i]),a=i%e,d[a]=u,a===c&&(l+=u,a=i/e>>0,h[a]=d,s[a]=l,u=0,d=[]);return{length:l,lengths:s,segments:h}},k=i["f"]._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.9",API:2,global:!0,init:function(t,e,n){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var i,r,a,o,s,u=e.values||[],l={},c=u[0],h=e.autoRotate||n.vars.orientToBezier;for(i in this._autoRotate=h?h instanceof Array?h:[["x","y","rotation",!0===h?0:Number(h)||0]]:null,c)this._props.push(i);a=this._props.length;while(--a>-1)i=this._props[a],this._overwriteProps.push(i),r=this._func[i]="function"===typeof t[i],l[i]=r?t[i.indexOf("set")||"function"!==typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),s||l[i]!==u[0][i]&&(s=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?E(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):M(u,e.type,l),this._segCount=this._beziers[i].length,this._timeRes){var d=A(this._beziers,this._timeRes);this._length=d.length,this._lengths=d.lengths,this._segments=d.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(h=this._autoRotate){this._initialRotations=[],h[0]instanceof Array||(this._autoRotate=h=[h]),a=h.length;while(--a>-1){for(o=0;o<3;o++)i=h[a][o],this._func[i]="function"===typeof t[i]&&t[i.indexOf("set")||"function"!==typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)];i=h[a][2],this._initialRotations[a]=(this._func[i]?this._func[i].call(this._target):this._target[i])||0,this._overwriteProps.push(i)}}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(t){var e,n,i,r,a,o,s,u,l,c,h,d=this._segCount,p=this._func,m=this._target,g=t!==this._startRatio;if(this._timeRes){if(l=this._lengths,c=this._curSeg,h=t*this._length,i=this._li,h>this._l2&&i<d-1){u=d-1;while(i<u&&(this._l2=l[++i])<=h);this._l1=l[i-1],this._li=i,this._curSeg=c=this._segments[i],this._s2=c[this._s1=this._si=0]}else if(h<this._l1&&i>0){while(i>0&&(this._l1=l[--i])>=h);0===i&&h<this._l1?this._l1=0:i++,this._l2=l[i],this._li=i,this._curSeg=c=this._segments[i],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(e=i,h-=this._l1,i=this._si,h>this._s2&&i<c.length-1){u=c.length-1;while(i<u&&(this._s2=c[++i])<=h);this._s1=c[i-1],this._si=i}else if(h<this._s1&&i>0){while(i>0&&(this._s1=c[--i])>=h);0===i&&h<this._s1?this._s1=0:i++,this._s2=c[i],this._si=i}o=1===t?1:(i+(h-this._s1)/(this._s2-this._s1))*this._prec||0}else e=t<0?0:t>=1?d-1:d*t>>0,o=(t-e*(1/d))*d;n=1-o,i=this._props.length;while(--i>-1)r=this._props[i],a=this._beziers[r][e],s=(o*o*a.da+3*n*(o*a.ca+n*a.ba))*o+a.a,this._mod[r]&&(s=this._mod[r](s,m)),p[r]?m[r](s):m[r]=s;if(this._autoRotate){var v,y,_,b,w,x,T,S=this._autoRotate;i=S.length;while(--i>-1)r=S[i][2],x=S[i][3]||0,T=!0===S[i][4]?1:f,a=this._beziers[S[i][0]],v=this._beziers[S[i][1]],a&&v&&(a=a[e],v=v[e],y=a.a+(a.b-a.a)*o,b=a.b+(a.c-a.b)*o,y+=(b-y)*o,b+=(a.c+(a.d-a.c)*o-b)*o,_=v.a+(v.b-v.a)*o,w=v.b+(v.c-v.b)*o,_+=(w-_)*o,w+=(v.c+(v.d-v.c)*o-w)*o,s=g?Math.atan2(w-_,b-y)*T+x:this._initialRotations[i],this._mod[r]&&(s=this._mod[r](s,m)),p[r]?m[r](s):m[r]=s)}}}),P=k.prototype;
/*!
 * VERSION: 1.3.9
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/k.bezierThrough=E,k.cubicToQuadratic=x,k._autoCSS=!0,k.quadraticToCubic=function(t,e,n){return new b(t,(2*e+t)/3,(2*e+n)/3,n)},k._cssRegister=function(){var t=_.CSSPlugin;if(t){var e=t._internals,n=e._parseToProxy,i=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,a,o,s,u){e instanceof Array&&(e={values:e}),u=new k;var l,c,h,d=e.values,p=d.length-1,f=[],m={};if(p<0)return s;for(l=0;l<=p;l++)h=n(t,d[l],o,s,u,p!==l),f[l]=h.end;for(c in e)m[c]=e[c];return m.values=f,s=new r(t,"bezier",0,0,h.pt,2),s.data=h,s.plugin=u,s.setRatio=i,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(l=!0===m.autoRotate?0:Number(m.autoRotate),m.autoRotate=null!=h.end.left?[["left","top","rotation",l,!1]]:null!=h.end.x&&[["x","y","rotation",l,!1]]),m.autoRotate&&(o._transform||o._enableTransforms(!1),h.autoRotate=o._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,o._overwriteProps.push("rotation")),u._onInitTween(h.proxy,m,o._tween),s}})}},P._mod=function(t){var e,n=this._overwriteProps,i=n.length;while(--i>-1)e=t[n[i]],e&&"function"===typeof e&&(this._mod[n[i]]=e)},P._kill=function(t){var e,n,i=this._props;for(e in this._beziers)if(e in t){delete this._beziers[e],delete this._func[e],n=i.length;while(--n>-1)i[n]===e&&i.splice(n,1)}if(i=this._autoRotate,i){n=i.length;while(--n>-1)t[i[n][2]]&&i.splice(n,1)}return this._super._kill.call(this,t)},
/*!
 * VERSION: 1.16.1
 * DATE: 2018-08-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
i["f"]._gsDefine("easing.Back",["easing.Ease"],function(){var t,e,n,r,a=i["f"].GreenSockGlobals||i["f"],o=a.com.greensock,s=2*Math.PI,u=Math.PI/2,l=o._class,c=function(t,e){var n=l("easing."+t,function(){},!0),r=n.prototype=new i["b"];return r.constructor=n,r.getRatio=e,n},h=i["b"].register||function(){},d=function(t,e,n,i,r){var a=l("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new i},!0);return h(a,t),a},p=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},f=function(t,e){var n=l("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new i["b"];return r.constructor=n,r.getRatio=e,r.config=function(t){return new n(t)},n},m=d("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),v=g.prototype=new i["b"];return v.constructor=g,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),v.config=g.config=function(t,e,n){return new g(t,e,n)},t=l("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0),v=t.prototype=new i["b"],v.constructor=t,v.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},v.config=t.config=function(e,n){return new t(e,n)},e=l("easing.ExpoScaleEase",function(t,e,n){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=n},!0),v=e.prototype=new i["b"],v.constructor=e,v.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},v.config=e.config=function(t,n,i){return new e(t,n,i)},n=l("easing.RoughEase",function(t){t=t||{};var e,n,r,a,o,s,u=t.taper||"none",l=[],c=0,h=0|(t.points||20),d=h,f=!1!==t.randomize,m=!0===t.clamp,g=t.template instanceof i["b"]?t.template:null,v="number"===typeof t.strength?.4*t.strength:.4;while(--d>-1)e=f?Math.random():1/h*d,n=g?g.getRatio(e):e,"none"===u?r=v:"out"===u?(a=1-e,r=a*a*v):"in"===u?r=e*e*v:e<.5?(a=2*e,r=a*a*.5*v):(a=2*(1-e),r=a*a*.5*v),f?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:n<0&&(n=0)),l[c++]={x:e,y:n};l.sort(function(t,e){return t.x-e.x}),s=new p(1,1,null),d=h;while(--d>-1)o=l[d],s=new p(o.x,o.y,s);this._prev=new p(0,0,0!==s.t?s:s.next)},!0),v=n.prototype=new i["b"],v.constructor=n,v.getRatio=function(t){var e=this._prev;if(t>e.t){while(e.next&&t>=e.t)e=e.next;e=e.prev}else while(e.prev&&t<=e.t)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new n(t)},n.ease=new n,d("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),d("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(t,e,n){var r=l("easing."+t,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),a=r.prototype=new i["b"];return a.constructor=r,a.getRatio=e,a.config=function(t,e){return new r(t,e)},r},d("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),r("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),d("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),d("Sine",c("SineOut",function(t){return Math.sin(t*u)}),c("SineIn",function(t){return 1-Math.cos(t*u)}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(t){return i["b"].map[t]}},!0),h(a.SlowMo,"SlowMo","ease,"),h(n,"RoughEase","ease,"),h(t,"SteppedEase","ease,"),m},!0);var O=i["h"].Back,L=i["h"].Elastic,R=i["h"].Bounce,I=i["h"].RoughEase,D=i["h"].SlowMo,N=i["h"].SteppedEase,U=i["h"].Circ,B=i["h"].Expo,j=i["h"].Sine,F=i["h"].ExpoScaleEase,z=r;z._autoActivated=[d,p,a,o,k,s,h,O,L,R,I,D,N,U,B,j,F],n.d(e,"b",function(){return i["g"]}),n.d(e,"a",function(){return i["c"]})},d010:function(t,e,n){"use strict";function i(t,e,n){this.$children.forEach(function(r){var a=r.$options.componentName;a===t?r.$emit.apply(r,[e].concat(n)):i.apply(r,[t,e].concat([n]))})}e.__esModule=!0,e.default={methods:{dispatch:function(t,e,n){var i=this.$parent||this.$root,r=i.$options.componentName;while(i&&(!r||r!==t))i=i.$parent,i&&(r=i.$options.componentName);i&&i.$emit.apply(i,[e].concat(n))},broadcast:function(t,e,n){i.call(this,t,e,n)}}}},d024:function(t,e,n){"use strict";var i=n("21d0"),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty,o=function(t,e,n){for(var i=0,r=t.length;i<r;i++)a.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))},s=function(t,e,n){for(var i=0,r=t.length;i<r;i++)null==n?e(t.charAt(i),i,t):e.call(n,t.charAt(i),i,t)},u=function(t,e,n){for(var i in t)a.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))},l=function(t,e,n){if(!i(e))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===r.call(t)?o(t,e,a):"string"===typeof t?s(t,e,a):u(t,e,a)};t.exports=l},d02c:function(t,e){var n=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function i(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function r(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function a(){this.values=n(null)}function o(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if("string"===typeof r[a]){var o=r[a].split(n);if(2===o.length){var s=o[0],u=o[1];e(s,u)}}}function s(t,e,n){var s=t;function u(){var e=r(t);if(null===e)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(t,e){var i=new a;o(t,function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),o=a[0];i.integer(t,o),i.percent(t,o)&&i.set("snapToLines",!1),i.alt(t,o,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start","middle","end"]);break;case"position":a=e.split(","),i.percent(t,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start","middle","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","middle","end","left","right"]);break}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical",""),e.line=i.get("line","auto"),e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align","middle"),e.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function c(){t=t.replace(/^\s+/,"")}if(c(),e.startTime=u(),c(),"--\x3e"!==t.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);t=t.substr(3),c(),e.endTime=u(),c(),l(t,e)}i.prototype=n(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var u={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â€Ž","&rlm;":"â€","&nbsp;":"Â "},l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},c={v:"title",lang:"lang"},h={rt:"ruby"};function d(t,e){function n(){if(!e)return null;function t(t){return e=e.substr(t.length),t}var n=e.match(/^([^<]*)(<[^>]*>?)?/);return t(n[1]?n[1]:n[2])}function i(t){return u[t]}function a(t){while(y=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))t=t.replace(y[0],i);return t}function o(t,e){return!h[e.localName]||h[e.localName]===t.localName}function s(e,n){var i=l[e];if(!i)return null;var r=t.document.createElement(i);r.localName=i;var a=c[e];return a&&n&&(r[a]=n.trim()),r}var d,p=t.document.createElement("div"),f=p,m=[];while(null!==(d=n()))if("<"!==d[0])f.appendChild(t.document.createTextNode(a(d)));else{if("/"===d[1]){m.length&&m[m.length-1]===d.substr(2).replace(">","")&&(m.pop(),f=f.parentNode);continue}var g,v=r(d.substr(1,d.length-2));if(v){g=t.document.createProcessingInstruction("timestamp",v),f.appendChild(g);continue}var y=d.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(g=s(y[1],y[3]),!g)continue;if(!o(f,g))continue;y[2]&&(g.className=y[2].substr(1).replace("."," ")),m.push(y[1]),f.appendChild(g),f=g}return p}var p=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function f(t){for(var e=0;e<p.length;e++){var n=p[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function m(t){var e,n=[],i="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function a(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?(t.length=0,i[0]):n}return"ruby"===e.tagName?a(t):e.childNodes?(r(t,e),a(t)):void 0}r(n,t);while(i=a(n))for(var o=0;o<i.length;o++)if(e=i.charCodeAt(o),f(e))return"rtl";return"ltr"}function g(t){if("number"===typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}function v(){}function y(t,e,n){v.call(this),this.cue=e,this.cueDiv=d(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:m(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"middle":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function _(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function b(t,e,n,i){function r(t,e){for(var r,a=new _(t),o=1,s=0;s<e.length;s++){while(t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i))t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);o>u&&(r=new _(t),o=u),t=new _(a)}return r||a}var a=new _(e),o=e.cue,s=g(o),u=[];if(o.snapToLines){var l;switch(o.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width";break}var c=a.lineHeight,h=c*Math.round(s),d=n[l]+c,p=u[0];Math.abs(h)>d&&(h=h<0?-1:1,h*=Math.ceil(d/c)*c),s<0&&(h+=""===o.vertical?n.height:n.width,u=u.reverse()),a.move(p,h)}else{var f=a.lineHeight/n.height*100;switch(o.lineAlign){case"middle":s-=f/2;break;case"end":s-=f;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")});break}u=["+y","-x","+x","-y"],a=new _(e)}var m=r(a,u);e.move(m.toCSSCompatValues(n))}function w(){}v.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},v.prototype.formatStyle=function(t,e){return 0===t?0:t+e},y.prototype=n(v.prototype),y.prototype.constructor=y,_.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},_.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},_.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},_.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},_.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},_.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)},_.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},_.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r},w.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},w.convertCueToDOMTree=function(t,e){return t&&e?d(t,e):null};var x=.05,T="sans-serif",S="1.5%";w.processCues=function(t,e,n){if(!t||!e||!n)return null;while(n.firstChild)n.removeChild(n.firstChild);var i=t.document.createElement("div");function r(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=S,n.appendChild(i),r(e)){var a=[],o=_.getSimpleBoxPosition(i),s=Math.round(o.height*x*100)/100,u={font:s+"px "+T};(function(){for(var n,r,s=0;s<e.length;s++)r=e[s],n=new y(t,r,u),i.appendChild(n.div),b(t,n,o,a),r.displayState=n.div,a.push(_.getSimpleBoxPosition(n))})()}else for(var l=0;l<e.length;l++)i.appendChild(e[l].displayState)},w.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},w.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof i))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){var t=e.buffer,n=0;while(n<t.length&&"\r"!==t[n]&&"\n"!==t[n])++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function u(t){var n=new a;if(o(t,function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var r=new a;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(t+"X",r.get("x")),n.set(t+"Y",r.get("y"));break;case"scroll":n.alt(t,e,["up"]);break}},/=/,/\s/),n.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:n.get("id"),region:i})}}function l(t){var n=new a;o(t,function(t,e){switch(t){case"MPEGT":n.integer(t+"S",e);break;case"LOCA":n.set(t+"L",r(e));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}function c(t){t.match(/X-TIMESTAMP-MAP/)?o(t,function(t,e){switch(t){case"X-TIMESTAMP-MAP":l(e);break}},/=/):o(t,function(t,e){switch(t){case"Region":u(e);break}},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var h;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;h=n();var d=h.match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new i(i.Errors.BadSignature);e.state="HEADER"}var p=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(p?p=!1:h=n(),e.state){case"HEADER":/:/.test(h)?c(h):h||(e.state="ID");continue;case"NOTE":h||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){e.state="NOTE";break}if(!h)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===h.indexOf("--\x3e")){e.cue.id=h;continue}case"CUE":try{s(h,e.cue,e.regionList)}catch(m){e.reportOrThrowError(m),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=-1!==h.indexOf("--\x3e");if(!h||f&&(p=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=h;continue;case"BADCUE":h||(e.state="ID");continue}}}catch(m){e.reportOrThrowError(m),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new i(i.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=w},d136:function(t,e,n){(function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),e=e.trim(),!e){if(!n.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+a.path;l.path=o.normalizePath(h)}else l.path=s.path,a.params||(l.params=s.params,a.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){t=t.split("").reverse().join("").replace(r,"");while(t.length!==(t=t.replace(a,"")).length);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o})()},d185:function(t,e,n){var i=n("11e9"),r=n("38fd"),a=n("69a8"),o=n("5ca1"),s=n("d3f4"),u=n("cb7c");function l(t,e){var n,o,c=arguments.length<3?t:arguments[2];return u(t)===c?t[e]:(n=i.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:s(o=r(t))?l(o,e,c):void 0}o(o.S,"Reflect",{get:l})},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d4ab:function(t,e,n){"use strict";var i=Object.prototype.toString;t.exports=function(t){var e=i.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===i.call(t.callee)),n}},d4c0:function(t,e,n){var i=n("0d58"),r=n("2621"),a=n("52a7");t.exports=function(t){var e=i(t),n=r.f;if(n){var o,s=n(t),u=a.f,l=0;while(s.length>l)u.call(t,o=s[l++])&&e.push(o)}return e}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d6c7:function(t,e,n){"use strict";var i=Array.prototype.slice,r=n("d4ab"),a=Object.keys,o=a?function(t){return a(t)}:n("b189"),s=Object.keys;o.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return r(t)?s(i.call(t)):s(t)})}else Object.keys=o;return Object.keys||o},t.exports=o},d7d1:function(t,e,n){"use strict";var i;(function(r){var a={},o=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s="\\d\\d?",u="\\d{3}",l="\\d{4}",c="[^\\s]+",h=/\[([^]*?)\]/gm,d=function(){};function p(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")}function f(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}function m(t){return function(e,n,i){var r=i[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(e.month=r)}}function g(t,e){t=String(t),e=e||2;while(t.length<e)t="0"+t;return t}var v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],_=f(y,3),b=f(v,3);a.i18n={dayNamesShort:b,dayNames:v,monthNamesShort:_,monthNames:y,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10)*t%10]}};var w={D:function(t){return t.getDay()},DD:function(t){return g(t.getDay())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDate()},dd:function(t){return g(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return g(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return g(String(t.getFullYear()),4).substr(2)},yyyy:function(t){return g(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return g(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return g(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return g(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return g(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return g(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return g(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+g(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},x={d:[s,function(t,e){t.day=e}],Do:[s+c,function(t,e){t.day=parseInt(e,10)}],M:[s,function(t,e){t.month=e-1}],yy:[s,function(t,e){var n=new Date,i=+(""+n.getFullYear()).substr(0,2);t.year=""+(e>68?i-1:i)+e}],h:[s,function(t,e){t.hour=e}],m:[s,function(t,e){t.minute=e}],s:[s,function(t,e){t.second=e}],yyyy:[l,function(t,e){t.year=e}],S:["\\d",function(t,e){t.millisecond=100*e}],SS:["\\d{2}",function(t,e){t.millisecond=10*e}],SSS:[u,function(t,e){t.millisecond=e}],D:[s,d],ddd:[c,d],MMM:[c,m("monthNamesShort")],MMMM:[c,m("monthNames")],a:[c,function(t,e,n){var i=e.toLowerCase();i===n.amPm[0]?t.isPm=!1:i===n.amPm[1]&&(t.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(t,e){var n,i=(e+"").match(/([+-]|\d\d)/gi);i&&(n=60*i[1]+parseInt(i[2],10),t.timezoneOffset="+"===i[0]?n:-n)}]};x.dd=x.d,x.dddd=x.ddd,x.DD=x.D,x.mm=x.m,x.hh=x.H=x.HH=x.h,x.MM=x.M,x.ss=x.s,x.A=x.a,a.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},a.format=function(t,e,n){var i=n||a.i18n;if("number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");e=a.masks[e]||e||a.masks["default"];var r=[];return e=e.replace(h,function(t,e){return r.push(e),"@@@"}),e=e.replace(o,function(e){return e in w?w[e](t,i):e.slice(1,e.length-1)}),e.replace(/@@@/g,function(){return r.shift()})},a.parse=function(t,e,n){var i=n||a.i18n;if("string"!==typeof e)throw new Error("Invalid format in fecha.parse");if(e=a.masks[e]||e,t.length>1e3)return null;var r={},s=[],u=[];e=e.replace(h,function(t,e){return u.push(e),"@@@"});var l=p(e).replace(o,function(t){if(x[t]){var e=x[t];return s.push(e[1]),"("+e[0]+")"}return t});l=l.replace(/@@@/g,function(){return u.shift()});var c=t.match(new RegExp(l,"i"));if(!c)return null;for(var d=1;d<c.length;d++)s[d-1](r,c[d],i);var f,m=new Date;return!0===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12===+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,f=new Date(Date.UTC(r.year||m.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):f=new Date(r.year||m.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0),f},t.exports?t.exports=a:(i=function(){return a}.call(e,n,e,t),void 0===i||(t.exports=i))})()},d864:function(t,e,n){var i=n("79aa");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d940:function(t,e,n){"use strict";e.__esModule=!0,e.validateRangeInOneMonth=e.extractTimeFormat=e.extractDateFormat=e.nextYear=e.prevYear=e.nextMonth=e.prevMonth=e.changeYearMonthAndClampDate=e.timeWithinRange=e.limitTimeRange=e.clearMilliseconds=e.clearTime=e.modifyWithTimeString=e.modifyTime=e.modifyDate=e.range=e.getRangeMinutes=e.getMonthDays=e.getPrevMonthLastDays=e.getRangeHours=e.getWeekNumber=e.getStartDateOfMonth=e.nextDate=e.prevDate=e.getFirstDayOfMonth=e.getDayCountOfYear=e.getDayCountOfMonth=e.parseDate=e.formatDate=e.isDateObject=e.isDate=e.toDate=e.getI18nSettings=void 0;var i=n("d7d1"),r=o(i),a=n("4897");function o(t){return t&&t.__esModule?t:{default:t}}var s=["sun","mon","tue","wed","thu","fri","sat"],u=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],l=function(t,e){for(var n=[],i=t;i<=e;i++)n.push(i);return n},c=e.getI18nSettings=function(){return{dayNamesShort:s.map(function(t){return(0,a.t)("el.datepicker.weeks."+t)}),dayNames:s.map(function(t){return(0,a.t)("el.datepicker.weeks."+t)}),monthNamesShort:u.map(function(t){return(0,a.t)("el.datepicker.months."+t)}),monthNames:u.map(function(t,e){return(0,a.t)("el.datepicker.month"+(e+1))}),amPm:["am","pm"]}},h=e.toDate=function(t){return d(t)?new Date(t):null},d=e.isDate=function(t){return null!==t&&void 0!==t&&(!isNaN(new Date(t).getTime())&&!Array.isArray(t))},p=(e.isDateObject=function(t){return t instanceof Date},e.formatDate=function(t,e){return t=h(t),t?r.default.format(t,e||"yyyy-MM-dd",c()):""},e.parseDate=function(t,e){return r.default.parse(t,e||"yyyy-MM-dd",c())}),f=e.getDayCountOfMonth=function(t,e){return 3===e||5===e||8===e||10===e?30:1===e?t%4===0&&t%100!==0||t%400===0?29:28:31},m=(e.getDayCountOfYear=function(t){var e=t%400===0||t%100!==0&&t%4===0;return e?366:365},e.getFirstDayOfMonth=function(t){var e=new Date(t.getTime());return e.setDate(1),e.getDay()},e.prevDate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(t.getFullYear(),t.getMonth(),t.getDate()-e)});e.nextDate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},e.getStartDateOfMonth=function(t,e){var n=new Date(t,e,1),i=n.getDay();return m(n,0===i?7:i)},e.getWeekNumber=function(t){if(!d(t))return null;var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},e.getRangeHours=function(t){var e=[],n=[];if((t||[]).forEach(function(t){var e=t.map(function(t){return t.getHours()});n=n.concat(l(e[0],e[1]))}),n.length)for(var i=0;i<24;i++)e[i]=-1===n.indexOf(i);else for(var r=0;r<24;r++)e[r]=!1;return e},e.getPrevMonthLastDays=function(t,e){if(e<=0)return[];var n=new Date(t.getTime());n.setDate(0);var i=n.getDate();return v(e).map(function(t,n){return i-(e-n-1)})},e.getMonthDays=function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0),n=e.getDate();return v(n).map(function(t,e){return e+1})};function g(t,e,n,i){for(var r=e;r<n;r++)t[r]=i}e.getRangeMinutes=function(t,e){var n=new Array(60);return t.length>0?t.forEach(function(t){var i=t[0],r=t[1],a=i.getHours(),o=i.getMinutes(),s=r.getHours(),u=r.getMinutes();a===e&&s!==e?g(n,o,60,!0):a===e&&s===e?g(n,o,u+1,!0):a!==e&&s===e?g(n,0,u+1,!0):a<e&&s>e&&g(n,0,60,!0)}):g(n,0,60,!0),n};var v=e.range=function(t){return Array.apply(null,{length:t}).map(function(t,e){return e})},y=e.modifyDate=function(t,e,n,i){return new Date(e,n,i,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},_=e.modifyTime=function(t,e,n,i){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e,n,i,t.getMilliseconds())},b=(e.modifyWithTimeString=function(t,e){return null!=t&&e?(e=p(e,"HH:mm:ss"),_(t,e.getHours(),e.getMinutes(),e.getSeconds())):t},e.clearTime=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.clearMilliseconds=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),0)},e.limitTimeRange=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm:ss";if(0===e.length)return t;var i=function(t){return r.default.parse(r.default.format(t,n),n)},a=i(t),o=e.map(function(t){return t.map(i)});if(o.some(function(t){return a>=t[0]&&a<=t[1]}))return t;var s=o[0][0],u=o[0][0];o.forEach(function(t){s=new Date(Math.min(t[0],s)),u=new Date(Math.max(t[1],s))});var l=a<s?s:u;return y(l,t.getFullYear(),t.getMonth(),t.getDate())}),w=(e.timeWithinRange=function(t,e,n){var i=b(t,e,n);return i.getTime()===t.getTime()},e.changeYearMonthAndClampDate=function(t,e,n){var i=Math.min(t.getDate(),f(e,n));return y(t,e,n,i)});e.prevMonth=function(t){var e=t.getFullYear(),n=t.getMonth();return 0===n?w(t,e-1,11):w(t,e,n-1)},e.nextMonth=function(t){var e=t.getFullYear(),n=t.getMonth();return 11===n?w(t,e+1,0):w(t,e,n+1)},e.prevYear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.getFullYear(),i=t.getMonth();return w(t,n-e,i)},e.nextYear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.getFullYear(),i=t.getMonth();return w(t,n+e,i)},e.extractDateFormat=function(t){return t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim()},e.extractTimeFormat=function(t){return t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()},e.validateRangeInOneMonth=function(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}},d9f6:function(t,e,n){var i=n("e4ae"),r=n("794b"),a=n("1bc3"),o=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return o(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},dbdb:function(t,e,n){var i=n("584a"),r=n("e53d"),a="__core-js_shared__",o=r[a]||(r[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("b8e3")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},dc3e:function(t,e,n){"use strict";var i=n("ae75"),r=n("256f").handleRollover,a={};a.ts=n("423e"),a.aac=n("fbd0");var o=9e4,s=188,u=71,l=function(t,e){var n,i,r=0,o=s;while(o<t.byteLength)if(t[r]!==u||t[o]!==u)r++,o++;else{switch(n=t.subarray(r,o),i=a.ts.parseType(n,e.pid),i){case"pat":e.pid||(e.pid=a.ts.parsePat(n));break;case"pmt":e.table||(e.table=a.ts.parsePmt(n));break;default:break}if(e.pid&&e.table)return;r+=s,o+=s}},c=function(t,e,n){var i,r,o,l,c,h=0,d=s,p=!1;while(d<=t.byteLength)if(t[h]!==u||t[d]!==u&&d!==t.byteLength)h++,d++;else{switch(i=t.subarray(h,d),r=a.ts.parseType(i,e.pid),r){case"pes":o=a.ts.parsePesType(i,e.table),l=a.ts.parsePayloadUnitStartIndicator(i),"audio"===o&&l&&(c=a.ts.parsePesTime(i),c&&(c.type="audio",n.audio.push(c),p=!0));break;default:break}if(p)break;h+=s,d+=s}d=t.byteLength,h=d-s,p=!1;while(h>=0)if(t[h]!==u||t[d]!==u&&d!==t.byteLength)h--,d--;else{switch(i=t.subarray(h,d),r=a.ts.parseType(i,e.pid),r){case"pes":o=a.ts.parsePesType(i,e.table),l=a.ts.parsePayloadUnitStartIndicator(i),"audio"===o&&l&&(c=a.ts.parsePesTime(i),c&&(c.type="audio",n.audio.push(c),p=!0));break;default:break}if(p)break;h-=s,d-=s}},h=function(t,e,n){var i,r,o,l,c,h,d,p,f=0,m=s,g=!1,v={data:[],size:0};while(m<t.byteLength)if(t[f]!==u||t[m]!==u)f++,m++;else{switch(i=t.subarray(f,m),r=a.ts.parseType(i,e.pid),r){case"pes":if(o=a.ts.parsePesType(i,e.table),l=a.ts.parsePayloadUnitStartIndicator(i),"video"===o&&(l&&!g&&(c=a.ts.parsePesTime(i),c&&(c.type="video",n.video.push(c),g=!0)),!n.firstKeyFrame)){if(l&&0!==v.size){h=new Uint8Array(v.size),d=0;while(v.data.length)p=v.data.shift(),h.set(p,d),d+=p.byteLength;if(a.ts.videoPacketContainsKeyFrame(h)){var y=a.ts.parsePesTime(h);y?(n.firstKeyFrame=y,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}v.size=0}v.data.push(i),v.size+=i.byteLength}break;default:break}if(g&&n.firstKeyFrame)break;f+=s,m+=s}m=t.byteLength,f=m-s,g=!1;while(f>=0)if(t[f]!==u||t[m]!==u)f--,m--;else{switch(i=t.subarray(f,m),r=a.ts.parseType(i,e.pid),r){case"pes":o=a.ts.parsePesType(i,e.table),l=a.ts.parsePayloadUnitStartIndicator(i),"video"===o&&l&&(c=a.ts.parsePesTime(i),c&&(c.type="video",n.video.push(c),g=!0));break;default:break}if(g)break;f-=s,m-=s}},d=function(t,e){if(t.audio&&t.audio.length){var n=e;"undefined"===typeof n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=r(t.dts,n),t.pts=r(t.pts,n),t.dtsTime=t.dts/o,t.ptsTime=t.pts/o})}if(t.video&&t.video.length){var i=e;if("undefined"===typeof i&&(i=t.video[0].dts),t.video.forEach(function(t){t.dts=r(t.dts,i),t.pts=r(t.pts,i),t.dtsTime=t.dts/o,t.ptsTime=t.pts/o}),t.firstKeyFrame){var a=t.firstKeyFrame;a.dts=r(a.dts,i),a.pts=r(a.pts,i),a.dtsTime=a.dts/o,a.ptsTime=a.dts/o}}},p=function(t){var e,n=!1,i=0,r=null,s=null,u=0,l=0;while(t.length-l>=3){var c=a.aac.parseType(t,l);switch(c){case"timed-metadata":if(t.length-l<10){n=!0;break}if(u=a.aac.parseId3TagSize(t,l),u>t.length){n=!0;break}null===s&&(e=t.subarray(l,l+u),s=a.aac.parseAacTimestamp(e)),l+=u;break;case"audio":if(t.length-l<7){n=!0;break}if(u=a.aac.parseAdtsSize(t,l),u>t.length){n=!0;break}null===r&&(e=t.subarray(l,l+u),r=a.aac.parseSampleRate(e)),i++,l+=u;break;default:l++;break}if(n)return null}if(null===r||null===s)return null;var h=o/r,d={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*i*h,pts:s+1024*i*h}]};return d},f=function(t){var e={pid:null,table:null},n={};for(var r in l(t,e),e.table)if(e.table.hasOwnProperty(r)){var a=e.table[r];switch(a){case i.H264_STREAM_TYPE:n.video=[],h(t,e,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],c(t,e,n),0===n.audio.length&&delete n.audio;break;default:break}}return n},m=function(t,e){var n,i=a.aac.isLikelyAacData(t);return n=i?p(t):f(t),n&&(n.audio||n.video)?(d(n,e),n):null};t.exports={inspect:m,parseAudioPes_:c}},dc6d:function(t,e,n){"use strict";var i=4,r=128,a=function(t){var e=0,n={payloadType:-1,payloadSize:0},a=0,o=0;while(e<t.byteLength){if(t[e]===r)break;while(255===t[e])a+=255,e++;a+=t[e++];while(255===t[e])o+=255,e++;if(o+=t[e++],!n.payload&&a===i){n.payloadType=a,n.payloadSize=o,n.payload=t.subarray(e,e+o);break}e+=o,a=0,o=0}return n},o=function(t){return 181!==t.payload[0]?null:49!==(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},s=function(t,e){var n,i,r,a,o=[];if(!(64&e[0]))return o;for(i=31&e[0],n=0;n<i;n++)r=3*n,a={type:3&e[r+2],pts:t},4&e[r+2]&&(a.ccData=e[r+3]<<8|e[r+4],o.push(a));return o},u=function(t){var e,n,i=t.byteLength,r=[],a=1;while(a<i-2)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n};t.exports={parseSei:a,parseUserData:o,parseCaptionPackets:s,discardEmulationPreventionBytes:u,USER_DATA_REGISTERED_ITU_T_T35:i}},dcbc:function(t,e,n){var i=n("2aba");t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},dcdc:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=105)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},105:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{role:"checkbox","aria-checked":t.indeterminate?"mixed":t.isChecked,"aria-disabled":t.isDisabled,id:t.id}},[n("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{"aria-checked":"mixed"}},[n("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":"true",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var n=t.model,i=e.target,r=i.checked?t.trueLabel:t.falseLabel;if(Array.isArray(n)){var a=null,o=t._i(n,a);i.checked?o<0&&(t.model=n.concat([a])):o>-1&&(t.model=n.slice(0,o).concat(n.slice(o+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":"true",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var n=t.model,i=e.target,r=!!i.checked;if(Array.isArray(n)){var a=t.label,o=t._i(n,a);i.checked?o<0&&(t.model=n.concat([a])):o>-1&&(t.model=n.slice(0,o).concat(n.slice(o+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?n("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])},r=[];i._withStripped=!0;var a=n(4),o=n.n(a),s={name:"ElCheckbox",mixins:[o.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){var t=this.$parent;while(t){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,n=t.min;return!(!e&&!n)&&this.model.length>=e&&!this.isChecked||this.model.length<=n&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var n=void 0;n=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",n,t),this.$nextTick(function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},u=s,l=n(0),c=Object(l["a"])(u,i,r,!1,null,null,null);c.options.__file="packages/checkbox/src/checkbox.vue";var h=c.exports;h.install=function(t){t.component(h.name,h)};e["default"]=h},4:function(t,e){t.exports=n("d010")}})},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},dd87:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=97)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},97:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.lazy||t.loaded||t.active?n("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!t.active,id:"pane-"+t.paneName,"aria-labelledby":"tab-"+t.paneName}},[t._t("default")],2):t._e()},r=[];i._withStripped=!0;var a={name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var t=this.$parent.currentName===(this.name||this.index);return t&&(this.loaded=!0),t},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},o=a,s=n(0),u=Object(s["a"])(o,i,r,!1,null,null,null);u.options.__file="packages/tabs/src/tab-pane.vue";var l=u.exports;l.install=function(t){t.component(l.name,l)};e["default"]=l}})},defb:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=86)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},5:function(t,e){t.exports=n("e974")},86:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[t.size&&"el-dropdown-menu--"+t.size]},[t._t("default")],2)])},r=[];i._withStripped=!0;var a=n(5),o=n.n(a),s={name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[o.a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var t=this;this.$on("updatePopper",function(){t.showPopper&&t.updatePopper()}),this.$on("visible",function(e){t.showPopper=e})},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(t){this.currentPlacement=t}}}},u=s,l=n(0),c=Object(l["a"])(u,i,r,!1,null,null,null);c.options.__file="packages/dropdown/src/dropdown-menu.vue";var h=c.exports;h.install=function(t){t.component(h.name,h)};e["default"]=h}})},df33:function(t,e){function n(t){if(t&&"object"===typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"===typeof t)return o[t];var n=String(t),a=i[n.toLowerCase()];if(a)return a;a=r[n.toLowerCase()];return a||(1===n.length?n.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"===typeof t){var n=t.which||t.keyCode||t.charCode;if(null===n||void 0===n)return!1;if("string"===typeof e){var a=i[e.toLowerCase()];if(a)return a===n;a=r[e.toLowerCase()];if(a)return a===n}else if("number"===typeof e)return e===n;return!1}},e=t.exports=n;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"â‡§":16,"âŒ¥":18,"âŒƒ":17,"âŒ˜":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var o=e.names=e.title={};for(a in i)o[i[a]]=a;for(var s in r)i[s]=r[s]},e05f:function(t,e,n){},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e450:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=92)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},11:function(t,e){t.exports=n("f3ad")},2:function(t,e){t.exports=n("5924")},21:function(t,e){t.exports=n("12f2")},30:function(t,e,n){"use strict";var i=n(2);e["a"]={bind:function(t,e,n){var r=null,a=void 0,o=function(){return n.context[e.expression].apply()},s=function(){Date.now()-a<100&&o(),clearInterval(r),r=null};Object(i["on"])(t,"mousedown",function(t){0===t.button&&(a=Date.now(),Object(i["once"])(document,"mouseup",s),clearInterval(r),r=setInterval(o,100))})}}},92:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?n("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[n("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?n("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[n("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),n("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)},r=[];i._withStripped=!0;var a=n(11),o=n.n(a),s=n(21),u=n.n(s),l=n(30),c={name:"ElInputNumber",mixins:[u()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:l["a"]},components:{ElInput:o.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return t>=0&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var n=this.getPrecision(this.step),i=Math.pow(10,n);e=Math.round(e/this.step)*i*this.step/i}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,n=this.getPrecision,i=this.precision,r=n(e);return void 0!==i?(r>i&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),i):Math.max(n(t),r)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if("number"===typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),n=Math.pow(10,e);t=Math.round(t/this.step)*n*this.step/n}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),n=e.indexOf("."),i=0;return-1!==n&&(i=e.length-n-1),i},_increase:function(t,e){if("number"!==typeof t&&void 0!==t)return this.currentValue;var n=Math.pow(10,this.numPrecision);return this.toPrecision((n*t+n*e)/n)},_decrease:function(t,e){if("number"!==typeof t&&void 0!==t)return this.currentValue;var n=Math.pow(10,this.numPrecision);return this.toPrecision((n*t-n*e)/n)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},setCurrentValue:function(t){var e=this.currentValue;"number"===typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit("input",t),this.$emit("change",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=""===t?void 0:Number(t);isNaN(e)&&""!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute("role","spinbutton"),t.setAttribute("aria-valuemax",this.max),t.setAttribute("aria-valuemin",this.min),t.setAttribute("aria-valuenow",this.currentValue),t.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){if(this.$refs&&this.$refs.input){var t=this.$refs.input.$refs.input;t.setAttribute("aria-valuenow",this.currentValue)}}},h=c,d=n(0),p=Object(d["a"])(h,i,r,!1,null,null,null);p.options.__file="packages/input-number/src/input-number.vue";var f=p.exports;f.install=function(t){t.component(f.name,f)};e["default"]=f}})},e452:function(t,e,n){"use strict";e.__esModule=!0;var i=i||{};i.Utils=i.Utils||{},i.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if(i.Utils.attemptFocus(n)||i.Utils.focusFirstDescendant(n))return!0}return!1},i.Utils.focusLastDescendant=function(t){for(var e=t.childNodes.length-1;e>=0;e--){var n=t.childNodes[e];if(i.Utils.attemptFocus(n)||i.Utils.focusLastDescendant(n))return!0}return!1},i.Utils.attemptFocus=function(t){if(!i.Utils.isFocusable(t))return!1;i.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(e){}return i.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},i.Utils.isFocusable=function(t){if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},i.Utils.triggerEvent=function(t,e){var n=void 0;n=/^mouse|click/.test(e)?"MouseEvents":/^key/.test(e)?"KeyboardEvent":"HTMLEvents";for(var i=document.createEvent(n),r=arguments.length,a=Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];return i.initEvent.apply(i,[e].concat(a)),t.dispatchEvent?t.dispatchEvent(i):t.fireEvent("on"+e,i),t},i.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},e.default=i.Utils},e4ae:function(t,e,n){var i=n("f772");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e612:function(t,e,n){},e62d:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){if(r.default.prototype.$isServer)return 0;if(void 0!==o)return o;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),o=e-i,o};var i=n("2b0e"),r=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var o=void 0},e6f3:function(t,e,n){var i=n("07e3"),r=n("36c3"),a=n("5b4e")(!1),o=n("5559")("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)n!=o&&i(s,n)&&l.push(n);while(e.length>u)i(s,n=e[u++])&&(~a(l,n)||l.push(n));return l}},e974:function(t,e,n){"use strict";e.__esModule=!0;var i=n("2b0e"),r=o(i),a=n("5128");function o(t){return t&&t.__esModule?t:{default:t}}var s=r.default.prototype.$isServer?function(){}:n("6167"),u=function(t){return t.stopPropagation()};e.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(t){this.showPopper=t,this.$emit("input",t)}},showPopper:function(t){this.disabled||(t?this.updatePopper():this.destroyPopper(),this.$emit("input",t))}},methods:{createPopper:function(){var t=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var e=this.popperOptions,n=this.popperElm=this.popperElm||this.popper||this.$refs.popper,i=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!i&&this.$slots.reference&&this.$slots.reference[0]&&(i=this.referenceElm=this.$slots.reference[0].elm),n&&i&&(this.visibleArrow&&this.appendArrow(n),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new s(i,n,e),this.popperJS.onCreate(function(e){t.$emit("created",t),t.resetTransformOrigin(),t.$nextTick(t.updatePopper)}),"function"===typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=a.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",u))}},updatePopper:function(){var t=this.popperJS;t?(t.update(),t._popper&&(t._popper.style.zIndex=a.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(t){!this.popperJS||this.showPopper&&!t||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var t={top:"bottom",bottom:"top",left:"right",right:"left"},e=this.popperJS._popper.getAttribute("x-placement").split("-")[0],n=t[e];this.popperJS._popper.style.transformOrigin="string"===typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(e)>-1?"center "+n:n+" center"}},appendArrow:function(t){var e=void 0;if(!this.appended){for(var n in this.appended=!0,t.attributes)if(/^_v-/.test(t.attributes[n].name)){e=t.attributes[n].name;break}var i=document.createElement("div");e&&i.setAttribute(e,""),i.setAttribute("x-arrow",""),i.className="popper__arrow",t.appendChild(i)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",u),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},e9ac:function(t,e,n){"use strict";var i,r,a,o,s=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator,l=Object.getPrototypeOf||function(t){return t.__proto__},c=r?l(r):i,h=a?a.constructor:i,d=o?l(o):i,p=o?o():i,f="undefined"===typeof Uint8Array?i:l(Uint8Array),m={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"===typeof ArrayBuffer?i:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?i:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":u?l([][Symbol.iterator]()):i,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":i,"$ %AsyncFunction%":h,"$ %AsyncFunctionPrototype%":h?h.prototype:i,"$ %AsyncGenerator%":o?l(p):i,"$ %AsyncGeneratorFunction%":d,"$ %AsyncGeneratorPrototype%":d?d.prototype:i,"$ %AsyncIteratorPrototype%":p&&u&&Symbol.asyncIterator?p[Symbol.asyncIterator]():i,"$ %Atomics%":"undefined"===typeof Atomics?i:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"===typeof DataView?i:DataView,"$ %DataViewPrototype%":"undefined"===typeof DataView?i:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"===typeof Float32Array?i:Float32Array,"$ %Float32ArrayPrototype%":"undefined"===typeof Float32Array?i:Float32Array.prototype,"$ %Float64Array%":"undefined"===typeof Float64Array?i:Float64Array,"$ %Float64ArrayPrototype%":"undefined"===typeof Float64Array?i:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":r?l(r()):i,"$ %GeneratorFunction%":c,"$ %GeneratorPrototype%":c?c.prototype:i,"$ %Int8Array%":"undefined"===typeof Int8Array?i:Int8Array,"$ %Int8ArrayPrototype%":"undefined"===typeof Int8Array?i:Int8Array.prototype,"$ %Int16Array%":"undefined"===typeof Int16Array?i:Int16Array,"$ %Int16ArrayPrototype%":"undefined"===typeof Int16Array?i:Int8Array.prototype,"$ %Int32Array%":"undefined"===typeof Int32Array?i:Int32Array,"$ %Int32ArrayPrototype%":"undefined"===typeof Int32Array?i:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":u?l(l([][Symbol.iterator]())):i,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"===typeof Map?i:Map,"$ %MapIteratorPrototype%":"undefined"!==typeof Map&&u?l((new Map)[Symbol.iterator]()):i,"$ %MapPrototype%":"undefined"===typeof Map?i:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"===typeof Promise?i:Promise,"$ %PromisePrototype%":"undefined"===typeof Promise?i:Promise.prototype,"$ %PromiseProto_then%":"undefined"===typeof Promise?i:Promise.prototype.then,"$ %Promise_all%":"undefined"===typeof Promise?i:Promise.all,"$ %Promise_reject%":"undefined"===typeof Promise?i:Promise.reject,"$ %Promise_resolve%":"undefined"===typeof Promise?i:Promise.resolve,"$ %Proxy%":"undefined"===typeof Proxy?i:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"===typeof Reflect?i:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"===typeof Set?i:Set,"$ %SetIteratorPrototype%":"undefined"!==typeof Set&&u?l((new Set)[Symbol.iterator]()):i,"$ %SetPrototype%":"undefined"===typeof Set?i:Set.prototype,"$ %SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?i:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?i:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":u?l(""[Symbol.iterator]()):i,"$ %StringPrototype%":String.prototype,"$ %Symbol%":u?Symbol:i,"$ %SymbolPrototype%":u?Symbol.prototype:i,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":s,"$ %TypedArray%":f,"$ %TypedArrayPrototype%":f?f.prototype:i,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"===typeof Uint8Array?i:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?i:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?i:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?i:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"===typeof Uint16Array?i:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?i:Uint16Array.prototype,"$ %Uint32Array%":"undefined"===typeof Uint32Array?i:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?i:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"===typeof WeakMap?i:WeakMap,"$ %WeakMapPrototype%":"undefined"===typeof WeakMap?i:WeakMap.prototype,"$ %WeakSet%":"undefined"===typeof WeakSet?i:WeakSet,"$ %WeakSetPrototype%":"undefined"===typeof WeakSet?i:WeakSet.prototype};t.exports=function(t,e){if(arguments.length>1&&"boolean"!==typeof e)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+t;if(!(n in m))throw new SyntaxError("intrinsic "+t+" does not exist!");if("undefined"===typeof m[n]&&!e)throw new TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return m[n]}},ebd6:function(t,e,n){var i=n("cb7c"),r=n("d8e8"),a=n("2b4c")("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||void 0==(n=i(o)[a])?e:r(n)}},ebfd:function(t,e,n){var i=n("62a0")("meta"),r=n("f772"),a=n("07e3"),o=n("d9f6").f,s=0,u=Object.isExtensible||function(){return!0},l=!n("294c")(function(){return u(Object.preventExtensions({}))}),c=function(t){o(t,i,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[i].i},d=function(t,e){if(!a(t,i)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[i].w},p=function(t){return l&&f.NEED&&u(t)&&!a(t,i)&&c(t),t},f=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:p}},ed93:function(t,e){var n=9e4,i=function(t,e){"number"===typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"===typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},r=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},a=function(t,e){var i,r,a=t.minSegmentDts;return e||(a-=t.timelineStartInfo.dts),i=t.timelineStartInfo.baseMediaDecodeTime,i+=a,i=Math.max(0,i),"audio"===t.type&&(r=t.samplerate/n,i*=r,i=Math.floor(i)),i};t.exports={clearDtsInfo:r,calculateTrackBaseMediaDecodeTime:a,collectDtsInfo:i}},eec7:function(t,e,n){"use strict";var i=n("be09"),r=n("8362"),a=n("6444"),o=n("53a8");function s(t,e){for(var n=0;n<t.length;n++)e(t[n])}function u(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function l(t,e,n){var i=t;return r(e)?(n=e,"string"===typeof t&&(i={uri:t})):i=o(e,{uri:t}),i.callback=n,i}function c(t,e,n){return e=l(t,e,n),h(e)}function h(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,i,r){e||(e=!0,t.callback(n,i,r))};function i(){4===p.readyState&&setTimeout(s,0)}function r(){var t=void 0;if(t=p.response?p.response:p.responseText||d(p),b)try{t=JSON.parse(t)}catch(e){}return t}function o(t){return clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,w)}function s(){if(!h){var e;clearTimeout(f),e=t.useXDR&&void 0===p.status?200:1223===p.status?204:p.status;var i=w,o=null;return 0!==e?(i={body:r(),statusCode:e,method:g,headers:{},url:m,rawRequest:p},p.getAllResponseHeaders&&(i.headers=a(p.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,i,i.body)}}var l,h,p=t.xhr||null;p||(p=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var f,m=p.url=t.uri||t.url,g=p.method=t.method||"GET",v=t.body||t.data,y=p.headers=t.headers||{},_=!!t.sync,b=!1,w={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:p};if("json"in t&&!1!==t.json&&(b=!0,y["accept"]||y["Accept"]||(y["Accept"]="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(!0===t.json?v:t.json))),p.onreadystatechange=i,p.onload=s,p.onerror=o,p.onprogress=function(){},p.onabort=function(){h=!0},p.ontimeout=o,p.open(g,m,!_,t.username,t.password),_||(p.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(f=setTimeout(function(){if(!h){h=!0,p.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}},t.timeout)),p.setRequestHeader)for(l in y)y.hasOwnProperty(l)&&p.setRequestHeader(l,y[l]);else if(t.headers&&!u(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(p.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(p),p.send(v||null),p}function d(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function p(){}t.exports=c,c.XMLHttpRequest=i.XMLHttpRequest||p,c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:i.XDomainRequest,s(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(e,n,i){return n=l(e,n,i),n.method=t.toUpperCase(),h(n)}})},eedf:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=78)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},78:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?n("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?n("i",{class:t.icon}):t._e(),t.$slots.default?n("span",[t._t("default")],2):t._e()])},r=[];i._withStripped=!0;var a={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},o=a,s=n(0),u=Object(s["a"])(o,i,r,!1,null,null,null);u.options.__file="packages/button/src/button.vue";var l=u.exports;l.install=function(t){t.component(l.name,l)};e["default"]=l}})},ef34:function(t,e,n){(function(e){var i,r="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},a=n(1);"undefined"!==typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=a)),t.exports=i}).call(this,n("c8ba"))},f0d9:function(t,e,n){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"ç¡®å®š",clear:"æ¸…ç©º"},datepicker:{now:"æ­¤åˆ»",today:"ä»Šå¤©",cancel:"å–æ¶ˆ",clear:"æ¸…ç©º",confirm:"ç¡®å®š",selectDate:"é€‰æ‹©æ—¥æœŸ",selectTime:"é€‰æ‹©æ—¶é—´",startDate:"å¼€å§‹æ—¥æœŸ",startTime:"å¼€å§‹æ—¶é—´",endDate:"ç»“æŸæ—¥æœŸ",endTime:"ç»“æŸæ—¶é—´",prevYear:"å‰ä¸€å¹´",nextYear:"åŽä¸€å¹´",prevMonth:"ä¸Šä¸ªæœˆ",nextMonth:"ä¸‹ä¸ªæœˆ",year:"å¹´",month1:"1 æœˆ",month2:"2 æœˆ",month3:"3 æœˆ",month4:"4 æœˆ",month5:"5 æœˆ",month6:"6 æœˆ",month7:"7 æœˆ",month8:"8 æœˆ",month9:"9 æœˆ",month10:"10 æœˆ",month11:"11 æœˆ",month12:"12 æœˆ",weeks:{sun:"æ—¥",mon:"ä¸€",tue:"äºŒ",wed:"ä¸‰",thu:"å››",fri:"äº”",sat:"å…­"},months:{jan:"ä¸€æœˆ",feb:"äºŒæœˆ",mar:"ä¸‰æœˆ",apr:"å››æœˆ",may:"äº”æœˆ",jun:"å…­æœˆ",jul:"ä¸ƒæœˆ",aug:"å…«æœˆ",sep:"ä¹æœˆ",oct:"åæœˆ",nov:"åä¸€æœˆ",dec:"åäºŒæœˆ"}},select:{loading:"åŠ è½½ä¸­",noMatch:"æ— åŒ¹é…æ•°æ®",noData:"æ— æ•°æ®",placeholder:"è¯·é€‰æ‹©"},cascader:{noMatch:"æ— åŒ¹é…æ•°æ®",loading:"åŠ è½½ä¸­",placeholder:"è¯·é€‰æ‹©",noData:"æš‚æ— æ•°æ®"},pagination:{goto:"å‰å¾€",pagesize:"æ¡/é¡µ",total:"å…± {total} æ¡",pageClassifier:"é¡µ"},messagebox:{title:"æç¤º",confirm:"ç¡®å®š",cancel:"å–æ¶ˆ",error:"è¾“å…¥çš„æ•°æ®ä¸åˆæ³•!"},upload:{deleteTip:"æŒ‰ delete é”®å¯åˆ é™¤",delete:"åˆ é™¤",preview:"æŸ¥çœ‹å›¾ç‰‡",continue:"ç»§ç»­ä¸Šä¼ "},table:{emptyText:"æš‚æ— æ•°æ®",confirmFilter:"ç­›é€‰",resetFilter:"é‡ç½®",clearFilter:"å…¨éƒ¨",sumText:"åˆè®¡"},tree:{emptyText:"æš‚æ— æ•°æ®"},transfer:{noMatch:"æ— åŒ¹é…æ•°æ®",noData:"æ— æ•°æ®",titles:["åˆ—è¡¨ 1","åˆ—è¡¨ 2"],filterPlaceholder:"è¯·è¾“å…¥æœç´¢å†…å®¹",noCheckedFormat:"å…± {total} é¡¹",hasCheckedFormat:"å·²é€‰ {checked}/{total} é¡¹"},image:{error:"åŠ è½½å¤±è´¥"},pageHeader:{title:"è¿”å›ž"}}}},f0e2:function(t,e,n){"use strict";n.r(e);var i=n("be09"),r=n.n(i),a=n("ef34"),o=n.n(a),s=n("1b8d"),u=n.n(s),l=n("8c10"),c=n.n(l),h=n("df33"),d=n.n(h),p=n("eec7"),f=n.n(p),m=n("2b8c"),g=n.n(m),v=n("d136"),y=n.n(v);
/*! @name m3u8-parser @version 4.3.0 @license Apache-2.0 */
function _(){return _=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_.apply(this,arguments)}function b(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var x=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e,n,i,r=this.listeners[t];if(r)if(2===arguments.length)for(n=r.length,e=0;e<n;++e)r[e].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),n=r.length,e=0;e<n;++e)r[e].apply(this,i)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),T=function(t){function e(){var e;return e=t.call(this)||this,e.buffer="",e}b(e,t);var n=e.prototype;return n.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(x),S=function(){var t="[^=]*",e='"[^"]*"|[^,]*',n="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+n+")")},E=function(t){var e,n=t.split(S()),i={},r=n.length;while(r--)""!==n[r]&&(e=/([^=]*)=(.*)/.exec(n[r]).slice(1),e[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),i[e[0]]=e[1]);return i},M=function(t){function e(){var e;return e=t.call(this)||this,e.customParsers=[],e.tagMappers=[],e}b(e,t);var n=e.prototype;return n.push=function(t){var e,n,i=this;if(t=t.trim(),0!==t.length)if("#"===t[0]){var r=this.tagMappers.reduce(function(e,n){var i=n(t);return i===t?e:e.concat([i])},[t]);r.forEach(function(t){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t),e)i.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t),e)return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void i.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t),e)return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t),e)return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t),e)return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t),e)return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t),e)return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t),e)return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void i.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t),e)return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void i.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t),e)return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t),e){if(n={type:"tag",tagType:"map"},e[1]){var a=E(e[1]);if(a.URI&&(n.uri=a.URI),a.BYTERANGE){var o=a.BYTERANGE.split("@"),s=o[0],u=o[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}i.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t),e){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=E(e[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t),e)return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=E(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t),e)i.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t),e)i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t),e)return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t),e)return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=E(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t),e)return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=E(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t),e)return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t),e)return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t),e)return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);i.trigger("data",{type:"tag",data:t.slice(4)})}}}else i.trigger("data",{type:"comment",text:t.slice(1)})})}else this.trigger("data",{type:"uri",uri:t})},n.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,a=t.segment;"function"!==typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){var o=n.exec(t);if(o)return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:a}),!0})},n.addTagMapper=function(t){var e=t.expression,n=t.map,i=function(t){return e.test(t)?n(t):t};this.tagMappers.push(i)},e}(x),C=function(t){function e(){var e;e=t.call(this)||this,e.lineStream=new T,e.parseStream=new M,e.lineStream.pipe(e.parseStream);var n,i,r=w(w(e)),a=[],o={},s=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var e,c;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(o.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(o.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(o.duration=t.duration),0===t.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},"undefined"!==typeof t.attributes.IV&&(i.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):i=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,l=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){n={},t.uri&&(n.uri=t.uri),t.byterange&&(n.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes?(o.attributes||(o.attributes={}),_(o.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],c={default:/yes/i.test(t.attributes.DEFAULT)},c.default?c.autoselect=!0:c.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(c.language=t.attributes.LANGUAGE),t.attributes.URI&&(c.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(c.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(c.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(c.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=c}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){l+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),o.dateTimeString=t.dateTimeString,o.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){o.cueOut=t.data},"cue-out-cont":function(){o.cueOutCont=t.data},"cue-in":function(){o.cueIn=t.data}}[t.tagType]||s).call(r)},uri:function(){o.uri=t.uri,a.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),i&&(o.key=i),o.timeline=l,n&&(o.map=n),o={}},comment:function(){},custom:function(){t.segment?(o.custom=o.custom||{},o.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)}),e}b(e,t);var n=e.prototype;return n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(x),A=n("8484"),k=n("9afa"),P=n.n(k),O=n("2806"),L=n.n(O),R=n("28e5"),I=n("dc3e"),D=n.n(I);function N(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}var U=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},B=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),j=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},F=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},z=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,o=void 0,s=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!i[o];o^=c||1,s=l[s]||1)for(p=s^s<<1^s<<2^s<<3^s<<4,p=p>>8^255&p^99,i[o]=p,r[p]=o,d=u[h=u[c=u[o]]],m=16843009*d^65537*h^257*c^16843008*o,f=257*u[p]^16843008*p,a=0;a<4;a++)e[a][o]=f=f<<24^f>>>8,n[a][p]=m=m<<24^m>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t},V=null,H=function(){function t(e){U(this,t),V||(V=z()),this._tables=[[V[0][0].slice(),V[0][1].slice(),V[0][2].slice(),V[0][3].slice(),V[0][4].slice()],[V[1][0].slice(),V[1][1].slice(),V[1][2].slice(),V[1][3].slice(),V[1][4].slice()]];var n=void 0,i=void 0,r=void 0,a=void 0,o=void 0,s=this._tables[0][4],u=this._tables[1],l=e.length,c=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(a=e.slice(0),o=[],this._key=[a,o],n=l;n<4*l+28;n++)r=a[n-1],(n%l===0||8===l&&n%l===4)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],n%l===0&&(r=r<<8^r>>>24^c<<24,c=c<<1^283*(c>>7))),a[n]=a[n-l]^r;for(i=0;n;i++,n--)r=a[3&i?n:n-4],o[i]=n<=4||i<4?r:u[0][s[r>>>24]]^u[1][s[r>>16&255]]^u[2][s[r>>8&255]]^u[3][s[255&r]]}return t.prototype.decrypt=function(t,e,n,i,r,a){var o=this._key[1],s=t^o[0],u=i^o[1],l=n^o[2],c=e^o[3],h=void 0,d=void 0,p=void 0,f=o.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],w=v[3],x=v[4];for(m=0;m<f;m++)h=y[s>>>24]^_[u>>16&255]^b[l>>8&255]^w[255&c]^o[g],d=y[u>>>24]^_[l>>16&255]^b[c>>8&255]^w[255&s]^o[g+1],p=y[l>>>24]^_[c>>16&255]^b[s>>8&255]^w[255&u]^o[g+2],c=y[c>>>24]^_[s>>16&255]^b[u>>8&255]^w[255&l]^o[g+3],g+=4,s=h,u=d,l=p;for(m=0;m<4;m++)r[(3&-m)+a]=x[s>>>24]<<24^x[u>>16&255]<<16^x[l>>8&255]<<8^x[255&c]^o[g++],h=s,s=u,u=l,l=c,c=h},t}(),G=function(){function t(){U(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,o=0;o<a;++o)e[o].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),W=function(t){function e(){U(this,e);var n=F(this,t.call(this,G));return n.jobs=[],n.delay=1,n.timeout_=null,n}return j(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(G),$=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},q=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new H(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),o=new Int32Array(a.buffer),s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;for(s=n[0],u=n[1],l=n[2],c=n[3],m=0;m<i.length;m+=4)h=$(i[m]),d=$(i[m+1]),p=$(i[m+2]),f=$(i[m+3]),r.decrypt(h,d,p,f,o,m),o[m]=$(o[m]^s),o[m+1]=$(o[m+1]^u),o[m+2]=$(o[m+2]^l),o[m+3]=$(o[m+3]^c),s=h,u=d,l=p,c=f;return a},X=function(){function t(e,n,i,r){U(this,t);var a=t.STEP,o=new Int32Array(e.buffer),s=new Uint8Array(e.byteLength),u=0;for(this.asyncStream_=new W,this.asyncStream_.push(this.decryptChunk_(o.subarray(u,u+a),n,i,s)),u=a;u<o.length;u+=a)i=new Uint32Array([$(o[u-4]),$(o[u-3]),$(o[u-2]),$(o[u-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(u,u+a),n,i,s));this.asyncStream_.push(function(){r(null,N(s))})}return t.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=q(t,e,n);i.set(r,t.byteOffset)}},B(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}(),Y="7.6.0";function J(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function Q(t,e,n){return Q=K()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=Function.bind.apply(t,i),a=new r;return n&&Z(a,n.prototype),a},Q.apply(null,arguments)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t,e){return e||(e=t.slice(0)),t.raw=e,t}var nt=[],it=function(t,e){return function(n,i,a){var o=e.levels[i],s=new RegExp("^("+o+")$");if("log"!==n&&a.unshift(n.toUpperCase()+":"),a.unshift(t+":"),nt&&nt.push([].concat(a)),r.a.console){var u=r.a.console[n];u||"debug"!==n||(u=r.a.console.info||r.a.console.log),u&&o&&s.test(n)&&u[Array.isArray(a)?"apply":"call"](r.a.console,a)}}};function rt(t){var e,n="info",i=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e("log",n,i)};return e=it(t,i),i.createLogger=function(e){return rt(t+": "+e)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},i.level=function(t){if("string"===typeof t){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');n=t}return n},i.history=function(){return nt?[].concat(nt):[]},i.history.filter=function(t){return(nt||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},i.history.clear=function(){nt&&(nt.length=0)},i.history.disable=function(){null!==nt&&(nt.length=0,nt=null)},i.history.enable=function(){null===nt&&(nt=[])},i.error=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e("error",n,i)},i.warn=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e("warn",n,i)},i.debug=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e("debug",n,i)},i}var at=rt("VIDEOJS"),ot=at.createLogger,st=Object.prototype.toString,ut=function(t){return dt(t)?Object.keys(t):[]};function lt(t,e){ut(t).forEach(function(n){return e(t[n],n)})}function ct(t,e,n){return void 0===n&&(n=0),ut(t).reduce(function(n,i){return e(n,t[i],i)},n)}function ht(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach(function(e){e&&lt(e,function(e,n){t[n]=e})}),t)}function dt(t){return!!t&&"object"===typeof t}function pt(t){return dt(t)&&"[object Object]"===st.call(t)&&t.constructor===Object}function ft(t,e){if(!t||!e)return"";if("function"===typeof r.a.getComputedStyle){var n=r.a.getComputedStyle(t);return n?n[e]:""}return""}function mt(){var t=et(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return mt=function(){return t},t}function gt(t){return"string"===typeof t&&/\S/.test(t)}function vt(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function yt(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function _t(){return o.a===r.a.document}function bt(t){return dt(t)&&1===t.nodeType}function wt(){try{return r.a.parent!==r.a.self}catch(t){return!0}}function xt(t){return function(e,n){if(!gt(e))return o.a[t](null);gt(n)&&(n=o.a.querySelector(n));var i=bt(n)?n:o.a;return i[t]&&i[t](e)}}function Tt(t,e,n,i){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===n&&(n={});var r=o.a.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(at.warn(u()(mt(),t,n)),r.setAttribute(t,n)):"textContent"===t?St(r,n):r[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){r.setAttribute(t,n[t])}),i&&Ht(r,i),r}function St(t,e){return"undefined"===typeof t.textContent?t.innerText=e:t.textContent=e,t}function Et(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Mt(t,e){return vt(e),t.classList?t.classList.contains(e):yt(e).test(t.className)}function Ct(t,e){return t.classList?t.classList.add(e):Mt(t,e)||(t.className=(t.className+" "+e).trim()),t}function At(t,e){return t.classList?t.classList.remove(e):(vt(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function kt(t,e,n){var i=Mt(t,e);if("function"===typeof n&&(n=n(t,e)),"boolean"!==typeof n&&(n=!i),n!==i)return n?Ct(t,e):At(t,e),t}function Pt(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];null===i||"undefined"===typeof i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)})}function Ot(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var a=i[r].name,o=i[r].value;"boolean"!==typeof t[a]&&-1===n.indexOf(","+a+",")||(o=null!==o),e[a]=o}return e}function Lt(t,e){return t.getAttribute(e)}function Rt(t,e,n){t.setAttribute(e,n)}function It(t,e){t.removeAttribute(e)}function Dt(){o.a.body.focus(),o.a.onselectstart=function(){return!1}}function Nt(){o.a.onselectstart=function(){return!0}}function Ut(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(ft(t,"height"))),n.width||(n.width=parseFloat(ft(t,"width"))),n}}function Bt(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=o.a.documentElement,i=o.a.body,a=n.clientLeft||i.clientLeft||0,s=r.a.pageXOffset||i.scrollLeft,u=e.left+s-a,l=n.clientTop||i.clientTop||0,c=r.a.pageYOffset||i.scrollTop,h=e.top+c-l;return{left:Math.round(u),top:Math.round(h)}}function jt(t,e){var n={},i=Bt(t),r=t.offsetWidth,a=t.offsetHeight,o=i.top,s=i.left,u=e.pageY,l=e.pageX;return e.changedTouches&&(l=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-u+a)/a)),n.x=Math.max(0,Math.min(1,(l-s)/r)),n}function Ft(t){return dt(t)&&3===t.nodeType}function zt(t){while(t.firstChild)t.removeChild(t.firstChild);return t}function Vt(t){return"function"===typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"===typeof t&&(t=t()),bt(t)||Ft(t)?t:"string"===typeof t&&/\S/.test(t)?o.a.createTextNode(t):void 0}).filter(function(t){return t})}function Ht(t,e){return Vt(e).forEach(function(e){return t.appendChild(e)}),t}function Gt(t,e){return Ht(zt(t),e)}function Wt(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||(0===t.button&&0===t.buttons||0===t.button&&1===t.buttons))}var $t=xt("querySelector"),qt=xt("querySelectorAll"),Xt=Object.freeze({isReal:_t,isEl:bt,isInFrame:wt,createEl:Tt,textContent:St,prependTo:Et,hasClass:Mt,addClass:Ct,removeClass:At,toggleClass:kt,setAttributes:Pt,getAttributes:Ot,getAttribute:Lt,setAttribute:Rt,removeAttribute:It,blockTextSelection:Dt,unblockTextSelection:Nt,getBoundingClientRect:Ut,findPosition:Bt,getPointerPosition:jt,isTextNode:Ft,emptyEl:zt,normalizeContent:Vt,appendContent:Ht,insertContent:Gt,isSingleLeftClick:Wt,$:$t,$$:qt}),Yt=1;function Jt(){return Yt++}var Zt={},Kt="vdata"+Math.floor(r.a.performance&&r.a.performance.now()||Date.now());function Qt(t){var e=t[Kt];return e||(e=t[Kt]=Jt()),Zt[e]||(Zt[e]={}),Zt[e]}function te(t){var e=t[Kt];return!!e&&!!Object.getOwnPropertyNames(Zt[e]).length}function ee(t){var e=t[Kt];if(e){delete Zt[e];try{delete t[Kt]}catch(n){t.removeAttribute?t.removeAttribute(Kt):t[Kt]=null}}}function ne(t,e){var n=Qt(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ee(t)}function ie(t,e,n,i){n.forEach(function(n){t(e,n,i)})}function re(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||r.a.event;for(var a in t={},i)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&i.preventDefault||(t[a]=i[a]));if(t.target||(t.target=t.srcElement||o.a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var s=o.a.documentElement,u=o.a.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var ae=!1;(function(){try{var t=Object.defineProperty({},"passive",{get:function(){ae=!0}});r.a.addEventListener("test",null,t),r.a.removeEventListener("test",null,t)}catch(e){}})();var oe=["touchstart","touchmove"];function se(t,e,n){if(Array.isArray(e))return ie(se,t,e,n);var i=Qt(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Jt()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=re(e);var r=i.handlers[e.type];if(r)for(var a=r.slice(0),o=0,s=a.length;o<s;o++){if(e.isImmediatePropagationStopped())break;try{a[o].call(t,e,n)}catch(u){at.error(u)}}}}),1===i.handlers[e].length)if(t.addEventListener){var r=!1;ae&&oe.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function ue(t,e,n){if(te(t)){var i=Qt(t);if(i.handlers){if(Array.isArray(e))return ie(ue,t,e,n);var r=function(t,e){i.handlers[e]=[],ne(t,e)};if(void 0!==e){var a=i.handlers[e];if(a)if(n){if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);ne(t,e)}else r(t,e)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(t,s)}}}function le(t,e,n){var i=te(t)?Qt(t):{},r=t.parentNode||t.ownerDocument;if("string"===typeof e?e={type:e,target:t}:e.target||(e.target=t),e=re(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)le.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){var a=Qt(e.target);e.target[e.type]&&(a.disabled=!0,"function"===typeof e.target[e.type]&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function ce(t,e,n){if(Array.isArray(e))return ie(ce,t,e,n);var i=function i(){ue(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Jt(),se(t,e,i)}function he(t,e,n){var i=function i(){ue(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Jt(),se(t,e,i)}var de,pe=Object.freeze({fixEvent:re,on:se,off:ue,trigger:le,one:ce,any:he}),fe=!1,me=function(){if(_t()&&!1!==de.options.autoSetup){var t=Array.prototype.slice.call(o.a.getElementsByTagName("video")),e=Array.prototype.slice.call(o.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(o.a.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&i.length>0)for(var r=0,a=i.length;r<a;r++){var s=i[r];if(!s||!s.getAttribute){ge(1);break}if(void 0===s.player){var u=s.getAttribute("data-setup");null!==u&&de(s)}}else fe||ge(1)}};function ge(t,e){e&&(de=e),r.a.setTimeout(me,t)}_t()&&"complete"===o.a.readyState?fe=!0:ce(r.a,"load",function(){fe=!0});var ve,ye=function(t){var e=o.a.createElement("style");return e.className=t,e},_e=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},be=function(t,e,n){e.guid||(e.guid=Jt());var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},we=function(t,e){var n=r.a.performance.now(),i=function(){var i=r.a.performance.now();i-n>=e&&(t.apply(void 0,arguments),n=i)};return i},xe=function(t,e,n,i){var a;void 0===i&&(i=r.a);var o=function(){i.clearTimeout(a),a=null},s=function(){var r=this,o=arguments,s=function(){a=null,s=null,n||t.apply(r,o)};!a&&n&&t.apply(r,o),i.clearTimeout(a),a=i.setTimeout(s,e)};return s.cancel=o,s},Te=function(){};Te.prototype.allowedEvents_={},Te.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},se(this,t,e),this.addEventListener=n},Te.prototype.addEventListener=Te.prototype.on,Te.prototype.off=function(t,e){ue(this,t,e)},Te.prototype.removeEventListener=Te.prototype.off,Te.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ce(this,t,e),this.addEventListener=n},Te.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},he(this,t,e),this.addEventListener=n},Te.prototype.trigger=function(t){var e=t.type||t;"string"===typeof t&&(t={type:e}),t=re(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),le(this,t)},Te.prototype.dispatchEvent=Te.prototype.trigger,Te.prototype.queueTrigger=function(t){var e=this;ve||(ve=new Map);var n=t.type||t,i=ve.get(this);i||(i=new Map,ve.set(this,i));var a=i.get(n);i["delete"](n),r.a.clearTimeout(a);var o=r.a.setTimeout(function(){0===i.size&&(i=null,ve["delete"](e)),e.trigger(t)},0);i.set(n,o)};var Se=function(t){return t instanceof Te||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"===typeof t[e]})},Ee=function(t,e){Se(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Me=function(t){return"string"===typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Ce=function(t){if(!t.nodeName&&!Se(t))throw new Error("Invalid target; must be a DOM node or evented object.")},Ae=function(t){if(!Me(t))throw new Error("Invalid event type; must be a non-empty string or array.")},ke=function(t){if("function"!==typeof t)throw new Error("Invalid listener; must be a function.")},Pe=function(t,e){var n,i,r,a=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return a?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],r=e[1]):(n=e[0],i=e[1],r=e[2]),Ce(n),Ae(i),ke(r),r=be(t,r),{isTargetingSelf:a,target:n,type:i,listener:r}},Oe=function(t,e,n,i){Ce(t),t.nodeName?pe[e](t,n,i):t[e](n,i)},Le={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Pe(this,n),a=r.isTargetingSelf,o=r.target,s=r.type,u=r.listener;if(Oe(o,"on",s,u),!a){var l=function(){return t.off(o,s,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,Oe(this,"on","dispose",l),Oe(o,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Pe(this,n),a=r.isTargetingSelf,o=r.target,s=r.type,u=r.listener;if(a)Oe(o,"one",s,u);else{var l=function e(){t.off(o,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,Oe(o,"one",s,l)}},any:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Pe(this,n),a=r.isTargetingSelf,o=r.target,s=r.type,u=r.listener;if(a)Oe(o,"any",s,u);else{var l=function e(){t.off(o,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,Oe(o,"any",s,l)}},off:function(t,e,n){if(!t||Me(t))ue(this.eventBusEl_,t,e);else{var i=t,r=e;Ce(i),Ae(r),ke(n),n=be(this,n),this.off("dispose",n),i.nodeName?(ue(i,r,n),ue(i,"dispose",n)):Se(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return le(this.eventBusEl_,t,e)}};function Re(t,e){void 0===e&&(e={});var n=e,i=n.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=Tt("span",{className:"vjs-event-bus"});return ht(t,Le),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(t){t()}),t.on("dispose",function(){t.off(),r.a.setTimeout(function(){t.eventBusEl_=null},0)}),t}var Ie={state:{},setState:function(t){var e,n=this;return"function"===typeof t&&(t=t()),lt(t,function(t,i){n.state[i]!==t&&(e=e||{},e[i]={from:n.state[i],to:t}),n.state[i]=t}),e&&Se(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function De(t,e){return ht(t,Ie),t.state=ht({},t.state,e),"function"===typeof t.handleStateChanged&&Se(t)&&t.on("statechanged",t.handleStateChanged),t}function Ne(t){return"string"!==typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function Ue(t,e){return Ne(t)===Ne(e)}function Be(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){e&&lt(e,function(e,n){pt(e)?(pt(t[n])||(t[n]={}),t[n]=Be(t[n],e)):t[n]=e})}),t}var je=function(){function t(t,e,n){if(!t&&this.play?this.player_=t=this:this.player_=t,this.parentComponent_=null,this.options_=Be({},this.options_),e=this.options_=Be(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+Jt()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&Re(this,{eventBusKey:this.el_?"el_":null}),De(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ee(this.el_),this.el_=null),this.player_=null},e.player=function(){return this.player_},e.options=function(t){return t?(this.options_=Be(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,n){return Tt(t,e,n)},e.localize=function(t,e,n){void 0===n&&(n=t);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[i],o=i&&i.split("-")[0],s=r&&r[o],u=n;return a&&a[t]?u=a[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,function(t,n){var i=e[n-1],r=i;return"undefined"===typeof i&&(r=t),r})),u},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return t=Ne(t),this.childNameIndex_[t]},e.addChild=function(e,n,i){var r,a;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"===typeof e){a=Ne(e);var o=n.componentClass||a;n.name=a;var s=t.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!==typeof s)return null;r=new s(this.player_||this,n)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"===typeof r.id&&(this.childIndex_[r.id()]=r),a=a||r.name&&Ne(r.name()),a&&(this.childNameIndex_[a]=r),"function"===typeof r.el&&r.el()){var u=this.contentEl().children,l=u[i]||null;this.contentEl().insertBefore(r.el(),l)}return r},e.removeChild=function(t){if("string"===typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,n=this.options_.children;if(n){var i,r=this.options_,a=function(t){var n=t.name,i=t.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var a=e.addChild(n,i);a&&(e[n]=a)}},o=t.getComponent("Tech");i=Array.isArray(n)?n:Object.keys(n),i.concat(Object.keys(this.options_).filter(function(t){return!i.some(function(e){return"string"===typeof e?t===e:t===e.name})})).map(function(t){var i,r;return"string"===typeof t?(i=t,r=n[i]||e.options_[i]||{}):(i=t.name,r=t),{name:i,opts:r}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||Ne(e.name));return n&&!o.isTech(n)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(t,e){return $t(t,e||this.contentEl())},e.$$=function(t,e){return qt(t,e||this.contentEl())},e.hasClass=function(t){return Mt(this.el_,t)},e.addClass=function(t){Ct(this.el_,t)},e.removeClass=function(t){At(this.el_,t)},e.toggleClass=function(t,e){kt(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return Lt(this.el_,t)},e.setAttribute=function(t,e){Rt(this.el_,t,e)},e.removeAttribute=function(t){It(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+Ne(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"===typeof r.a.getComputedStyle){var n=r.a.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(e=parseFloat(e),0===e){var i="offset"+Ne(t);e=this.el_[i]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},e.handleKeyPress=function(t){this.handleKeyDown(t)},e.emitTapEvents=function(){var t,e=0,n=null,i=10,a=200;this.on("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},e=r.a.performance.now(),t=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)t=!1;else if(n){var r=e.touches[0].pageX-n.pageX,a=e.touches[0].pageY-n.pageY,o=Math.sqrt(r*r+a*a);o>i&&(t=!1)}});var o=function(){t=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(i){if(n=null,!0===t){var o=r.a.performance.now()-e;o<a&&(i.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=be(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.setTimeout=function(t,e){var n,i,a=this;return t=be(this,t),n=r.a.setTimeout(function(){a.off("dispose",i),t()},e),i=function(){return a.clearTimeout(n)},i.guid="vjs-timeout-"+n,this.on("dispose",i),n},e.clearTimeout=function(t){r.a.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},e.setInterval=function(t,e){var n=this;t=be(this,t);var i=r.a.setInterval(t,e),a=function(){return n.clearInterval(i)};return a.guid="vjs-interval-"+i,this.on("dispose",a),i},e.clearInterval=function(t){r.a.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},e.requestAnimationFrame=function(t){var e,n,i=this;return this.supportsRaf_?(t=be(this,t),e=r.a.requestAnimationFrame(function(){i.off("dispose",n),t()}),n=function(){return i.cancelAnimationFrame(e)},n.guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},e.cancelAnimationFrame=function(t){if(this.supportsRaf_){r.a.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,n){if("string"!==typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i,r=t.getComponent("Tech"),a=r&&r.isTech(n),o=t===n||t.prototype.isPrototypeOf(n.prototype);if(a||!o)throw i=a?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+i+".");e=Ne(e),t.components_||(t.components_={});var s=t.getComponent("Player");if("Player"===e&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(t){return u[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,n},t.getComponent=function(e){if(e)return e=Ne(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();je.prototype.supportsRaf_="function"===typeof r.a.requestAnimationFrame&&"function"===typeof r.a.cancelAnimationFrame,je.registerComponent("Component",je);var Fe=r.a.navigator&&r.a.navigator.userAgent||"",ze=/AppleWebKit\/([\d.]+)/i.exec(Fe),Ve=ze?parseFloat(ze.pop()):null,He=/iPad/i.test(Fe),Ge=/iPhone/i.test(Fe)&&!He,We=/iPod/i.test(Fe),$e=Ge||He||We,qe=function(){var t=Fe.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Xe=/Android/i.test(Fe),Ye=function(){var t=Fe.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),Je=Xe&&Ye<5&&Ve<537,Ze=/Firefox/i.test(Fe),Ke=/Edge/i.test(Fe),Qe=!Ke&&(/Chrome/i.test(Fe)||/CriOS/i.test(Fe)),tn=function(){var t=Fe.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),en=function(){var t=/MSIE\s(\d+)\.\d/.exec(Fe),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Fe)&&/rv:11.0/.test(Fe)&&(e=11),e}(),nn=/Safari/i.test(Fe)&&!Qe&&!Xe&&!Ke,rn=(nn||$e)&&!Qe,an=/Windows/i.test(Fe),on=_t()&&("ontouchstart"in r.a||r.a.navigator.maxTouchPoints||r.a.DocumentTouch&&r.a.document instanceof r.a.DocumentTouch),sn=Object.freeze({IS_IPAD:He,IS_IPHONE:Ge,IS_IPOD:We,IS_IOS:$e,IOS_VERSION:qe,IS_ANDROID:Xe,ANDROID_VERSION:Ye,IS_NATIVE_ANDROID:Je,IS_FIREFOX:Ze,IS_EDGE:Ke,IS_CHROME:Qe,CHROME_VERSION:tn,IE_VERSION:en,IS_SAFARI:nn,IS_ANY_SAFARI:rn,IS_WINDOWS:an,TOUCH_ENABLED:on});function un(t,e,n){if("number"!==typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function ln(t,e,n,i){return un(t,i,n.length-1),n[i][e]}function cn(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:ln.bind(null,"start",0,t),end:ln.bind(null,"end",1,t)}}function hn(t,e){return Array.isArray(t)?cn(t):void 0===t||void 0===e?cn():cn([[t,e]])}function dn(t,e){var n,i,r=0;if(!e)return 0;t&&t.length||(t=hn(0,0));for(var a=0;a<t.length;a++)n=t.start(a),i=t.end(a),i>e&&(i=e),r+=i-n;return r/e}for(var pn,fn={prefixed:!0},mn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],gn=mn[0],vn=0;vn<mn.length;vn++)if(mn[vn][1]in o.a){pn=mn[vn];break}if(pn){for(var yn=0;yn<pn.length;yn++)fn[gn[yn]]=pn[yn];fn.prefixed=pn[0]!==gn[0]}function _n(t){if(t instanceof _n)return t;"number"===typeof t?this.code=t:"string"===typeof t?this.message=t:dt(t)&&("number"===typeof t.code&&(this.code=t.code),ht(this,t)),this.message||(this.message=_n.defaultMessages[this.code]||"")}_n.prototype.code=0,_n.prototype.message="",_n.prototype.status=null,_n.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_n.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var bn=0;bn<_n.errorTypes.length;bn++)_n[_n.errorTypes[bn]]=bn,_n.prototype[_n.errorTypes[bn]]=bn;function wn(t){return void 0!==t&&null!==t&&"function"===typeof t.then}function xn(t){wn(t)&&t.then(null,function(t){})}var Tn=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,n,i){return t[n]&&(e[n]=t[n]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return e},Sn=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track}),i=Array.prototype.map.call(e,function(t){var e=Tn(t.track);return t.src&&(e.src=t.src),e});return i.concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(Tn))},En=function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()},Mn={textTracksToJson:Sn,jsonToTextTracks:En,trackToJson_:Tn},Cn="vjs-modal-dialog",An=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=Tt("div",{className:Cn+"-content"},{role:"document"}),i.descEl_=Tt("p",{className:Cn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),St(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return Cn+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(t){return"boolean"===typeof t&&this[t?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(t){if("boolean"===typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),Gt(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},n.empty=function(){this.trigger("beforemodalempty"),zt(this.contentEl()),this.trigger("modalempty")},n.content=function(t){return"undefined"!==typeof t&&(this.content_=t),this.content_},n.conditionalFocus_=function(){var t=o.a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(t){if(t.stopPropagation(),d.a.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(d.a.isEventKey(t,"Tab")){for(var e,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){e=r;break}o.a.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||e!==n.length-1||(n[0].focus(),t.preventDefault())}},n.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof r.a.HTMLAnchorElement||t instanceof r.a.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof r.a.HTMLInputElement||t instanceof r.a.HTMLSelectElement||t instanceof r.a.HTMLTextAreaElement||t instanceof r.a.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof r.a.HTMLIFrameElement||t instanceof r.a.HTMLObjectElement||t instanceof r.a.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},e}(je);An.prototype.options_={pauseOnOpen:!0,temporary:!0},je.registerComponent("ModalDialog",An);var kn=function(t){function e(e){var n;void 0===e&&(e=[]),n=t.call(this)||this,n.tracks_=[],Object.defineProperty(tt(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack(e[i]);return n}J(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},n.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){e=this[n],e.off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},n.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(Te);for(var Pn in kn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},kn.prototype.allowedEvents_)kn.prototype["on"+Pn]=null;var On=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},Ln=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){On(e,e[i]);break}return n=t.call(this,e)||this,n.changing_=!1,n}J(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.enabled&&On(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,On(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(kn),Rn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},In=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){Rn(e,e[i]);break}return n=t.call(this,e)||this,n.changing_=!1,Object.defineProperty(tt(n),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}J(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.selected&&Rn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,Rn(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(kn),Dn=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);var i=["metadata","chapters"];-1===i.indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(kn),Nn=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"===typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"===typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Un=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),Bn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},jn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Fn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},zn={disabled:"disabled",hidden:"hidden",showing:"showing"},Vn=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var i={id:e.id||"vjs_track_"+Jt(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(tt(n),t,{get:function(){return i[t]},set:function(){}})};for(var a in i)r(a);return n}return J(e,t),e}(Te),Hn=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=o.a.createElement("a");n.href=t;var i,a=""===n.host&&"file:"!==n.protocol;a&&(i=o.a.createElement("div"),i.innerHTML='<a href="'+t+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),o.a.body.appendChild(i));for(var s={},u=0;u<e.length;u++)s[e[u]]=n[e[u]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=r.a.location.protocol),a&&o.a.body.removeChild(i),s},Gn=function(t){if(!t.match(/^https?:\/\//)){var e=o.a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Wn=function(t){if("string"===typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=e.exec(t);if(n)return n.pop().toLowerCase()}return""},$n=function(t){var e=r.a.location,n=Hn(t),i=":"===n.protocol?e.protocol:n.protocol,a=i+n.host!==e.protocol+e.host;return a},qn=Object.freeze({parseUrl:Hn,getAbsoluteURL:Gn,getFileExtension:Wn,isCrossOrigin:$n}),Xn=function(t,e){var n=new r.a.WebVTT.Parser(r.a,r.a.vttjs,r.a.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(r.a.console&&r.a.console.groupCollapsed&&r.a.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return at.error(t)}),r.a.console&&r.a.console.groupEnd&&r.a.console.groupEnd()),n.flush()},Yn=function(t,e){var n={uri:t},i=$n(t);i&&(n.cors=i),f()(n,be(this,function(t,n,i){if(t)return at.error(t,n);if(e.loaded_=!0,"function"!==typeof r.a.WebVTT){if(e.tech_){var a,o=function(){at.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",a)};a=function(){return e.tech_.off("vttjserror",o),Xn(i,e)},e.tech_.one("vttjsloaded",a),e.tech_.one("vttjserror",o)}}else Xn(i,e)}))},Jn=function(t){function e(e){var n;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var i=Be(e,{kind:Fn[e.kind]||"subtitles",language:e.language||e.srclang||""}),r=zn[i.mode]||"disabled",a=i["default"];"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),n=t.call(this,i)||this,n.tech_=i.tech,n.cues_=[],n.activeCues_=[];var o=new Un(n.cues_),s=new Un(n.activeCues_),u=!1,l=be(tt(n),function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)});return"disabled"!==r&&n.tech_.ready(function(){n.tech_.on("timeupdate",l)},!0),Object.defineProperties(tt(n),{default:{get:function(){return a},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;zn[t]&&(r=t,"disabled"!==r?this.tech_.ready(function(){e.tech_.on("timeupdate",l)},!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?o:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=t&&r.endTime>=t?e.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var a=0;a<e.length;a++)-1===this.activeCues_.indexOf(e[a])&&(u=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,Yn(i.src,tt(n))):n.loaded_=!0,n}J(e,t);var n=e.prototype;return n.addCue=function(t){var e=t;if(r.a.vttjs&&!(t instanceof r.a.vttjs.VTTCue)){for(var n in e=new r.a.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),a=0;a<i.length;a++)i[a]!==this&&i[a].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},n.removeCue=function(t){var e=this.cues_.length;while(e--){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(Vn);Jn.prototype.allowedEvents_={cuechange:"cuechange"};var Zn=function(t){function e(e){var n;void 0===e&&(e={});var i=Be(e,{kind:jn[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(tt(n),"enabled",{get:function(){return r},set:function(t){"boolean"===typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return J(e,t),e}(Vn),Kn=function(t){function e(e){var n;void 0===e&&(e={});var i=Be(e,{kind:Bn[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(tt(n),"selected",{get:function(){return r},set:function(t){"boolean"===typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return J(e,t),e}(Vn),Qn=0,ti=1,ei=2,ni=3,ii=function(t){function e(e){var n,i;void 0===e&&(e={}),n=t.call(this)||this;var r=new Jn(e);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n["default"]=r["default"],Object.defineProperties(tt(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=Qn,r.addEventListener("loadeddata",function(){i=ei,n.trigger({type:"load",target:tt(n)})}),n}return J(e,t),e}(Te);ii.prototype.allowedEvents_={load:"load"},ii.NONE=Qn,ii.LOADING=ti,ii.LOADED=ei,ii.ERROR=ni;var ri={audio:{ListClass:Ln,TrackClass:Zn,capitalName:"Audio"},video:{ListClass:In,TrackClass:Kn,capitalName:"Video"},text:{ListClass:Dn,TrackClass:Jn,capitalName:"Text"}};Object.keys(ri).forEach(function(t){ri[t].getterName=t+"Tracks",ri[t].privateName=t+"Tracks_"});var ai={remoteText:{ListClass:Dn,TrackClass:Jn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Nn,TrackClass:ii,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},oi=Be(ri,ai);function si(t,e,n,i,r){void 0===r&&(r={});var a=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var o=new oi.text.TrackClass(r);return a.addTrack(o),o}ai.names=Object.keys(ai),ri.names=Object.keys(ri),oi.names=[].concat(ai.names).concat(ri.names);var ui=function(t){function e(e,n){var i;return void 0===e&&(e={}),void 0===n&&(n=function(){}),e.reportTouchActivity=!1,i=t.call(this,null,e,n)||this,i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),oi.names.forEach(function(t){var n=oi[t];e&&e[n.getterName]&&(i[n.privateName]=e[n.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new oi.text.ListClass,i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}J(e,t);var n=e.prototype;return n.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(be(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(t){this.duration_=this.duration()},n.buffered=function(){return hn(0,0)},n.bufferedPercent=function(){return dn(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(ri.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach(function(t){var n=e[t+"Tracks"]()||[],i=n.length;while(i--){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}})},n.cleanupAutoTextTracks=function(){var t=this.autoRemoteTextTracks_||[],e=t.length;while(e--){var n=t[e];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(t){return void 0!==t&&(this.error_=new _n(t),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?hn(0,0):hn()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var t=this;ri.names.forEach(function(e){var n=ri[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})},n.addWebVttScript_=function(){var t=this;if(!r.a.WebVTT)if(o.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&pt(g.a)&&Object.keys(g.a).length>0)return void this.trigger("vttjsloaded");var e=o.a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),r.a.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var a=function(){return t.trigger("texttrackchange")},o=function(){a();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",a),"showing"===n.mode&&n.addEventListener("cuechange",a)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(var t=0;t<e.length;t++){var s=e[t];s.removeEventListener("cuechange",a)}})},n.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return si(this,t,e,n)},n.createRemoteTextTrack=function(t){var e=Be(t,{tech:this});return new ai.remoteTextEl.TrackClass(e)},n.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(at.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(i.track)}),i},n.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var t=this.options_.Promise||r.a.Promise;if(t)return t.reject()},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Ne(t),e.techs_[t]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return t=Ne(t),e.techs_&&e.techs_[t]?e.techs_[t]:r.a&&r.a.videojs&&r.a.videojs[t]?(at.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r.a.videojs[t]):void 0},e}(je);oi.names.forEach(function(t){var e=oi[t];ui.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),ui.prototype.featuresVolumeControl=!0,ui.prototype.featuresMuteControl=!0,ui.prototype.featuresFullscreenResize=!1,ui.prototype.featuresPlaybackRate=!1,ui.prototype.featuresProgressEvents=!1,ui.prototype.featuresSourceset=!1,ui.prototype.featuresTimeupdateEvents=!1,ui.prototype.featuresNativeTextTracks=!1,ui.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n,i=t.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(e),n)return n;return""},t.selectSourceHandler=function(e,n){for(var i,r=t.sourceHandlers||[],a=0;a<r.length;a++)if(i=r[a].canHandleSource(e,n),i)return r[a];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""};var e=["seekable","seeking","duration"];e.forEach(function(t){var e=this[t];"function"===typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:at.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},je.registerComponent("Tech",ui),ui.registerTech("Tech",ui),ui.defaultTechOrder_=[];var li={},ci={},hi={};function di(t,e){li[t]=li[t]||[],li[t].push(e)}function pi(t,e,n){t.setTimeout(function(){return Ei(e,li[e.type],n,t)},1)}function fi(t,e){t.forEach(function(t){return t.setTech&&t.setTech(e)})}function mi(t,e,n){return t.reduceRight(wi(n),e[n]())}function gi(t,e,n,i){return e[n](t.reduce(wi(n),i))}function vi(t,e,n,i){void 0===i&&(i=null);var r="call"+Ne(n),a=t.reduce(wi(r),i),o=a===hi,s=o?null:e[n](a);return xi(t,n,s,o),s}var yi={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},_i={setCurrentTime:1,setVolume:1},bi={play:1,pause:1};function wi(t){return function(e,n){return e===hi?hi:n[t]?n[t](e):e}}function xi(t,e,n,i){for(var r=t.length-1;r>=0;r--){var a=t[r];a[e]&&a[e](i,n)}}function Ti(t){ci[t.id()]=null}function Si(t,e){var n=ci[t.id()],i=null;if(void 0===n||null===n)return i=e(t),ci[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var a=n[r],o=a[0],s=a[1];o===e&&(i=s)}return null===i&&(i=e(t),n.push([e,i])),i}function Ei(t,e,n,i,r,a){void 0===t&&(t={}),void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===a&&(a=!1);var o=e,s=o[0],u=o.slice(1);if("string"===typeof s)Ei(t,li[s],n,i,r,a);else if(s){var l=Si(i,s);if(!l.setSource)return r.push(l),Ei(t,u,n,i,r,a);l.setSource(ht({},t),function(e,o){if(e)return Ei(t,u,n,i,r,a);r.push(l),Ei(o,t.type===o.type?u:li[o.type],n,i,r,a)})}else u.length?Ei(t,u,n,i,r,a):a?n(t,r):Ei(t,li["*"],n,i,r,!0)}var Mi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Ci=function(t){void 0===t&&(t="");var e=Wn(t),n=Mi[e.toLowerCase()];return n||""},Ai=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var a=i[r];if(a.type&&a.src&&a.src===e)return a.type}return Ci(e)},ki=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):dt(e)&&n.push(e)}),e=n}else e="string"===typeof e&&e.trim()?[Pi({src:e})]:dt(e)&&"string"===typeof e.src&&e.src&&e.src.trim()?[Pi(e)]:[];return e};function Pi(t){var e=Ci(t.src);return!t.type&&e&&(t.type=e),t}var Oi=function(t){function e(e,n,i){var r,a=Be({createEl:!1},n);if(r=t.call(this,e,a,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var o=0,s=n.playerOptions.techOrder;o<s.length;o++){var u=Ne(s[o]),l=ui.getTech(u);if(u||(l=je.getComponent(u)),l&&l.isSupported()){e.loadTech_(u);break}}return r}return J(e,t),e}(je);je.registerComponent("MediaLoader",Oi);var Li=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.emitTapEvents(),i.enable(),i}J(e,t);var n=e.prototype;return n.createEl=function(e,n,i){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=ht({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&at.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=ht({role:"button"},i),this.tabIndex_=n.tabIndex;var r=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=Tt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,St(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(t){},n.handleKeyDown=function(e){d.a.isEventKey(e,"Space")||d.a.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(je);je.registerComponent("ClickableComponent",Li);var Ri=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.update(),e.on("posterchange",be(tt(i),i.update)),i}J(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){var t=Tt("div",{className:"vjs-poster",tabIndex:-1});return t},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?xn(this.player_.play()):this.player_.pause())},e}(Li);je.registerComponent("PosterImage",Ri);var Ii="#222",Di="#ccc",Ni={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ui(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Bi(t,e,n){try{t.style[e]=n}catch(i){return}}var ji=function(t){function e(e,n,i){var a;a=t.call(this,e,n,i)||this;var o=be(tt(a),a.updateDisplay);return e.on("loadstart",be(tt(a),a.toggleDisplay)),e.on("texttrackchange",o),e.on("loadedmetadata",be(tt(a),a.preselectTrack)),e.ready(be(tt(a),function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",o),e.on("playerresize",o),r.a.addEventListener("orientationchange",o),e.on("dispose",function(){return r.a.removeEventListener("orientationchange",o)});for(var t=this.options_.playerOptions.tracks||[],n=0;n<t.length;n++)this.player_.addRemoteTextTrack(t[n],!0);this.preselectTrack()}})),a}J(e,t);var n=e.prototype;return n.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o=0;o<r.length;o++){var s=r[o];a&&a.enabled&&a.language&&a.language===s.language&&s.kind in i?s.kind===a.kind?n=s:n||(n=s):a&&!a.enabled?(n=null,t=null,e=null):s["default"]&&("descriptions"!==s.kind||t?s.kind in i&&!e&&(e=s):t=s)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"===typeof r.a.WebVTT&&r.a.WebVTT.processCues(r.a,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var n=[],i=0;i<t.length;++i){var r=t[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{var a=null,o=null,s=t.length;while(s--){var u=t[s];"showing"===u.mode&&("descriptions"===u.kind?a=u:o=u)}o?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(o)):a&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(a))}},n.updateDisplayState=function(t){var e=this.player_.textTrackSettings.getValues(),n=t.activeCues,i=n.length;while(i--){var a=n[i];if(a){var o=a.displayState;if(e.color&&(o.firstChild.style.color=e.color),e.textOpacity&&Bi(o.firstChild,"color",Ui(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(o.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&Bi(o.firstChild,"backgroundColor",Ui(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?Bi(o,"backgroundColor",Ui(e.windowColor,e.windowOpacity)):o.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+Ii+", 2px 2px 4px "+Ii+", 2px 2px 5px "+Ii:"raised"===e.edgeStyle?o.firstChild.style.textShadow="1px 1px "+Ii+", 2px 2px "+Ii+", 3px 3px "+Ii:"depressed"===e.edgeStyle?o.firstChild.style.textShadow="1px 1px "+Di+", 0 1px "+Di+", -1px -1px "+Ii+", 0 -1px "+Ii:"uniform"===e.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+Ii+", 0 0 4px "+Ii+", 0 0 4px "+Ii+", 0 0 4px "+Ii)),e.fontPercent&&1!==e.fontPercent){var s=r.a.parseFloat(o.style.fontSize);o.style.fontSize=s*e.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Ni[e.fontFamily])}}},n.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"===typeof r.a.WebVTT&&!t.every(function(t){return!t.activeCues})){for(var e=[],n=0;n<t.length;++n)for(var i=t[n],a=0;a<i.activeCues.length;++a)e.push(i.activeCues[a]);r.a.WebVTT.processCues(r.a,e,this.el_);for(var o=0;o<t.length;++o){for(var s=t[o],u=0;u<s.activeCues.length;++u){var l=s.activeCues[u].displayState;Ct(l,"vjs-text-track-cue"),Ct(l,"vjs-text-track-cue-"+(s.language?s.language:o))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},e}(je);je.registerComponent("TextTrackDisplay",ji);var Fi=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=Tt("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(je);je.registerComponent("LoadingSpinner",Fi);var zi=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),t="button",e=ht({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=ht({type:"button"},n);var i=je.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return at.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),je.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){d.a.isEventKey(e,"Space")||d.a.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(Li);je.registerComponent("Button",zi);var Vi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)return xn(e),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var r=function(){return i.focus()};wn(e)?e.then(r,function(){}):this.setTimeout(r,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(zi);Vi.prototype.controlText_="Play Video",je.registerComponent("BigPlayButton",Vi);var Hi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.controlText(n&&n.controlText||i.localize("Close")),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){d.a.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(zi);je.registerComponent("CloseButton",Hi);var Gi=function(t){function e(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),n.replay&&i.on(e,"ended",i.handleEnded),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause(),t.stopPropagation()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(zi);Gi.prototype.controlText_="Play",je.registerComponent("PlayToggle",Gi);var Wi=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),a=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),r=r>0||o>0?r+":":"",i=((r||a>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n},$i=Wi;function qi(t){$i=t}function Xi(){$i=Wi}function Yi(t,e){return void 0===e&&(e=t),$i(t,e)}var Ji=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.throttledUpdateContent=we(be(tt(i),i.updateContent),25),i.on(e,"timeupdate",i.throttledUpdateContent),i}J(e,t);var n=e.prototype;return n.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"Â </span>"});return this.contentEl_=Tt("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){while(this.contentEl_.firstChild)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=o.a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(t){return Yi(t)},n.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(t){},e}(je);Ji.prototype.labelText_="Time",Ji.prototype.controlText_="Time",je.registerComponent("TimeDisplay",Ji);var Zi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.on(e,"ended",i.handleEnded),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},n.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(Ji);Zi.prototype.labelText_="Current Time",Zi.prototype.controlText_="Current Time",je.registerComponent("CurrentTimeDisplay",Zi);var Ki=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.throttledUpdateContent),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(Ji);Ki.prototype.labelText_="Duration",Ki.prototype.controlText_="Duration",je.registerComponent("DurationDisplay",Ki);var Qi=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(je);je.registerComponent("TimeDivider",Qi);var tr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.on(e,"durationchange",i.throttledUpdateContent),i.on(e,"ended",i.handleEnded),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(Tt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(t){"number"===typeof this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(Ji);tr.prototype.labelText_="Remaining Time",tr.prototype.controlText_="Remaining Time",je.registerComponent("RemainingTimeDisplay",tr);var er=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}J(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Tt("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"Â </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(je);je.registerComponent("LiveDisplay",er);var nr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}J(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Tt("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(t){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(zi);nr.prototype.controlText_="Seek to live, currently playing live",je.registerComponent("SeekToLive",nr);var ir=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}J(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=ht({tabIndex:0},n),i=ht({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Qe||t.preventDefault(),Dt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;Nt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!==typeof t||t!==t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",i=e.el().style;return this.vertical()?i.height=n:i.width=n,t}}},n.calculateDistance=function(t){var e=jt(this.el_,t);return this.vertical()?e.y:e.x},n.handleKeyDown=function(e){d.a.isEventKey(e,"Left")||d.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):d.a.isEventKey(e,"Right")||d.a.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(je);je.registerComponent("Slider",ir);var rr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.partEls_=[],i.on(e,"progress",i.update),i}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},n.update=function(t){var e=this.player_.liveTracker,n=this.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():this.player_.duration(),r=this.player_.bufferedEnd(),a=this.partEls_,o=this.$(".vjs-control-text-loaded-percentage"),s=function(t,e,n){var i=t/e||0;return i=100*(i>=1?1:i),n&&(i=i.toFixed(2)),i+"%"};this.el_.style.width=s(r,i),St(o,s(r,i,!0));for(var u=0;u<n.length;u++){var l=n.start(u),c=n.end(u),h=a[u];h||(h=this.el_.appendChild(Tt()),a[u]=h),h.style.left=s(l,r),h.style.width=s(c-l,r)}for(var d=a.length;d>n.length;d--)this.el_.removeChild(a[d-1]);a.length=n.length},e}(je);je.registerComponent("LoadProgressBar",rr);var ar=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var i=Ut(this.el_),r=Ut(this.player_.el()),a=t.width*e;if(r&&i){var o=t.left-r.left+a,s=t.width-a+(r.right-t.right),u=i.width/2;o<u?u+=u-o:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",this.write(n)}},n.write=function(t){St(this.el_,t)},n.updateTime=function(t,e,n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var a,o=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),u=s-e*s;a=(u<1?"":"-")+Yi(u,s)}else a=Yi(n,o);r.update(t,e,a),i&&i()})},e}(je);je.registerComponent("TimeTooltip",ar);var or=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,i)}},e}(je);or.prototype.options_={children:[]},$e||Xe||or.prototype.options_.children.push("timeTooltip"),je.registerComponent("PlayProgressBar",or);var sr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.update=we(be(tt(i),i.update),25),i}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,i=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,i,function(){n.el_.style.left=t.width*e+"px"})},e}(je);sr.prototype.options_={children:["timeTooltip"]},je.registerComponent("MouseTimeDisplay",sr);var ur=5,lr=12,cr=30,hr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.setEventHandlers_(),i}J(e,t);var n=e.prototype;return n.setEventHandlers_=function(){this.update=we(be(this,this.update),cr),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in o.a&&"visibilityState"in o.a&&this.on(o.a,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(t){o.a.hidden?this.disableInterval_(t):(this.enableInterval_(),this.requestAnimationFrame(this.update))},n.enableInterval_=function(){var t=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval(function(){t.requestAnimationFrame(t.update)},cr)},n.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==t.type||this.clearInterval(this.updateInterval)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(t,e){var n=this.player_.liveTracker,i=this.player_.duration();n&&n.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Yi(t,i),Yi(i,i)],"{1} of {2}")),this.bar&&this.bar.update(Ut(this.el_),e)},n.update=function(e){if(null!==this.el().offsetParent){var n=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n}},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(t){this.update_(this.player_.duration(),1)},n.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t>=1?1:t||0},n.handleMouseDown=function(e){Wt(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},n.handleMouseMove=function(t){if(Wt(t)){var e,n=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){var r=i.seekableStart(),a=i.liveCurrentTime();if(e=r+n*i.liveWindow(),e>=a&&(e=a),e<=r&&(e=r+.1),e===1/0)return}else e=n*this.player_.duration(),e===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},n.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},n.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},n.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&xn(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+ur)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-ur)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(e){if(d.a.isEventKey(e,"Space")||d.a.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(d.a.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(d.a.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(d()(e))){e.preventDefault(),e.stopPropagation();var n=10*(d.a.codes[d()(e)]-d.a.codes["0"])/100;this.player_.currentTime(this.player_.duration()*n)}else d.a.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-ur*lr)):d.a.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+ur*lr)):t.prototype.handleKeyDown.call(this,e)},e}(ir);hr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},$e||Xe||hr.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),je.registerComponent("SeekBar",hr);var dr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.handleMouseMove=we(be(tt(i),i.handleMouseMove),25),i.throttledHandleMouseSeek=we(be(tt(i),i.handleMouseSeek),25),i.enable(),i}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),i=e.el(),r=Ut(i),a=jt(i,t).x;a>1?a=1:a<0&&(a=0),n&&n.update(r,a)}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(je);dr.prototype.options_={children:["seekBar"]},je.registerComponent("ProgressControl",dr);var pr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),o.a.pictureInPictureEnabled||i.disable(),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},n.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},n.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(zi);pr.prototype.controlText_="Picture-in-Picture",je.registerComponent("PictureInPictureToggle",pr);var fr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.on(e,"fullscreenchange",i.handleFullscreenChange),!1===o.a[e.fsApi_.fullscreenEnabled]&&i.disable(),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(zi);fr.prototype.controlText_="Fullscreen",je.registerComponent("FullscreenToggle",fr);var mr=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},gr=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(je);je.registerComponent("VolumeLevel",gr);var vr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready(function(){return i.updateARIAAttributes()}),i}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){Wt(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){Wt(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(ir);vr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},vr.prototype.playerEvent="volumechange",je.registerComponent("VolumeBar",vr);var yr=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,("undefined"===typeof n.volumeBar||pt(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=t.call(this,e,n)||this,mr(tt(i),e),i.throttledHandleMouseMove=we(be(tt(i),i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}J(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(je);yr.prototype.options_={children:["volumeBar"]},je.registerComponent("VolumeControl",yr);var _r=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},br=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,_r(tt(i),e),i.on(e,["loadstart","volumechange"],i.update),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;$e&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)At(this.el_,"vjs-vol-"+n);Ct(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(zi);br.prototype.controlText_="Mute",je.registerComponent("MuteToggle",br);var wr=function(t){function e(e,n){var i;return void 0===n&&(n={}),"undefined"!==typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"===typeof n.volumeControl||pt(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),i=t.call(this,e,n)||this,i.on(e,["loadstart"],i.volumePanelState_),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}J(e,t);var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(je);wr.prototype.options_={children:["muteToggle","volumeControl"]},je.registerComponent("VolumePanel",wr);var xr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=be(tt(i),i.handleBlur),i.boundHandleTapClick_=be(tt(i),i.handleTapClick),i}J(e,t);var n=e.prototype;return n.addEventListenerForItem=function(t){t instanceof je&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(t){t instanceof je&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(e){"string"===typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},n.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},n.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=Tt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),se(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},n.handleBlur=function(t){var e=t.relatedTarget||o.a.activeElement;if(!this.children().some(function(t){return t.el()===e})){var n=this.menuButton_;n&&n.buttonPressed_&&e!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var n=e.filter(function(e){return e.el()===t.target})[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(t){d.a.isEventKey(t,"Left")||d.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(d.a.isEventKey(t,"Right")||d.a.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},n.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){void 0===t&&(t=0);var e=this.children().slice(),n=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);n&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(je);je.registerComponent("Menu",xr);var Tr=function(t){function e(e,n){var i;void 0===n&&(n={}),i=t.call(this,e,n)||this,i.menuButton_=new zi(e,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=zi.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",function(){i.menu.show()}),i.on("keydown",i.handleSubmenuKeyDown),i}J(e,t);var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var t=new xr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=Tt("li",{className:"vjs-menu-title",innerHTML:Ne(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new je(this.player_,{el:e});t.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var n=zi.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+n+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},n.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(t){d.a.isEventKey(t,"Esc")||d.a.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),d.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(d.a.isEventKey(t,"Up")||d.a.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},n.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},n.handleSubmenuKeyDown=function(t){(d.a.isEventKey(t,"Esc")||d.a.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),d.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),$e&&wt())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(je);je.registerComponent("MenuButton",Tr);var Sr=function(t){function e(e,n){var i,r=n.tracks;if(i=t.call(this,e,n)||this,i.items.length<=1&&i.hide(),!r)return tt(i);var a=be(tt(i),i.update);return r.addEventListener("removetrack",a),r.addEventListener("addtrack",a),i.player_.on("ready",a),i.player_.on("dispose",function(){r.removeEventListener("removetrack",a),r.removeEventListener("addtrack",a)}),i}return J(e,t),e}(Tr);je.registerComponent("TrackButton",Sr);var Er=["Tab","Esc","Up","Down","Right","Left"],Mr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}J(e,t);var n=e.prototype;return n.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",ht({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(e){Er.some(function(t){return d.a.isEventKey(e,t)})||t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Li);je.registerComponent("MenuItem",Mr);var Cr=function(t){function e(e,n){var i,a=n.track,s=e.textTracks();n.label=a.label||a.language||"Unknown",n.selected="showing"===a.mode,i=t.call(this,e,n)||this,i.track=a,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var u,l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(tt(i),e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleSelectedLanguageChange.apply(tt(i),e)};(e.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),i.on("dispose",function(){e.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)}),void 0===s.onchange)&&i.on(["tap","click"],function(){if("object"!==typeof r.a.Event)try{u=new r.a.Event("change")}catch(t){}u||(u=o.a.createEvent("Event"),u.initEvent("change",!0,!0)),s.dispatchEvent(u)});return i.handleTracksChange(),i}J(e,t);var n=e.prototype;return n.handleClick=function(e){var n=this.track,i=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),i)for(var r=0;r<i.length;r++){var a=i[r];-1!==this.kinds.indexOf(a.kind)&&(a===n?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled"))}},n.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},n.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Mr);je.registerComponent("TextTrackMenuItem",Cr);var Ar=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}J(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Cr);je.registerComponent("OffTextTrackMenuItem",Ar);var kr=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}J(e,t);var n=e.prototype;return n.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=Cr),this.label_&&(n=this.label_+" off"),t.push(new Ar(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var a=i[r];if(this.kinds_.indexOf(a.kind)>-1){var o=new e(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+a.kind+"-menu-item"),t.push(o)}}return t},e}(Sr);je.registerComponent("TextTrackButton",kr);var Pr=function(t){function e(e,n){var i,r=n.track,a=n.cue,o=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=a.text,n.selected=a.startTime<=o&&o<a.endTime,i=t.call(this,e,n)||this,i.track=r,i.cue=a,r.addEventListener("cuechange",be(tt(i),i.update)),i}J(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Mr);je.registerComponent("ChaptersTrackMenuItem",Pr);var Or=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ne(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],a=new Pr(this.player_,{track:this.track_,cue:r});t.push(a)}return t},e}(kr);Or.prototype.kind_="chapters",Or.prototype.controlText_="Chapters",je.registerComponent("ChaptersButton",Or);var Lr=function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var a=e.textTracks(),o=be(tt(r),r.handleTracksChange);return a.addEventListener("change",o),r.on("dispose",function(){a.removeEventListener("change",o)}),r}J(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var a=e[i];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(kr);Lr.prototype.kind_="descriptions",Lr.prototype.controlText_="Descriptions",je.registerComponent("DescriptionsButton",Lr);var Rr=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(kr);Rr.prototype.kind_="subtitles",Rr.prototype.controlText_="Subtitles",je.registerComponent("SubtitlesButton",Rr);var Ir=function(t){function e(e,n){var i;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",i=t.call(this,e,n)||this,i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}J(e,t);var n=e.prototype;return n.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Cr);je.registerComponent("CaptionSettingsMenuItem",Ir);var Dr=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Ir(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(kr);Dr.prototype.kind_="captions",Dr.prototype.controlText_="Captions",je.registerComponent("CaptionsButton",Dr);var Nr=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>";var a=t.prototype.createEl.call(this,e,ht({innerHTML:r},n),i);return a},e}(Cr);je.registerComponent("SubsCapsMenuItem",Nr);var Ur=function(t){function e(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,n)||this,i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Ne(i.label_)),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Ir(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Nr),e},e}(kr);Ur.prototype.kinds_=["captions","subtitles"],Ur.prototype.controlText_="Subtitles",je.registerComponent("SubsCapsButton",Ur);var Br=function(t){function e(e,n){var i,r=n.track,a=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,i=t.call(this,e,n)||this,i.track=r,i.addClass("vjs-"+r.kind+"-menu-item");var o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(tt(i),e)};return a.addEventListener("change",o),i.on("dispose",function(){a.removeEventListener("change",o)}),i}J(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>";var a=t.prototype.createEl.call(this,e,ht({innerHTML:r},n),i);return a},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Mr);je.registerComponent("AudioTrackMenuItem",Br);var jr=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new Br(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(Sr);jr.prototype.controlText_="Audio Track",je.registerComponent("AudioTrackButton",jr);var Fr=function(t){function e(e,n){var i,r=n.rate,a=parseFloat(r,10);return n.label=r,n.selected=1===a,n.selectable=!0,n.multiSelectable=!1,i=t.call(this,e,n)||this,i.label=r,i.rate=a,i.on(e,"ratechange",i.update),i}J(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Mr);Fr.prototype.contentElType="button",je.registerComponent("PlaybackRateMenuItem",Fr);var zr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}J(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=Tt("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new xr(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new Fr(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Tr);zr.prototype.controlText_="Playback Rate",je.registerComponent("PlaybackRateMenuButton",zr);var Vr=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(je);je.registerComponent("Spacer",Vr);var Hr=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="Â ",e},e}(Vr);je.registerComponent("CustomControlSpacer",Hr);var Gr=function(t){function e(){return t.apply(this,arguments)||this}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(je);Gr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},je.registerComponent("ControlBar",Gr);var Wr=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,i.on(e,"error",i.open),i}J(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(An);Wr.prototype.options_=Be(An.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),je.registerComponent("ErrorDisplay",Wr);var $r="vjs-text-track-settings",qr=["#000","Black"],Xr=["#00F","Blue"],Yr=["#0FF","Cyan"],Jr=["#0F0","Green"],Zr=["#F0F","Magenta"],Kr=["#F00","Red"],Qr=["#FFF","White"],ta=["#FF0","Yellow"],ea=["1","Opaque"],na=["0.5","Semi-Transparent"],ia=["0","Transparent"],ra={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[qr,Qr,Kr,Jr,Xr,ta,Zr,Yr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ea,na,ia]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Qr,qr,Kr,Jr,Xr,ta,Zr,Yr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ea,na]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ia,na,ea]}};function aa(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function oa(t,e){var n=t.options[t.options.selectedIndex].value;return aa(n,e)}function sa(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(aa(t.options[i].value,n)===e){t.selectedIndex=i;break}}ra.windowColor.options=ra.backgroundColor.options;var ua=function(t){function e(e,n){var i;return n.temporary=!1,i=t.call(this,e,n)||this,i.updateDisplay=be(tt(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=Tt("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),lt(ra,function(t){i.on(i.$(t.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}J(e,t);var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var r=ra[t],a=r.id.replace("%s",this.id_),o=[e,a].join(" ").trim();return["<"+n+' id="'+a+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+o+'">'].concat(r.options.map(function(t){var e=a+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+o+" "+e+'">',i.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return Tt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return Tt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return Tt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t=this;return ct(ra,function(e,n,i){var r=oa(t.$(n.selector),n.parser);return void 0!==r&&(e[i]=r),e},{})},n.setValues=function(t){var e=this;lt(ra,function(n,i){sa(e.$(n.selector),t[i],n.parser)})},n.setDefaults=function(){var t=this;lt(ra,function(e){var n=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=n})},n.restoreSettings=function(){var t;try{t=JSON.parse(r.a.localStorage.getItem($r))}catch(e){at.warn(e)}t&&this.setValues(t)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?r.a.localStorage.setItem($r,JSON.stringify(t)):r.a.localStorage.removeItem($r)}catch(e){at.warn(e)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},e}(An);je.registerComponent("TextTrackSettings",ua);var la=function(t){function e(e,n){var i,a=n.ResizeObserver||r.a.ResizeObserver;null===n.ResizeObserver&&(a=!1);var o=Be({createEl:!a,reportTouchActivity:!1},n);return i=t.call(this,e,o)||this,i.ResizeObserver=n.ResizeObserver||r.a.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=xe(function(){i.resizeHandler()},100,!1,tt(i)),a?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var t=i.debouncedHandler_,e=i.unloadListener_=function(){ue(this,"resize",t),ue(this,"unload",e),e=null};se(i.el_.contentWindow,"unload",e),se(i.el_.contentWindow,"resize",t)}},i.one("load",i.loadListener_)),i}J(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(je);je.registerComponent("ResizeManager",la);var ca=function(t){function e(e,n){var i,r=Be({createEl:!1},n);return i=t.call(this,e,r)||this,i.reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),en&&"hidden"in o.a&&"visibilityState"in o.a&&i.on(o.a,"visibilitychange",i.handleVisibilityChange),i}J(e,t);var n=e.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(o.a.hidden?this.stopTracking():this.startTracking())},n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var t=this.liveCurrentTime(),e=this.player_.currentTime(),n=this.seekableIncrement_,i=2*n+.07;return t!==1/0&&t-i>=e},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var t=this.player_.seekable();if(t&&t.length){var e=this.seekableEnd();e!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(e-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=e,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},n.startTracking=function(){var t=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){t.timeupdateSeen_=!0,t.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){var t=this.player_.seekable(),e=[],n=t?t.length:0;while(n--)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},n.seekableStart=function(){var t=this.player_.seekable(),e=[],n=t?t.length:0;while(n--)e.push(t.start(n));return e.length?e.sort()[0]:0},n.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"===typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),t.prototype.dispose.call(this)},e}(je);je.registerComponent("LiveTracker",ca);var ha=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var o=n[a].src;o&&-1===i.indexOf(o)&&i.push(o)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},da=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=o.a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;var n=o.a.createDocumentFragment();while(e.childNodes.length)n.appendChild(e.childNodes[0]);return this.innerText="",r.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),pa=function(t,e){for(var n={},i=0;i<t.length;i++)if(n=Object.getOwnPropertyDescriptor(t[i],e),n&&n.set&&n.get)break;return n.enumerable=!0,n.configurable=!0,n},fa=function(t){return pa([t.el(),r.a.HTMLMediaElement.prototype,r.a.Element.prototype,da],"innerHTML")},ma=function(t){var e=t.el();if(!e.resetSourceWatch_){var n={},i=fa(t),r=function(n){return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=n.apply(e,r);return ha(t),o}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){e[t]&&(n[t]=e[t],e[t]=r(n[t]))}),Object.defineProperty(e,"innerHTML",Be(i,{set:r(i.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(n).forEach(function(t){e[t]=n[t]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)}},ga=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Gn(r.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return r.a.Element.prototype.setAttribute.call(this,"src",t),t}}),va=function(t){return pa([t.el(),r.a.HTMLMediaElement.prototype,ga],"src")},ya=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var n=va(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Be(n,{set:function(i){var r=n.set.call(e,i);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(n,r){var a=i.call(e,n,r);return/src/i.test(n)&&t.triggerSourceset(e.src),a},e.load=function(){var n=r.call(e);return ha(t)||(t.triggerSourceset(""),ma(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):ha(t)||ma(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}}}};function _a(){var t=et(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return _a=function(){return t},t}var ba=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var r=e.source,a=!1;if(r&&(i.el_.currentSrc!==r.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(r):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){var o=i.el_.childNodes,s=o.length,l=[];while(s--){var c=o[s],h=c.nodeName.toLowerCase();"track"===h&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!$n(c.src)||(a=!0)):l.push(c))}for(var d=0;d<l.length;d++)i.el_.removeChild(l[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&at.warn(u()(_a())),i.restoreMetadataTracksInIOSNativePlayer_(),(on||Ge||Je)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}J(e,t);var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){ya(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",function(){return e.removeEventListener("change",n)});var i=function n(){for(var i=0;i<t.length;i++){var r=t[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})},n.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(t){var e=n.el()[i+"Tracks"];e.removeEventListener(t,n[i+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var e=this,n=ri[t],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var a={change:function(t){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},o=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,a=0;a<i.length;a++)if(i[a]===r[e]){n=!0;break}n||t.push(r[e])}while(t.length)r.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=a,Object.keys(a).forEach(function(t){var n=a[t];i.addEventListener(t,n),e.on("dispose",function(e){return i.removeEventListener(t,n)})}),this.on("loadstart",o),this.on("dispose",function(t){return e.off("loadstart",o)})}},n.proxyNativeTracks_=function(){var t=this;ri.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},n.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=o.a.createElement("video");var i=this.options_.tag&&Ot(this.options_.tag),r=Be({},i);on&&!0===this.options_.nativeControlsForTouch||delete r.controls,Pt(t,ht(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&Rt(t,"preload",this.options_.preload);for(var a=["loop","muted","playsinline","autoplay"],s=0;s<a.length;s++){var u=a[s],l=this.options_[u];"undefined"!==typeof l&&(l?Rt(t,u,u):It(t,u),t[u]=l)}return t},n.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){at(e,"Video is not ready. (Video.js)")}},n.duration=function(){var t=this;if(this.el_.duration===1/0&&Xe&&Qe&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},n.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var t=r.a.navigator&&r.a.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(t){this.el_.controls=!!t},n.addTextTrack=function(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):t.prototype.addTextTrack.call(this,e,n,i)},n.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=o.a.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e["default"]&&(n["default"]=e["default"]),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},n.addRemoteTextTrack=function(e,n){var i=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks){var n=this.$$("track"),i=n.length;while(i--)e!==n[i]&&e!==n[i].track||this.el().removeChild(n[i])}},n.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),r.a.performance&&"function"===typeof r.a.performance.now?t.creationTime=r.a.performance.now():r.a.performance&&r.a.performance.timing&&"number"===typeof r.a.performance.timing.navigationStart&&(t.creationTime=r.a.Date.now()-r.a.performance.timing.navigationStart),t},e}(ui);if(_t()){ba.TEST_VID=o.a.createElement("video");var wa=o.a.createElement("track");wa.kind="captions",wa.srclang="en",wa.label="English",ba.TEST_VID.appendChild(wa)}ba.isSupported=function(){try{ba.TEST_VID.volume=.5}catch(t){return!1}return!(!ba.TEST_VID||!ba.TEST_VID.canPlayType)},ba.canPlayType=function(t){return ba.TEST_VID.canPlayType(t)},ba.canPlaySource=function(t,e){return ba.canPlayType(t.type)},ba.canControlVolume=function(){try{var t=ba.TEST_VID.volume;return ba.TEST_VID.volume=t/2+.1,t!==ba.TEST_VID.volume}catch(e){return!1}},ba.canMuteVolume=function(){try{var t=ba.TEST_VID.muted;return ba.TEST_VID.muted=!t,ba.TEST_VID.muted?Rt(ba.TEST_VID,"muted","muted"):It(ba.TEST_VID,"muted","muted"),t!==ba.TEST_VID.muted}catch(e){return!1}},ba.canControlPlaybackRate=function(){if(Xe&&Qe&&tn<58)return!1;try{var t=ba.TEST_VID.playbackRate;return ba.TEST_VID.playbackRate=t/2+.1,t!==ba.TEST_VID.playbackRate}catch(e){return!1}},ba.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(o.a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(o.a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(o.a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(o.a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(e){return!1}return!0},ba.supportsNativeTextTracks=function(){return rn||$e&&Qe},ba.supportsNativeVideoTracks=function(){return!(!ba.TEST_VID||!ba.TEST_VID.videoTracks)},ba.supportsNativeAudioTracks=function(){return!(!ba.TEST_VID||!ba.TEST_VID.audioTracks)},ba.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],ba.prototype.featuresVolumeControl=ba.canControlVolume(),ba.prototype.featuresMuteControl=ba.canMuteVolume(),ba.prototype.featuresPlaybackRate=ba.canControlPlaybackRate(),ba.prototype.featuresSourceset=ba.canOverrideAttributes(),ba.prototype.movingMediaElementInDOM=!$e,ba.prototype.featuresFullscreenResize=!0,ba.prototype.featuresProgressEvents=!0,ba.prototype.featuresTimeupdateEvents=!0,ba.prototype.featuresNativeTextTracks=ba.supportsNativeTextTracks(),ba.prototype.featuresNativeVideoTracks=ba.supportsNativeVideoTracks(),ba.prototype.featuresNativeAudioTracks=ba.supportsNativeAudioTracks();var xa=ba.TEST_VID&&ba.TEST_VID.constructor.prototype.canPlayType,Ta=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;function Sa(){var t=et(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return Sa=function(){return t},t}ba.patchCanPlayType=function(){Ye>=4&&!Ze&&!Qe&&(ba.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Ta.test(t)?"maybe":xa.call(this,t)})},ba.unpatchCanPlayType=function(){var t=ba.TEST_VID.constructor.prototype.canPlayType;return ba.TEST_VID.constructor.prototype.canPlayType=xa,t},ba.patchCanPlayType(),ba.disposeMediaElement=function(t){if(t){t.parentNode&&t.parentNode.removeChild(t);while(t.hasChildNodes())t.removeChild(t.firstChild);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},ba.resetMediaElement=function(t){if(t){var e=t.querySelectorAll("source"),n=e.length;while(n--)t.removeChild(e[n]);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){ba.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){ba.prototype["set"+Ne(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){ba.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){ba.prototype["set"+Ne(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){ba.prototype[t]=function(){return this.el_[t]()}}),ui.withSourceHandlers(ba),ba.nativeSourceHandler={},ba.nativeSourceHandler.canPlayType=function(t){try{return ba.TEST_VID.canPlayType(t)}catch(e){return""}},ba.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return ba.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Wn(t.src);return ba.nativeSourceHandler.canPlayType("video/"+n)}return""},ba.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},ba.nativeSourceHandler.dispose=function(){},ba.registerSourceHandler(ba.nativeSourceHandler),ui.registerTech("Html5",ba);var Ea=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ma={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ca=["tiny","xsmall","small","medium","large","xlarge","huge"],Aa={};Ca.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Aa[t]="vjs-layout-"+e});var ka={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Pa=function(t){function e(n,i,r){var a;if(n.id=n.id||i.id||"vjs_video_"+Jt(),i=ht(e.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"===typeof n.closest){var o=n.closest("[lang]");o&&o.getAttribute&&(i.language=o.getAttribute("lang"))}else{var s=n;while(s&&1===s.nodeType){if(Ot(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}}if(a=t.call(this,null,i,r)||this,a.boundDocumentFullscreenChange_=be(tt(a),a.documentFullscreenChange_),a.boundFullWindowOnEscKey_=be(tt(a),a.fullWindowOnEscKey),a.log=ot(a.id_),a.fsApi_=fn,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&Ot(n),a.language(a.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(t){u[t.toLowerCase()]=i.languages[t]}),a.languages_=u}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=i.poster||"",a.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(function(t){if("function"!==typeof a[t])throw new Error('plugin "'+t+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),Re(tt(a),{eventBusKey:"el_"}),a.fluid_&&a.on("playerreset",a.updateStyleEl_);var l=Be(a.options_);i.plugins&&Object.keys(i.plugins).forEach(function(t){a[t](i.plugins[t])}),a.options_.playerOptions=l,a.middleware_=[],a.initChildren(),a.isAudio("audio"===n.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),on&&a.addClass("vjs-touch-enabled"),$e||a.addClass("vjs-workinghover"),e.players[a.id_]=tt(a);var c=Y.split(".")[0];return a.addClass("vjs-v"+c),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("stageclick",a.handleStageClick_),a.on("keydown",a.handleKeyDown),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}J(e,t);var n=e.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),ue(o.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ue(o.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ti(this),oi.names.forEach(function(t){var e=oi[t],i=n[e.getterName]();i&&i.off&&i.off()}),t.prototype.dispose.call(this)},n.createEl=function(){var e,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=n.parentNode:a||(e=this.el_=t.prototype.createEl.call(this,"div"));var s=Ot(n);if(a){e=this.el_=n,n=this.tag=o.a.createElement("video");while(e.children.length)n.appendChild(e.firstChild);Mt(e,"video-js")||Ct(e,"video-js"),e.appendChild(n),i=this.playerElIngest_=e,Object.keys(e).forEach(function(t){n[t]=e[t]})}if(n.setAttribute("tabindex","-1"),s.tabindex="-1",(en||Qe&&an)&&(n.setAttribute("role","application"),s.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(t){a&&"class"===t||e.setAttribute(t,s[t]),a&&n.setAttribute(t,s[t])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=ye("vjs-styles-dimensions");var u=$t(".vjs-styles-defaults"),l=$t("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=n.getElementsByTagName("a"),h=0;h<c.length;h++){var d=c.item(h);Ct(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(e,n),Et(n,e),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=e,e},n.width=function(t){return this.dimension("width",t)},n.height=function(t){return this.dimension("height",t)},n.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?at.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},n.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,Se(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),Ee(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,n,i;n=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var a=n.split(":"),o=a[1]/a[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*o,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),_e(this.styleEl_,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var s="number"===typeof this.width_?this.width_:this.options_.width,u="number"===typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(s>=0&&(l.width=s),u>=0&&(l.height=u))}},n.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=Ne(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(ui.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a="string"!==typeof this.autoplay()&&this.autoplay(),o={source:e,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};oi.names.forEach(function(t){var e=oi[t];o[e.getterName]=n[e.privateName]}),ht(o,this.options_[i]),ht(o,this.options_[r]),ht(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var s=ui.getTech(t);if(!s)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new s(o),this.tech_.ready(be(this,this.handleTechReady_),!0),Mn.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Ea.forEach(function(t){n.on(n.tech_,t,n["handleTech"+Ne(t)+"_"])}),Object.keys(Ma).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Ma[t]+"_"].bind(n),event:e}):n["handleTech"+Ma[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||Et(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var t=this;oi.names.forEach(function(e){var n=oi[e];t[n.privateName]=t[n.getterName]()}),this.textTracksJson_=Mn.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(t){return void 0===t&&at.warn(u()(Sa())),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"===typeof t){var n,i=function(){var t=e.muted();e.muted(!0);var n=function(){e.muted(t)};e.playTerminatedQueue_.push(n);var i=e.play();if(wn(i))return i["catch"](n)};if("any"===t&&!0!==this.muted()?(n=this.play(),wn(n)&&(n=n["catch"](i))):n="muted"===t&&!0!==this.muted()?i():this.play(),wn(n))return n.then(function(){e.trigger({type:"autoplay-success",autoplay:t})})["catch"](function(n){e.trigger({type:"autoplay-failure",autoplay:t})})}},n.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!==typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=Ai(this,e)),this.cache_.source=Be({},t,{src:e,type:n});for(var i=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),r=[],a=this.$$("source"),o=[],s=0;s<a.length;s++){var u=Ot(a[s]);r.push(u),u.src&&u.src===e&&o.push(u.src)}o.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},n.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,r=t.src;if(i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),!t.src){var a=function t(n){if("sourceset"!==n.type){var i=e.techGet("currentSrc");e.lastSource_.tech=i,e.updateSourceCaches_(i)}e.tech_.off(["sourceset","loadstart"],t)};this.tech_.one(["sourceset","loadstart"],a)}}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},n.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime(),n=function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))};this.on("timeupdate",n)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(at.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(t){Wt(t)&&this.controls_&&(this.paused()?xn(this.play()):this.pause())},n.handleTechDoubleClick_=function(t){if(this.controls_){var e=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)});e||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(t){t.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(t){var e=this.el(),n=o.a[this.fsApi_.fullscreenElement]===e;!n&&e.matches?n=e.matches(":"+this.fsApi_.fullscreen):!n&&e.msMatchesSelector&&(n=e.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n),!1===this.isFullscreen()&&ue(o.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},n.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var t=this.tech_.error();this.error(t)},n.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(t,e){this.ready(function(){if(t in _i)return gi(this.middleware_,this.tech_,t,e);if(t in bi)return vi(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(n){throw at(n),n}},!0)},n.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in yi)return mi(this.middleware_,this.tech_,t);if(t in bi)return vi(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw at("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw at("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw at(e),e}}},n.play=function(){var t=this,e=this.options_.Promise||r.a.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},n.play_=function(t){var e=this;void 0===t&&(t=xn),this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!rn&&!$e||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},n.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(t){t()})},n.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||hn(0,0)},n.scrubbing=function(t){if("undefined"===typeof t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(t){return"undefined"!==typeof t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(t)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=hn(0,0)),t},n.bufferedPercent=function(){return dn(this.buffered(),this.duration())},n.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},n.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},n.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},n.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,void this.toggleFullscreenClass_()):!!this.isFullscreen_},n.requestFullscreen=function(t){var e;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(se(o.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),xn(this.el_[this.fsApi_.requestFullscreen](e))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?xn(o.a[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=o.a.documentElement.style.overflow,se(o.a,"keydown",this.boundFullWindowOnEscKey_),o.a.documentElement.style.overflow="hidden",Ct(o.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(t){d.a.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,ue(o.a,"keydown",this.boundFullWindowOnEscKey_),o.a.documentElement.style.overflow=this.docOrigOverflow,At(o.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in o.a)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in o.a)return o.a.exitPictureInPicture()},n.handleKeyDown=function(t){var e=this.options_.userActions;if(e&&e.hotkeys){var n=function(t){var e=t.tagName.toLowerCase(),n=["textarea"],i=["button","checkbox","hidden","radio","reset","submit"];return"input"===e?-1===i.indexOf(t.type):-1!==n.indexOf(e)};n(this.el_.ownerDocument.activeElement)||("function"===typeof e.hotkeys?e.hotkeys.call(this,t):this.handleHotkeys(t))}},n.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},n=e.fullscreenKey,i=void 0===n?function(t){return d.a.isEventKey(t,"f")}:n,r=e.muteKey,a=void 0===r?function(t){return d.a.isEventKey(t,"m")}:r,s=e.playPauseKey,u=void 0===s?function(t){return d.a.isEventKey(t,"k")||d.a.isEventKey(t,"Space")}:s;if(i.call(this,t)){t.preventDefault(),t.stopPropagation();var l=je.getComponent("FullscreenToggle");!1!==o.a[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,t)}else if(a.call(this,t)){t.preventDefault(),t.stopPropagation();var c=je.getComponent("MuteToggle");c.prototype.handleClick.call(this,t)}else if(u.call(this,t)){t.preventDefault(),t.stopPropagation();var h=je.getComponent("PlayToggle");h.prototype.handleClick.call(this,t)}},n.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],a=ui.getTech(r);if(a||(a=je.getComponent(r)),a){if(a.isSupported()&&(e=a.canPlayType(t),e))return e}else at.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map(function(t){return[t,ui.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(at.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(t,e,n){var i;return t.some(function(t){return e.some(function(e){if(i=n(t,e),i)return!0})}),i},a=function(t){return function(e,n){return t(n,e)}},o=function(t,e){var i=t[0],r=t[1];if(r.canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return e=this.options_.sourceOrder?r(t,i,a(o)):r(i,t,o),e||!1},n.src=function(t){var e=this;if("undefined"===typeof t)return this.cache_.src||"";var n=ki(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),pi(this,n[0],function(t,i){e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t);var r=e.src_(t);if(r)return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());fi(i,e.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},n.src_=function(t){var e=this,n=this.selectSource([t]);return!n||(Ue(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){e.changingSrc_=!1}),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var t=this,e=this.options_.Promise||r.a.Promise;if(this.paused()||!e)this.doReset_();else{var n=this.play();xn(n.then(function(){return t.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Se(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,n=t.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},n.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"===typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e="undefined"===typeof e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},n.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},n.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},n.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&t.message&&t.message===this.localize(this.options_.notSupportedMessage)){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",function(){this.off(["click","touchstart"],e)})}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new _n(t),this.addClass("vjs-error"),at.error("(CODE:"+this.error_.code+" "+_n.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(t){this.userActivity_=!0},n.userActive=function(t){if(void 0===t)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var t,e,n,i=be(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())},a=function(){i(),this.clearInterval(t),t=this.setInterval(i,250)},o=function(e){i(),this.clearInterval(t)};this.on("mousedown",a),this.on("mousemove",r),this.on("mouseup",o);var s,u=this.getChild("controlBar");!u||$e||Xe||(u.on("mouseenter",function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),u.on("mouseleave",function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var t=this.options_.inactivityTimeout;t<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},n.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},n.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},n.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},n.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},n.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t,n=e.track;if(n||(n=t),this.tech_)return this.tech_.removeRemoteTextTrack(n)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},n.languages=function(){return Be(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var t=Be(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];i=Be(i),i.player=void 0,t.tracks[n]=i}return t},n.createModal=function(t,e){var n=this;e=e||{},e.content=t||"";var i=new An(this,e);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Ca.length;n++){var i=Ca[n],r=this.breakpoints_[i];if(e<=r){if(t===i)return;t&&this.removeClass(Aa[t]),this.addClass(Aa[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},n.breakpoints=function(t){return void 0===t?ht(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=ht({},ka,t),this.updateCurrentBreakpoint_(),ht(this.breakpoints_))},n.responsive=function(t){if(void 0===t)return this.responsive_;t=Boolean(t);var e=this.responsive_;return t!==e?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Aa[this.breakpoint_]||""},n.loadMedia=function(t,e){var n=this;if(t&&"object"===typeof t){this.reset(),this.cache_.media=Be(t);var i=this.cache_.media,r=i.artwork,a=i.poster,o=i.src,s=i.textTracks;!r&&a&&(this.cache_.media.artwork=[{src:a,type:Ci(a)}]),o&&this.src(o),a&&this.poster(a),Array.isArray(s)&&s.forEach(function(t){return n.addRemoteTextTrack(t,!1)}),this.ready(e)}},n.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}),i={src:e,textTracks:n};return t&&(i.poster=t,i.artwork=[{src:i.poster,type:Ci(i.poster)}]),i}return Be(this.cache_.media)},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=Ot(t),i=n["data-setup"];if(Mt(t,"vjs-fill")&&(n.fill=!0),Mt(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=c()(i||"{}"),a=r[0],o=r[1];a&&at.error(a),ht(n,o)}if(ht(e,n),t.hasChildNodes())for(var s=t.childNodes,u=0,l=s.length;u<l;u++){var h=s[u],d=h.nodeName.toLowerCase();"source"===d?e.sources.push(Ot(h)):"track"===d&&e.tracks.push(Ot(h))}return e},n.flexNotSupported_=function(){var t=o.a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(je);oi.names.forEach(function(t){var e=oi[t];Pa.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Pa.players={};var Oa=r.a.navigator;Pa.prototype.options_={techOrder:ui.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Oa&&(Oa.languages&&Oa.languages[0]||Oa.userLanguage||Oa.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Pa.prototype[t]=function(){return this.techGet_(t)}}),Ea.forEach(function(t){Pa.prototype["handleTech"+Ne(t)+"_"]=function(){return this.trigger(t)}}),je.registerComponent("Player",Pa);var La="plugin",Ra="activePlugins_",Ia={},Da=function(t){return Ia.hasOwnProperty(t)},Na=function(t){return Da(t)?Ia[t]:void 0},Ua=function(t,e){t[Ra]=t[Ra]||{},t[Ra][e]=!0},Ba=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},ja=function(t,e){var n=function(){Ba(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Ua(this,t),Ba(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(t){n[t]=e[t]}),n},Fa=function(t,e){return e.prototype.name=t,function(){Ba(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=Q(e,[this].concat(i));return this[t]=function(){return a},Ba(this,a.getEventHash()),a}},za=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,Re(this),delete this.trigger,De(this,this.constructor.defaultState),Ua(e,this.name),this.dispose=be(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),le(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Ra][t]=!1,this.player=this.state=null,e[t]=Fa(t,Ia[t])},t.isBasic=function(e){var n="string"===typeof e?Na(e):e;return"function"===typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!==typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(Da(e))at.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Pa.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!==typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return Ia[e]=n,e!==La&&(t.isBasic(n)?Pa.prototype[e]=ja(e,n):Pa.prototype[e]=Fa(e,n)),n},t.deregisterPlugin=function(t){if(t===La)throw new Error("Cannot de-register base plugin.");Da(t)&&(delete Ia[t],delete Pa.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Ia)),t.forEach(function(t){var n=Na(t);n&&(e=e||{},e[t]=n)}),e},t.getPluginVersion=function(t){var e=Na(t);return e&&e.VERSION||""},t}();za.getPlugin=Na,za.BASE_PLUGIN_NAME=La,za.registerPlugin(La,za),Pa.prototype.usingPlugin=function(t){return!!this[Ra]&&!0===this[Ra][t]},Pa.prototype.hasPlugin=function(t){return!!Da(t)};var Va=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},Ha=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var r in"object"===typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"===typeof e&&(n=e),Va(n,t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Ga=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Wa(t,e,n){var i=Wa.getPlayer(t);if(i)return e&&at.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"===typeof t?$t("#"+Ga(t)):t;if(!bt(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||at.warn("The element supplied is not included in the DOM"),e=e||{},Wa.hooks("beforesetup").forEach(function(t){var n=t(r,Be(e));dt(n)&&!Array.isArray(n)?e=Be(e,n):at.error("please return an object in beforesetup hooks")});var a=je.getComponent("Player");return i=new a(r,e,n),Wa.hooks("setup").forEach(function(t){return t(i)}),i}if(Wa.hooks_={},Wa.hooks=function(t,e){return Wa.hooks_[t]=Wa.hooks_[t]||[],e&&(Wa.hooks_[t]=Wa.hooks_[t].concat(e)),Wa.hooks_[t]},Wa.hook=function(t,e){Wa.hooks(t,e)},Wa.hookOnce=function(t,e){Wa.hooks(t,[].concat(e).map(function(e){var n=function n(){return Wa.removeHook(t,n),e.apply(void 0,arguments)};return n}))},Wa.removeHook=function(t,e){var n=Wa.hooks(t).indexOf(e);return!(n<=-1)&&(Wa.hooks_[t]=Wa.hooks_[t].slice(),Wa.hooks_[t].splice(n,1),!0)},!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE&&_t()){var $a=$t(".vjs-styles-defaults");if(!$a){$a=ye("vjs-styles-defaults");var qa=$t("head");qa&&qa.insertBefore($a,qa.firstChild),_e($a,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}ge(1,Wa),Wa.VERSION=Y,Wa.options=Pa.prototype.options_,Wa.getPlayers=function(){return Pa.players},Wa.getPlayer=function(t){var e,n=Pa.players;if("string"===typeof t){var i=Ga(t),r=n[i];if(r)return r;e=$t("#"+i)}else e=t;if(bt(e)){var a=e,o=a.player,s=a.playerId;if(o||n[s])return o||n[s]}},Wa.getAllPlayers=function(){return Object.keys(Pa.players).map(function(t){return Pa.players[t]}).filter(Boolean)},Wa.players=Pa.players,Wa.getComponent=je.getComponent,Wa.registerComponent=function(t,e){ui.isTech(e)&&at.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),je.registerComponent.call(je,t,e)},Wa.getTech=ui.getTech,Wa.registerTech=ui.registerTech,Wa.use=di,Object.defineProperty(Wa,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Wa.middleware,"TERMINATOR",{value:hi,writeable:!1,enumerable:!0}),Wa.browser=sn,Wa.TOUCH_ENABLED=on,Wa.extend=Ha,Wa.mergeOptions=Be,Wa.bind=be,Wa.registerPlugin=za.registerPlugin,Wa.deregisterPlugin=za.deregisterPlugin,Wa.plugin=function(t,e){return at.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),za.registerPlugin(t,e)},Wa.getPlugins=za.getPlugins,Wa.getPlugin=za.getPlugin,Wa.getPluginVersion=za.getPluginVersion,Wa.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Wa.options.languages=Be(Wa.options.languages,(n={},n[t]=e,n)),Wa.options.languages[t]},Wa.log=at,Wa.createLogger=ot,Wa.createTimeRange=Wa.createTimeRanges=hn,Wa.formatTime=Yi,Wa.setFormatTime=qi,Wa.resetFormatTime=Xi,Wa.parseUrl=Hn,Wa.isCrossOrigin=$n,Wa.EventTarget=Te,Wa.on=se,Wa.one=ce,Wa.off=ue,Wa.trigger=le,Wa.xhr=f.a,Wa.TextTrack=Jn,Wa.AudioTrack=Zn,Wa.VideoTrack=Kn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Wa[t]=function(){return at.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Xt[t].apply(null,arguments)}}),Wa.computedStyle=ft,Wa.dom=Xt,Wa.url=qn;
/**
 * @videojs/http-streaming
 * @version 1.10.3
 * @copyright 2019 Brightcove, Inc
 * @license Apache-2.0
 */
var Xa=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=y.a.buildAbsoluteURL(r.a.location.href,t)),y.a.buildAbsoluteURL(t,e))},Ya=function(t,e,n){return t&&n.responseURL&&e!==n.responseURL?n.responseURL:e},Ja=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Za=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ka=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},Qa=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},to=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},eo=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(u){r=!0,a=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),no=Wa.mergeOptions,io=Wa.EventTarget,ro=Wa.log,ao=function(t,e){["AUDIO","SUBTITLES"].forEach(function(n){for(var i in t.mediaGroups[n])for(var r in t.mediaGroups[n][i]){var a=t.mediaGroups[n][i][r];e(a,n,i,r)}})},oo=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),a=n;a<r;a++)i[a-n]=no(t[a],i[a-n]);return i},so=function(t,e){t.resolvedUri||(t.resolvedUri=Xa(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Xa(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Xa(e,t.map.uri))},uo=function(t,e){var n=no(t,{}),i=n.playlists[e.uri];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence)return null;var r=no(i,e);i.segments&&(r.segments=oo(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach(function(t){so(t,r.resolvedUri)});for(var a=0;a<n.playlists.length;a++)n.playlists[a].uri===e.uri&&(n.playlists[a]=r);return n.playlists[e.uri]=r,n},lo=function(t){var e=t.playlists.length;while(e--){var n=t.playlists[e];t.playlists[n.uri]=n,n.resolvedUri=Xa(t.uri,n.uri),n.id=e,n.attributes||(n.attributes={},ro.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},co=function(t){ao(t,function(e){e.uri&&(e.resolvedUri=Xa(t.uri,e.uri))})},ho=function(t,e){var n=t.segments[t.segments.length-1],i=void 0;return i=e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10),i},po=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ja(this,e);var r=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),a=i.withCredentials,o=void 0!==a&&a,s=i.handleManifestRedirects,u=void 0!==s&&s;r.srcUrl=t,r.hls_=n,r.withCredentials=o,r.handleManifestRedirects=u;var l=n.options_;if(r.customTagParsers=l&&l.customTagParsers||[],r.customTagMappers=l&&l.customTagMappers||[],!r.srcUrl)throw new Error("A non-empty playlist URL is required");return r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:Xa(r.master.uri,r.media().uri),withCredentials:r.withCredentials},function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media().uri,"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri)}))}),r}return Qa(e,t),Za(e,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new C;this.customTagParsers.forEach(function(t){return i.addParser(t)}),this.customTagMappers.forEach(function(t){return i.addTagMapper(t)}),i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{};var a=uo(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,a?(this.master=a,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(r.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=r.a.setTimeout(function(){n.trigger("mediaupdatetimeout")},ho(this.media(),!!a))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t,e){var n=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"===typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(r.a.clearTimeout(this.finalRenditionTimeout),e){var i=t.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=r.a.setTimeout(this.media.bind(this,t,!1),i)}else{var a=this.state,o=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(o&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(o){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(e,i){if(n.request){if(t.resolvedUri=Ya(n.handleManifestRedirects,t.resolvedUri,i),e)return n.playlistRequestError(n.request,t.uri,a);n.haveMetadata(i,t.uri),"HAVE_MASTER"===a?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;r.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout(function(){return e.load()},i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"HLS playlist request error at URL: "+t.srcUrl+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var i=new C;return t.customTagParsers.forEach(function(t){return i.addParser(t)}),t.customTagMappers.forEach(function(t){return i.addTagMapper(t)}),i.push(n.responseText),i.end(),t.state="HAVE_MASTER",t.srcUrl=Ya(t.handleManifestRedirects,t.srcUrl,n),i.manifest.uri=t.srcUrl,i.manifest.playlists?(t.master=i.manifest,lo(t.master),co(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(i.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:r.a.location.href,playlists:[{uri:t.srcUrl,id:0,resolvedUri:t.srcUrl,attributes:{}}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.haveMetadata(n,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),e}(io),fo=Wa.createTimeRange,mo=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if("undefined"!==typeof r.start)return{result:r.start,precise:!0};if("undefined"!==typeof r.end)return{result:r.end-r.duration,precise:!0}}while(i--){if(r=t.segments[i],"undefined"!==typeof r.end)return{result:n+r.end,precise:!0};if(n+=r.duration,"undefined"!==typeof r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},go=function(t,e){for(var n=0,i=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(i=t.segments[r],"undefined"!==typeof i.start)return{result:i.start-n,precise:!0};if(n+=i.duration,"undefined"!==typeof i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},vo=function(t,e,n){var i=void 0,r=void 0;return"undefined"===typeof e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(i=mo(t,e),i.precise?i.result:(r=go(t,e),r.precise?r.result:i.result+n))},yo=function(t,e,n){if(!t)return 0;if("number"!==typeof n&&(n=0),"undefined"===typeof e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return r.a.Infinity}return vo(t,e,n)},_o=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var a=e;a<Math.min(0,n);a++)i+=t.targetDuration;e=0}for(var o=e;o<n;o++)i+=t.segments[o].duration;return i},bo=function(t){if(!t.segments.length)return 0;var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,i=n+2*t.targetDuration;while(e--)if(n+=t.segments[e].duration,n>=i)break;return Math.max(0,e)},wo=function(t,e,n){if(!t||!t.segments)return null;if(t.endList)return yo(t);if(null===e)return null;e=e||0;var i=n?bo(t):t.segments.length;return vo(t,t.mediaSequence+i,e)},xo=function(t,e){var n=!0,i=e||0,r=wo(t,e,n);return null===r?fo():fo(i,r)},To=function(t){return t-Math.floor(t)===0},So=function(t,e){if(To(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),a=e*r;if(To(a)||i===n)return(a+t)/r}},Eo=So.bind(null,1),Mo=So.bind(null,-1),Co=function(t,e,n,i){var r=void 0,a=void 0,o=t.segments.length,s=e-i;if(s<0){if(n>0)for(r=n-1;r>=0;r--)if(a=t.segments[r],s+=Mo(a.duration),s>0)return{mediaIndex:r,startTime:i-_o(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if(s-=t.targetDuration,s<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<o;r++)if(a=t.segments[r],s-=Eo(a.duration),s<0)return{mediaIndex:r,startTime:i+_o(t,n,r)};return{mediaIndex:o-1,startTime:e}},Ao=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},ko=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Po=function(t){var e=Ao(t);return!t.disabled&&!e},Oo=function(t){return t.disabled},Lo=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Ro=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},Io=function(t,e){return e.attributes&&e.attributes[t]},Do=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!Io("BANDWIDTH",n))return NaN;var r=t*n.attributes.BANDWIDTH;return(r-8*i)/e},No=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!Po(t)&&(t.attributes.BANDWIDTH||0)<n}).length},Uo={duration:yo,seekable:xo,safeLiveIndex:bo,getMediaInfoForTime:Co,isEnabled:Po,isDisabled:Oo,isBlacklisted:Ao,isIncompatible:ko,playlistEnd:wo,isAes:Lo,isFmp4:Ro,hasAttribute:Io,estimateSegmentRequestTime:Do,isLowestEnabledRendition:No},Bo=Wa.xhr,jo=Wa.mergeOptions,Fo=function(){var t=function t(e,n){e=jo({timeout:45e3},e);var i=t.beforeRequest||Wa.Hls.xhr.beforeRequest;if(i&&"function"===typeof i){var r=i(e);r&&(e=r)}var a=Bo(e,function(t,e){var i=a.response;!t&&i&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=i.byteLength||i.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),e.headers&&(a.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(a.timedout=!0),t||a.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(a&&(i||a.responseText)))),n(t,a)}),o=a.abort;return a.abort=function(){return a.aborted=!0,o.apply(a,arguments)},a.uri=e.uri,a.requestTime=Date.now(),a};return t},zo=function(t){var e=void 0,n=void 0;return n=t.offset+t.length-1,e=t.offset,"bytes="+e+"-"+n},Vo=function(t){var e={};return t.byterange&&(e.Range=zo(t.byterange)),e},Ho=function(t,e){return t.start(e)+"-"+t.end(e)},Go=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},Wo=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},$o=function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},qo=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Xo=function(t){return t.resolvedUri},Yo=function(t){for(var e=Array.prototype.slice.call(t),n=16,i="",r=void 0,a=void 0,o=0;o<e.length/n;o++)r=e.slice(o*n,o*n+n).map(Go).join(""),a=e.slice(o*n,o*n+n).map(Wo).join(""),i+=r+" "+a+"\n";return i},Jo=function(t){var e=t.bytes;return Yo(e)},Zo=function(t){var e="",n=void 0;for(n=0;n<t.length;n++)e+=Ho(t,n)+" ";return e},Ko=Object.freeze({createTransferableMessage:$o,initSegmentId:qo,segmentKeyId:Xo,hexDump:Yo,tagDump:Jo,textRanges:Zo}),Qo=.25,ts=function(t,e){if(!e.dateTimeObject)return null;var n=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart,r=i+n,a=t-r;return new Date(e.dateTimeObject.getTime()+1e3*a)},es=function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds},ns=function(t,e){var n=void 0;try{n=new Date(t)}catch(c){return null}if(!e||!e.segments||0===e.segments.length)return null;var i=e.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<e.segments.length-1;r++){i=e.segments[r];var a=e.segments[r+1].dateTimeObject;if(n<a)break}var o=e.segments[e.segments.length-1],s=o.dateTimeObject,u=o.videoTimingInfo?es(o.videoTimingInfo):o.duration+o.duration*Qo,l=new Date(s.getTime()+1e3*u);return n>l?null:(n>s&&(i=o),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Uo.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},is=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var n=0,i=void 0,r=0;r<e.segments.length;r++)if(i=e.segments[r],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,t<=n)break;var a=e.segments[e.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+a.duration*Qo)return null;i=a}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},rs=function(t,e){var n=void 0,i=void 0;try{n=new Date(t),i=new Date(e)}catch(o){}var r=n.getTime(),a=i.getTime();return(a-r)/1e3},as=function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++){var n=t.segments[e];if(!n.dateTimeObject)return!1}return!0},os=function(t){var e=t.playlist,n=t.time,i=void 0===n?void 0:n,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var a=is(i,e);if(!a)return r({message:"valid programTime was not found"});if("estimate"===a.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var o={mediaSeconds:i},s=ts(i,a.segment);return s&&(o.programDateTime=s.toISOString()),r(null,o)},ss=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,a=void 0===r?2:r,o=e.seekTo,s=e.pauseAfterSeek,u=void 0===s||s,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if("undefined"===typeof n||!i||!o)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!as(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var h=ns(n,i);if(!h)return c({message:n+" was not found in the stream"});var d=h.segment,p=rs(d.dateTimeObject,n);if("estimate"===h.type)return 0===a?c({message:n+" is not buffered yet. Try again"}):(o(h.estimatedStart+p),void l.one("seeked",function(){t({programTime:n,playlist:i,retryCount:a-1,seekTo:o,pauseAfterSeek:u,tech:l,callback:c})}));var f=d.start+p,m=function(){return c(null,l.currentTime())};l.one("seeked",m),u&&l.pause(),o(f)},us=1/30,ls=3*us,cs=function(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Wa.createTimeRanges(n)},hs=function(t,e){return cs(t,function(t,n){return t-us<=e&&n+us>=e})},ds=function(t,e){return cs(t,function(t){return t-us>=e})},ps=function(t){if(t.length<2)return Wa.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return Wa.createTimeRanges(e)},fs=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},ms=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.length?t.end(t.length-1):0;return(i-e)/n},gs=function(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},vs=function(t,e,n){var i=e.player_;if(n.captions&&n.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),n.captionStreams)if(!t.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var a=i.textTracks().getTrackById(r);t.inbandTextTracks_[r]=a||i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)},ys=function(t,e,n){var i=void 0,r=void 0;if(n&&n.cues){i=n.cues.length;while(i--)r=n.cues[i],r.startTime<=e&&r.endTime>=t&&n.removeCue(r)}},_s=function(t){Object.defineProperties(t.frame,{id:{get:function(){return Wa.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Wa.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Wa.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},bs=function(t){var e=void 0;return e=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t,e},ws=function(t,e,n){var i=r.a.WebKitDataCue||r.a.VTTCue;if(e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new i(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var a=bs(t.mediaSource_.duration);if(n.forEach(function(t){var e=t.cueTime+this.timestampOffset;!("number"!==typeof e||r.a.isNaN(e)||e<0)&&e<1/0&&t.frames.forEach(function(t){var n=new i(e,e,t.value||t.url||t.data||"");n.frame=t,n.value=t,_s(n),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var o=t.metadataTrack_.cues,s=[],u=0;u<o.length;u++)o[u]&&s.push(o[u]);var l=s.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),c=Object.keys(l).sort(function(t,e){return Number(t)-Number(e)});c.forEach(function(t,e){var n=l[t],i=Number(c[e+1])||a;n.forEach(function(t){t.endTime=i})})}}},xs="undefined"!==typeof window?window:{},Ts="undefined"===typeof Symbol?"__target":Symbol(),Ss="application/javascript",Es=xs.BlobBuilder||xs.WebKitBlobBuilder||xs.MozBlobBuilder||xs.MSBlobBuilder,Ms=xs.URL||xs.webkitURL||Ms&&Ms.msURL,Cs=xs.Worker;function As(t,e){return function(n){var i=this;if(!e)return new Cs(t);if(Cs&&!n){var r=e.toString().replace(/^function.+?{/,"").slice(0,-1),a=Ls(r);return this[Ts]=new Cs(a),Rs(this[Ts],a),this[Ts]}var o={postMessage:function(t){i.onmessage&&setTimeout(function(){i.onmessage({data:t,target:o})})}};e.call(o),this.postMessage=function(t){setTimeout(function(){o.onmessage({data:t,target:i})})},this.isThisThread=!0}}if(Cs){var ks,Ps=Ls("self.onmessage = function () {}"),Os=new Uint8Array(1);try{ks=new Cs(Ps),ks.postMessage(Os,[Os.buffer])}catch(zl){Cs=null}finally{Ms.revokeObjectURL(Ps),ks&&ks.terminate()}}function Ls(t){try{return Ms.createObjectURL(new Blob([t],{type:Ss}))}catch(zl){var e=new Es;return e.append(t),Ms.createObjectURL(e.getBlob(type))}}function Rs(t,e){if(t&&e){var n=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&Ms.revokeObjectURL(t.objURL),n.call(t)}}}var Is=new As("./transmuxer-worker.worker.js",function(t,e){var n=this;(function(){var t,e,i,r,a,o,s,u,l,c,h,d,p,f,m,g,v,y,_,b,w,x,T,S,E,M,C,A,k,P,O,L,R,I,D,N,U=Math.pow(2,32)-1;(function(){var t;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(t in T)T.hasOwnProperty(t)&&(T[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),M=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k={video:C,audio:A},L=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),I=R,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=R,P=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),t=function(t){var e,n,i,r=[],a=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);e=r.length;while(e--)a+=r[e].byteLength;for(n=new Uint8Array(a+8),i=new DataView(n.buffer,n.byteOffset,n.byteLength),i.setUint32(0,n.byteLength),n.set(t,4),e=0,a=8;e<r.length;e++)n.set(r[e],a),a+=r[e].byteLength;return n},e=function(){return t(T.dinf,t(T.dref,L))},i=function(e){return t(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},r=function(){return t(T.ftyp,S,E,S,M)},g=function(e){return t(T.hdlr,k[e])},a=function(e){return t(T.mdat,e)},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(T.mdhd,n)},f=function(e){return t(T.mdia,m(e),g(e.type),s(e))},o=function(e){return t(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(n){return t(T.minf,"video"===n.type?t(T.vmhd,P):t(T.smhd,O),e(),y(n))},u=function(e,n){var i=[],r=n.length;while(r--)i[r]=b(n[r]);return t.apply(null,[T.moof,o(e)].concat(i))},l=function(e){var n=e.length,i=[];while(n--)i[n]=d(e[n]);return t.apply(null,[T.moov,h(4294967295)].concat(i).concat(c(e)))},c=function(e){var n=e.length,i=[];while(n--)i[n]=w(e[n]);return t.apply(null,[T.mvex].concat(i))},h=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(T.mvhd,n)},v=function(e){var n,i,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,a[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(T.sdtp,a)},y=function(e){return t(T.stbl,_(e),t(T.stts,N),t(T.stsc,I),t(T.stsz,D),t(T.stco,R))},function(){var e,n;_=function(i){return t(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?e(i):n(i))},e=function(e){var n,i=e.sps||[],r=e.pps||[],a=[],o=[];for(n=0;n<i.length;n++)a.push((65280&i[n].byteLength)>>>8),a.push(255&i[n].byteLength),a=a.concat(Array.prototype.slice.call(i[n]));for(n=0;n<r.length;n++)o.push((65280&r[n].byteLength)>>>8),o.push(255&r[n].byteLength),o=o.concat(Array.prototype.slice.call(r[n]));return t(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(T.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length]).concat(a).concat([r.length]).concat(o))),t(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},n=function(e){return t(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))}}(),p=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(T.tkhd,n)},b=function(e){var n,i,r,a,o,s,u;return n=t(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(U+1)),u=Math.floor(e.baseMediaDecodeTime%(U+1)),i=t(T.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),o=92,"audio"===e.type?(r=x(e,o),t(T.traf,n,i,r)):(a=v(e),r=x(e,a.length+o),t(T.traf,n,i,r,a))},d=function(e){return e.duration=e.duration||4294967295,t(T.trak,p(e),f(e))},w=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(T.trex,n)},function(){var e,n,i;i=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},n=function(e,n){var r,a,o,s;for(a=e.samples||[],n+=20+16*a.length,r=i(a,n),s=0;s<a.length;s++)o=a[s],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return t(T.trun,new Uint8Array(r))},e=function(e,n){var r,a,o,s;for(a=e.samples||[],n+=20+8*a.length,r=i(a,n),s=0;s<a.length;s++)o=a[s],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return t(T.trun,new Uint8Array(r))},x=function(t,i){return"audio"===t.type?e(t,i):n(t,i)}}();var B,j,F,z,V,H={ftyp:r,mdat:a,moof:u,moov:l,initSegment:function(t){var e,n=r(),i=l(t);return e=new Uint8Array(n.byteLength+i.byteLength),e.set(n),e.set(i,n.byteLength),e}},G=function(t){return t>>>0},W={toUnsigned:G},$=W.toUnsigned;B=function(t,e){var n,i,r,a,o,s=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=$(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=j(t.subarray(n+4,n+8)),a=i>1?n+i:t.byteLength,r===e[0]&&(1===e.length?s.push(t.subarray(n+8,a)):(o=B(t.subarray(n+8,a),e.slice(1)),o.length&&(s=s.concat(o)))),n=a;return s},j=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3]),e},F=function(t){var e={},n=B(t,["moov","trak"]);return n.reduce(function(t,e){var n,i,r,a,o;return n=B(e,["tkhd"])[0],n?(i=n[0],r=0===i?12:20,a=$(n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),o=B(e,["mdia","mdhd"])[0],o?(i=o[0],r=0===i?12:20,t[a]=$(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),t):null):null},e)},z=function(t,e){var n,i,r;return n=B(e,["moof","traf"]),i=[].concat.apply([],n.map(function(e){return B(e,["tfhd"]).map(function(n){var i,r,a;return i=$(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=t[i]||9e4,a=B(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=$(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=$(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0],a=a||1/0,a/r})})),r=Math.min.apply(null,i),isFinite(r)?r:0},V=function(t){var e=B(t,["moov","trak"]),n=[];return e.forEach(function(t){var e=B(t,["mdia","hdlr"]),i=B(t,["tkhd"]);e.forEach(function(t,e){var r,a,o,s=j(t.subarray(8,12)),u=i[e];"vide"===s&&(r=new DataView(u.buffer,u.byteOffset,u.byteLength),a=r.getUint8(0),o=0===a?r.getUint32(12):r.getUint32(20),n.push(o))})}),n};var q={findBox:B,parseType:j,timescale:F,startTime:z,videoTrackIds:V},X=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,a;if(n=t[e],n)if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){t={}}}};X.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},X.prototype.push=function(t){this.trigger("data",t)},X.prototype.flush=function(t){this.trigger("done",t)};var Y,J,Z,K,Q,tt,et=X,nt=function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)n=t[e],"access_unit_delimiter_rbsp"===n.nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),i=[n],i.byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},it=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)n=t[e],n.keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),i=[n],i.nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},rt=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},at=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ot=function(t,e){var n=at();return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},st=function(t,e){var n,i,r,a,o,s=e||0,u=[];for(n=0;n<t.length;n++)for(a=t[n],i=0;i<a.length;i++)o=a[i],r=ot(o,s),s+=r.size,u.push(r);return u},ut=function(t){var e,n,i,r,a,o,s=0,u=t.byteLength,l=t.nalCount,c=u+4*l,h=new Uint8Array(c),d=new DataView(h.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)o=a[i],d.setUint32(s,o.data.byteLength),s+=4,h.set(o.data,s),s+=o.data.byteLength;return h},lt={groupNalsIntoFrames:nt,groupFramesIntoGops:it,extendFirstKeyFrame:rt,generateSampleTable:st,concatenateNalData:ut},ct=[33,16,5,32,164,27],ht=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],dt=function(t){var e=[];while(t--)e.push(0);return e},pt=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=new Uint8Array(t[n].reduce(function(t,e){return t.concat(e)},[])),e},{})},ft={96e3:[ct,[227,64],dt(154),[56]],88200:[ct,[231],dt(170),[56]],64e3:[ct,[248,192],dt(240),[56]],48e3:[ct,[255,192],dt(268),[55,148,128],dt(54),[112]],44100:[ct,[255,192],dt(268),[55,163,128],dt(84),[112]],32e3:[ct,[255,192],dt(268),[55,234],dt(226),[112]],24e3:[ct,[255,192],dt(268),[55,255,128],dt(268),[111,112],dt(126),[224]],16e3:[ct,[255,192],dt(268),[55,255,128],dt(268),[111,255],dt(269),[223,108],dt(195),[1,192]],12e3:[ht,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,253,128],dt(259),[56]],11025:[ht,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,255,192],dt(268),[55,175,128],dt(108),[112]],8e3:[ht,dt(268),[3,121,16],dt(47),[7]]},mt=pt(ft),gt=9e4;Y=function(t){return t*gt},J=function(t,e){return t*e},Z=function(t){return t/gt},K=function(t,e){return t/e},Q=function(t,e){return Y(K(t,e))},tt=function(t,e){return J(Z(t),e)};var vt={secondsToVideoTs:Y,secondsToAudioTs:J,videoTsToSeconds:Z,audioTsToSeconds:K,audioTsToVideoTs:Q,videoTsToAudioTs:tt},yt=9e4,_t=function(t){var e,n,i=0;for(e=0;e<t.length;e++)n=t[e],i+=n.data.byteLength;return i},bt=function(t,e,n,i){var r,a,o,s=0,u=0,l=0,c=0;if(e.length&&(r=vt.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),s=Math.ceil(yt/(t.samplerate/1024)),n&&i&&(u=r-Math.max(n,i),l=Math.floor(u/s),c=l*s),!(l<1||c>yt/2))){for(a=mt[t.samplerate],a||(a=e[0].data),o=0;o<l;o++)e.splice(o,0,{data:a});t.baseMediaDecodeTime-=Math.floor(vt.videoTsToAudioTs(c,t.samplerate))}},wt=function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},xt=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},Tt=function(t){var e,n,i=0,r=new Uint8Array(_t(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r},St={prefixWithSilence:bt,trimAdtsFramesByEarliestDts:wt,generateSampleTable:xt,concatenateFrameData:Tt},Et=9e4,Mt=function(t,e){"number"===typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"===typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},Ct=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},At=function(t,e){var n,i,r=t.minSegmentDts;return e||(r-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===t.type&&(i=t.samplerate/Et,n*=i,n=Math.floor(n)),n},kt={clearDtsInfo:Ct,calculateTrackBaseMediaDecodeTime:At,collectDtsInfo:Mt},Pt=4,Ot=128,Lt=function(t){var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;while(e<t.byteLength){if(t[e]===Ot)break;while(255===t[e])i+=255,e++;i+=t[e++];while(255===t[e])r+=255,e++;if(r+=t[e++],!n.payload&&i===Pt){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,i=0,r=0}return n},Rt=function(t){return 181!==t.payload[0]?null:49!==(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},It=function(t,e){var n,i,r,a,o=[];if(!(64&e[0]))return o;for(i=31&e[0],n=0;n<i;n++)r=3*n,a={type:3&e[r+2],pts:t},4&e[r+2]&&(a.ccData=e[r+3]<<8|e[r+4],o.push(a));return o},Dt=function(t){var e,n,i=t.byteLength,r=[],a=1;while(a<i-2)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},Nt={parseSei:Lt,parseUserData:Rt,parseCaptionPackets:It,discardEmulationPreventionBytes:Dt,USER_DATA_REGISTERED_ITU_T_T35:Pt},Ut=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ht(0,0),new Ht(0,1),new Ht(1,0),new Ht(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};Ut.prototype=new et,Ut.prototype.push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=Nt.parseSei(t.escapedRBSP),e.payloadType===Nt.USER_DATA_REGISTERED_ITU_T_T35&&(n=Nt.parseUserData(e),n)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=Nt.parseCaptionPackets(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},Ut.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},Ut.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},Ut.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},Ut.prototype.setsChannel1Active=function(t){return 4096===(30720&t.ccData)},Ut.prototype.setsChannel2Active=function(t){return 6144===(30720&t.ccData)},Ut.prototype.setsTextOrXDSActive=function(t){return 256===(28928&t.ccData)||4138===(30974&t.ccData)||6186===(30974&t.ccData)};var Bt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},jt=function(t){return null===t?"":(t=Bt[t]||t,String.fromCharCode(t))},Ft=14,zt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Vt=function(){var t=[],e=Ft+1;while(e--)t.push("");return t},Ht=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if(e=32639&t.ccData,e!==this.lastControlCode_){if(4096===(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Vt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Vt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Vt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))i=(3&i)<<8,a=jt(i|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=(3&i)<<8,a=jt(i|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14===(14&r)&&this.addFormatting(t.pts,["i"]),1===(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var o=zt.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16===(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=jt(i),a+=jt(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Ht.prototype=new et,Ht.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(zl){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Ht.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Vt(),this.nonDisplayed_=Vt(),this.lastControlCode_=null,this.column_=0,this.row_=Ft,this.rollUpRows_=2,this.formatting_=[]},Ht.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ht.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Ht.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Ht.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Ht.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Ht.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Ht.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Ht.prototype.isNormalChar=function(t){return t>=32&&t<=127},Ht.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=Ft,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Vt(),this.displayed_=Vt()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Ht.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},Ht.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},Ht.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},Ht.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},Ht.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<Ft+1;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Ht.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};var Gt={CaptionStream:Ut,Cea608Stream:Ht},Wt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},$t=8589934592,qt=4294967296,Xt=function(t,e){var n=1;t>e&&(n=-1);while(Math.abs(e-t)>qt)t+=n*$t;return t},Yt=function t(e){var n,i;t.prototype.init.call(this),this.type_=e,this.push=function(t){t.type===this.type_&&(void 0===i&&(i=t.dts),t.dts=Xt(t.dts,i),t.pts=Xt(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.discontinuity=function(){i=void 0,n=void 0}};Yt.prototype=new et;var Jt,Zt={TimestampRolloverStream:Yt,handleRollover:Xt},Kt=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},Qt=function(t,e,n){return decodeURIComponent(Kt(t,e,n))},te=function(t,e,n){return unescape(Kt(t,e,n))},ee=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},ne={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Qt(t.data,1,e),t.value=Qt(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Qt(t.data,1,e),t.url=Qt(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=te(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};Jt=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,r=[],a=0;if(Jt.prototype.init.call(this),this.dispatchType=Wt.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,o,s,u,l,c;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(a=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),a+=t.data.byteLength,1===r.length&&(i=ee(t.data.subarray(6,10)),i+=10),!(a<i)){for(e={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)e.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();o=10,64&e.data[5]&&(o+=4,o+=ee(e.data.subarray(10,14)),i-=ee(e.data.subarray(16,20)));do{if(s=ee(e.data.subarray(o+4,o+8)),s<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(c=String.fromCharCode(e.data[o],e.data[o+1],e.data[o+2],e.data[o+3]),u={id:c,data:e.data.subarray(o+10,o+s+10)},u.key=u.id,ne[u.id]&&(ne[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var h=u.data,d=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;d*=4,d+=3&h[7],u.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),o+=10,o+=s}while(o<i);this.trigger("data",e)}}},Jt.prototype=new et;var ie,re,ae,oe=Jt,se=Zt.TimestampRolloverStream,ue=188,le=71;ie=function(){var t=new Uint8Array(ue),e=0;ie.prototype.init.call(this),this.push=function(n){var i,r=0,a=ue;e?(i=new Uint8Array(n.byteLength+e),i.set(t.subarray(0,e)),i.set(n,e),e=0):i=n;while(a<i.byteLength)i[r]!==le||i[a]!==le?(r++,a++):(this.trigger("data",i.subarray(r,a)),r+=ue,a+=ue);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){e===ue&&t[0]===le&&(this.trigger("data",t),e=0),this.trigger("done")}},ie.prototype=new et,re=function(){var t,e,n,i;re.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r,a,o;if(1&t[5]){i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&t[1])<<8|t[2],r=3+n-4,a=(15&t[10])<<8|t[11],o=12+a;while(o<r){var s=t[o],u=(31&t[o+1])<<8|t[o+2];s===Wt.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=u:s===Wt.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=u:s===Wt.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][u]=s),o+=5+((15&t[o+3])<<8|t[o+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid){n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);while(this.packetsWaitingForPmt.length)this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=Wt.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Wt.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}},re.prototype=new et,re.STREAM_TYPES={h264:27,adts:15},ae=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!==(4&t[6]),n=t[7],192&n&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},a=function(e,n,i){var a,o=new Uint8Array(e.size),s={type:n},u=0,l=0,c=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)a=e.data[u],o.set(a.data,l),l+=a.data.byteLength;r(o,s),c="video"===n||s.packetLength<=e.size,(i||c)&&(e.size=0,e.data.length=0),c&&t.trigger("data",s)}};ae.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var t,o;switch(r.streamType){case Wt.H264_STREAM_TYPE:case Wt.H264_STREAM_TYPE:t=e,o="video";break;case Wt.ADTS_STREAM_TYPE:t=n,o="audio";break;case Wt.METADATA_STREAM_TYPE:t=i,o="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&a(t,o,!0),t.data.push(r),t.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=r.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[r.type]()},this.flush=function(){a(e,"video"),a(n,"audio"),a(i,"timed-metadata"),this.trigger("done")}},ae.prototype=new et;var ce={PAT_PID:0,MP2T_PACKET_LENGTH:ue,TransportPacketStream:ie,TransportParseStream:re,ElementaryStream:ae,TimestampRolloverStream:se,CaptionStream:Gt.CaptionStream,Cea608Stream:Gt.Cea608Stream,MetadataStream:oe};for(var he in Wt)Wt.hasOwnProperty(he)&&(ce[he]=Wt[he]);var de,pe=ce,fe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];de=function(){var t;de.prototype.init.call(this),this.push=function(e){var n,i,r,a,o,s,u=0,l=0;if("audio"===e.type){t?(a=t,t=new Uint8Array(a.byteLength+e.data.byteLength),t.set(a),t.set(e.data,a.byteLength)):t=e.data;while(u+5<t.length)if(255===t[u]&&240===(246&t[u+1])){if(i=2*(1&~t[u+1]),n=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,o=1024*(1+(3&t[u+6])),s=9e4*o/fe[(60&t[u+2])>>>2],r=u+n,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+l*s,dts:e.dts+l*s,sampleCount:o,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:fe[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+i,r)}),t.byteLength===r)return void(t=void 0);l++,t=t.subarray(r)}else u++}},this.flush=function(){this.trigger("done")}},de.prototype=new et;var me,ge=de;me=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,a=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");a.set(t.subarray(r,r+o)),n=new DataView(a.buffer).getUint32(0),i=8*o,e-=o},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,r=Math.floor(t/8),t-=8*r,e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),a=n>>>32-r;return i-=r,i>0?n<<=r:e>0&&this.loadWord(),r=t-r,r>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!==(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ve,ye,_e,be=me;ye=function(){var t,e,n=0;ye.prototype.init.call(this),this.push=function(i){var r;for(e?(r=new Uint8Array(e.byteLength+i.data.byteLength),r.set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}while(t<e.byteLength)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3;break}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}},ye.prototype=new et,_e={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ve=function(){var t,e,n,i,r,a,o,s=new ye;ve.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,i=t.dts,s.push(t))},s.on("data",function(o){var s={trackId:e,pts:n,dts:i,data:o};switch(31&o[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(o.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(o.subarray(1)),s.config=a(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp";break;default:break}t.trigger("data",s)}),s.on("done",function(){t.trigger("done")}),this.flush=function(){s.flush()},o=function(t,e){var n,i,r=8,a=8;for(n=0;n<t;n++)0!==a&&(i=e.readExpGolomb(),a=(r+i+256)%256),r=0===a?r:a},r=function(t){var e,n,i=t.byteLength,r=[],a=1;while(a<i-2)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},a=function(t){var e,n,i,r,a,s,u,l,c,h,d,p,f,m,g=0,v=0,y=0,_=0,b=1;if(e=new be(t),n=e.readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),_e[n]&&(a=e.readUnsignedExpGolomb(),3===a&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==a?8:12,m=0;m<d;m++)e.readBoolean()&&o(m<6?16:64,e);if(e.skipUnsignedExpGolomb(),s=e.readUnsignedExpGolomb(),0===s)e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),m=0;m<u;m++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),l=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),h=e.readBits(1),0===h&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(f=e.readUnsignedByte(),f){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()];break}p&&(b=p[0]/p[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*g-2*v)*b),height:(2-h)*(c+1)*16-2*y-2*_}}},ve.prototype=new et;var we,xe={H264Stream:ve,NalByteStream:ye},Te=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Se=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},Ee=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Me=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},Ce=function(t,e,n){return unescape(Me(t,e,n))},Ae=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],i=t[e+5],r=(16&i)>>4;return r?n+20:n+10},ke=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3,r=6144&t[e+3];return r|i|n},Pe=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240===(240&t[e+1])?"audio":null},Oe=function(t){var e=0;while(e+5<t.length){if(255===t[e]&&240===(246&t[e+1]))return Te[(60&t[e+2])>>>2];e++}return null},Le=function(t){var e,n,i,r;e=10,64&t[5]&&(e+=4,e+=Ee(t.subarray(10,14)));do{if(n=Ee(t.subarray(e+4,e+8)),n<1)return null;if(r=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]),"PRIV"===r){i=t.subarray(e+10,e+n+10);for(var a=0;a<i.byteLength;a++)if(0===i[a]){var o=Ce(i,0,a);if("com.apple.streaming.transportStreamTimestamp"===o){var s=i.subarray(a+1),u=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return u*=4,u+=3&s[7],u}break}}e+=10,e+=n}while(e<t.byteLength);return null},Re={isLikelyAacData:Se,parseId3TagSize:Ae,parseAdtsSize:ke,parseType:Pe,parseSampleRate:Oe,parseAacTimestamp:Le};we=function(){var t=new Uint8Array,e=0;we.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var i,r,a,o,s=0,u=0;t.length?(o=t.length,t=new Uint8Array(n.byteLength+o),t.set(t.subarray(0,o)),t.set(n,o)):t=n;while(t.length-u>=3)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(255!==(255&t[u])||240!==(240&t[u+1]))u++;else{if(t.length-u<7)break;if(s=Re.parseAdtsSize(t,u),u+s>t.length)break;a={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",a),u+=s}else{if(t.length-u<10)break;if(s=Re.parseId3TagSize(t,u),u+s>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",r),u+=s}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array}},we.prototype=new et;var Ie,De,Ne,Ue,Be=we,je=xe.H264Stream,Fe=Re.isLikelyAacData,ze=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ve=["width","height","profileIdc","levelIdc","profileCompatibility"],He=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Ge=function(t,e,n,i,r,a){var o=n-e,s=i-e,u=r-n;return{start:{dts:t,pts:t+o},end:{dts:t+s,pts:t+u},prependedContentDuration:a,baseMediaDecodeTime:t}};De=function(t,e){var n=[],i=0,r=0,a=0,o=1/0;e=e||{},De.prototype.init.call(this),this.push=function(e){kt.collectDtsInfo(t,e),t&&ze.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){r=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){o=t},this.setAudioAppendStart=function(t){a=t},this.flush=function(){var s,u,l,c;0!==n.length?(s=St.trimAdtsFramesByEarliestDts(n,t,r),t.baseMediaDecodeTime=kt.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),St.prefixWithSilence(t,s,a,o),t.samples=St.generateSampleTable(s),l=H.mdat(St.concatenateFrameData(s)),n=[],u=H.moof(i,[t]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),kt.clearDtsInfo(t),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}},De.prototype=new et,Ie=function(t,e){var n,i,r=0,a=[],o=[];e=e||{},Ie.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){kt.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],Ve.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),a.push(e)},this.flush=function(){var n,i,s,u,l,c,h,d,p=0;while(a.length){if("access_unit_delimiter_rbsp"===a[0].nalUnitType)break;a.shift()}if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=lt.groupNalsIntoFrames(a),s=lt.groupFramesIntoGops(n),s[0][0].keyFrame||(i=this.getGopForFusion_(a[0],t),i?(p=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=lt.extendFirstKeyFrame(s)),o.length){var f;if(f=e.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s),!f)return this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");kt.clearDtsInfo(t),s=f}kt.collectDtsInfo(t,s),t.samples=lt.generateSampleTable(s),l=H.mdat(lt.concatenateNalData(s)),t.baseMediaDecodeTime=kt.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),h=s[0],d=s[s.length-1],this.trigger("segmentTimingInfo",Ge(t.baseMediaDecodeTime,h.dts,h.pts,d.dts+d.duration,d.pts+d.duration,p)),this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=H.moof(r,[t]),c=new Uint8Array(u.byteLength+l.byteLength),r++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){kt.clearDtsInfo(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,i,r,a,o,s=45e3,u=1e4,l=1/0;for(o=0;o<this.gopCache_.length;o++)a=this.gopCache_[o],r=a.gop,t.pps&&He(t.pps[0],a.pps[0])&&t.sps&&He(t.sps[0],a.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration,n>=-u&&n<=s&&(!i||l>n)&&(i=a,l=n)));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,a,s,u,l;a=t.byteLength,s=t.nalCount,u=t.duration,e=n=0;while(e<o.length&&n<t.length){if(i=o[e],r=t[n],i.pts===r.pts)break;r.pts>i.pts?e++:(n++,a-=r.byteLength,s-=r.nalCount,u-=r.duration)}return 0===n?t:n===t.length?null:(l=t.slice(n),l.byteLength=a,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,s,u;e=o.length-1,n=t.length-1,a=null,s=!1;while(e>=0&&n>=0){if(i=o[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===o.length-1&&(a=n),n--)}if(!s&&null===a)return null;if(u=s?n:a,0===u)return t;var l=t.slice(u),c=l.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){o=t}},Ie.prototype=new et,Ue=function(t,e){this.numberOfTracks=0,this.metadataStream=e,t=t||{},"undefined"!==typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"===typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ue.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}},Ue.prototype=new et,Ue.prototype.flush=function(t){var e,n,i,r,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Ve.forEach(function(t){o.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,ze.forEach(function(t){o.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=H.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)e=this.pendingCaptions[r],e.startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=s),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=s),e.endTime/=9e4,o.captionStreams[e.stream]=!0,o.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)n=this.pendingMetadata[r],n.cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ne=function(t){var e,n,i=this,r=!0;Ne.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new pe.MetadataStream,e.aacStream=new Be,e.audioTimestampRolloverStream=new pe.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new pe.TimestampRolloverStream("timed-metadata"),e.adtsStream=new ge,e.coalesceStream=new Ue(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(r){"timed-metadata"!==r.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new De(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new pe.MetadataStream,r.packetStream=new pe.TransportPacketStream,r.parseStream=new pe.TransportParseStream,r.elementaryStream=new pe.ElementaryStream,r.videoTimestampRolloverStream=new pe.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new pe.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new pe.TimestampRolloverStream("timed-metadata"),r.adtsStream=new ge,r.h264Stream=new je,r.captionStream=new pe.CaptionStream,r.coalesceStream=new Ue(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(a){var o;if("metadata"===a.type){o=a.tracks.length;while(o--)e||"video"!==a.tracks[o].type?n||"audio"!==a.tracks[o].type||(n=a.tracks[o],n.timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(e=a.tracks[o],e.timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime);e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new Ie(e,t),r.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts))}),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new De(n,t),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,kt.clearDtsInfo(n),t.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,kt.clearDtsInfo(e),r.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=i)),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Fe(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ne.prototype=new et;var We,$e,qe={Transmuxer:Ne,VideoSegmentStream:Ie,AudioSegmentStream:De,AUDIO_PROPERTIES:ze,VIDEO_PROPERTIES:Ve,generateVideoSegmentTimingInfo:Ge},Xe=q.parseType,Ye=function(t){return new Date(1e3*t-20828448e5)},Je=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},Ze=function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31);break}return r},Ke={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:We(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,a=new DataView(t.buffer,t.byteOffset,t.byteLength),o={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},s=31&t[5];for(i=6,r=0;r<s;r++)n=a.getUint16(i),i+=2,o.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=a.getUint16(i),i+=2,o.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return o},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:Xe(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;while(i<t.byteLength)n.compatibleBrands.push(Xe(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:We(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:We(t.subarray(8))}},hdlr:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:Xe(t.subarray(8,12)),name:""},i=8;for(i=24;i<t.byteLength;i++){if(0===t[i]){i++;break}n.name+=String.fromCharCode(t[i])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(t){return{byteLength:t.byteLength,nals:Ze(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=Ye(n.getUint32(i)),i+=8,r.modificationTime=Ye(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=Ye(n.getUint32(i)),i+=4,r.modificationTime=Ye(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:We(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:We(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=We(t.subarray(28))[0]),n},moof:function(t){return{boxes:We(t)}},moov:function(t){return{boxes:We(t)}},mvex:function(t){return{boxes:We(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=Ye(e.getUint32(n)),n+=8,i.modificationTime=Ye(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8,i.duration=e.getUint32(n)):(i.creationTime=Ye(e.getUint32(n)),n+=4,i.modificationTime=Ye(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4,i.duration=e.getUint32(n)),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:We(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:We(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return Ke.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],o=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),a&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),o&&(i.defaultSampleDuration=n.getUint32(e),e+=4),s&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=Ye(e.getUint32(n)),n+=8,i.modificationTime=Ye(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8,i.duration=e.getUint32(n)):(i.creationTime=Ye(e.getUint32(n)),n+=4,i.modificationTime=Ye(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4,i.duration=e.getUint32(n)),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:We(t)}},trak:function(t){return{boxes:We(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),h=8;r&&(n.dataOffset=i.getInt32(h),h+=4),a&&c&&(e={flags:Je(t.subarray(h,h+4))},h+=4,o&&(e.duration=i.getUint32(h),h+=4),s&&(e.size=i.getUint32(h),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e),c--);while(c--)e={},o&&(e.duration=i.getUint32(h),h+=4),s&&(e.size=i.getUint32(h),h+=4),u&&(e.flags=Je(t.subarray(h,h+4)),h+=4),l&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};We=function(t){for(var e,n,i,r,a,o=0,s=[],u=new ArrayBuffer(t.length),l=new Uint8Array(u),c=0;c<t.length;++c)l[c]=t[c];e=new DataView(u);while(o<t.byteLength)n=e.getUint32(o),i=Xe(t.subarray(o+4,o+8)),r=n>1?o+n:t.byteLength,a=(Ke[i]||function(t){return{data:t}})(t.subarray(o+8,r)),a.size=n,a.type=i,s.push(a),o=r;return s},$e=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,i){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var i=n+"  "+e+": ",r=t[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var a=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return a?1===a.length?i+"<"+a.join("").slice(1)+">":i+"<\n"+a.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+$e(t.boxes,e+1):"")}).join("\n")};var Qe={inspect:We,textify:$e,parseTfdt:Ke.tfdt,parseHdlr:Ke.hdlr,parseTfhd:Ke.tfhd,parseTrun:Ke.trun,parseSidx:Ke.sidx},tn=Nt.discardEmulationPreventionBytes,en=Gt.CaptionStream,nn=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},rn=function(t,e,n){var i,r,a,o,s=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=a)if(a=s.getUint32(r),r+=4,!(a<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+a),c=nn(r,e);i={nalUnitType:"sei_rbsp",size:a,data:l,escapedRBSP:tn(l),trackId:n},c?(i.pts=c.pts,i.dts=c.dts,o=c):(i.pts=o.pts,i.dts=o.dts),u.push(i);break;default:break}return u},an=function(t,e,n){var i=e,r=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,o=n.trackId,s=[];return t.forEach(function(t){var e=Qe.parseTrun(t),n=e.samples;n.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=a),t.trackId=o,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration}),s=s.concat(n)}),s},on=function(t,e){var n=q.findBox(t,["moof","traf"]),i=q.findBox(t,["mdat"]),r={},a=[];return i.forEach(function(t,e){var i=n[e];a.push({mdat:t,traf:i})}),a.forEach(function(t){var n,i,a=t.mdat,o=t.traf,s=q.findBox(o,["tfhd"]),u=Qe.parseTfhd(s[0]),l=u.trackId,c=q.findBox(o,["tfdt"]),h=c.length>0?Qe.parseTfdt(c[0]).baseMediaDecodeTime:0,d=q.findBox(o,["trun"]);e===l&&d.length>0&&(n=an(d,h,u),i=rn(a,n,l),r[l]||(r[l]=[]),r[l]=r[l].concat(i))}),r},sn=function(t,e,n){var i;return e?(i=on(t,e),{seiNals:i[e],timescale:n}):null},un=function(){var t,e,n,i,r,a=!1;this.isInitialized=function(){return a},this.init=function(){t=new en,a=!0,t.on("data",function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,r.captions.push(t),r.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"===typeof e&&0===Object.keys(e).length)&&(n!==t[0]||i!==e[n])},this.parse=function(t,a,o){var s;if(!this.isInitialized())return null;if(!a||!o)return null;if(this.isNewInit(a,o))n=a[0],i=o[n];else if(!n||!i)return e.push(t),null;while(e.length>0){var u=e.shift();this.parse(u,a,o)}return s=sn(t,n,i),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},ln=un,cn={generator:H,probe:q,Transmuxer:qe.Transmuxer,AudioSegmentStream:qe.AudioSegmentStream,VideoSegmentStream:qe.VideoSegmentStream,CaptionParser:ln},hn=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},dn=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),pn=function(t,e){e.on("data",function(e){var n=e.initSegment;e.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=e.data;e.data=i.buffer,t.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){t.postMessage({action:"caption",data:e})}),e.on("done",function(e){t.postMessage({action:"done"})}),e.on("gopInfo",function(e){t.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})})},fn=function(){function t(e,n){hn(this,t),this.options=n||{},this.self=e,this.init()}return dn(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new cn.Transmuxer(this.options),pn(this.self,this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}(),mn=function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new fn(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new fn(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}},gn=new mn(n)})()}),Ds={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Ns=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){var i=("00"+Number(e).toString(16)).slice(-2),r=("00"+Number(n).toString(16)).slice(-2);return"avc1."+i+"00"+r})})},Us=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={codecCount:0},n=void 0;return e.codecCount=t.split(",").length,e.codecCount=e.codecCount||2,n=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t),n&&(e.videoCodec=n[2],e.videoObjectTypeIndicator=n[3]),e.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),e.audioProfile=e.audioProfile&&e.audioProfile[2],e},Bs=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return Ns([t])[0]})},js=function(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'},Fs=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"},zs=function(t){var e=t.attributes||{};return e.CODECS?Us(e.CODECS):Ds},Vs=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var i in n){var r=n[i];if(r["default"]&&r.playlists)return Us(r.playlists[0].attributes.CODECS).audioProfile}return null},Hs=function(t,e){var n=Fs(e),i=zs(e),r=e.attributes||{},a=!0,o=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var s=t.mediaGroups.AUDIO[r.AUDIO];if(s)for(var u in o=!0,a=!1,s)if(!s[u].uri&&!s[u].playlists){a=!0;break}}o&&!i.audioProfile&&(a||(i.audioProfile=Vs(t,r.AUDIO)),i.audioProfile||(Wa.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=Ds.audioProfile));var l={};i.videoCodec&&(l.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(l.audio="mp4a.40."+i.audioProfile);var c=js("audio",n,[l.audio]),h=js("video",n,[l.video]),d=js("video",n,[l.video,l.audio]);return o?!a&&l.video?[h,c]:a||l.video?[d,c]:[c,c]:l.video?[d]:[c]},Gs=function(t){var e={type:"",parameters:{}},n=t.trim().split(";");return e.type=n.shift().trim(),n.forEach(function(t){var n=t.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),r=n[1].replace(/"/g,"").trim();e.parameters[i]=r}}),e},Ws=function(t){return/mp4a\.\d+.\d+/i.test(t)},$s=function(t){return/avc1\.[\da-f]+/i.test(t)},qs=function(t,e,n){if("undefined"===typeof e||null===e||!t.length)return[];var i=Math.ceil(9e4*(e-n+3)),r=void 0;for(r=0;r<t.length;r++)if(t[r].pts>i)break;return t.slice(r)},Xs=function(t,e,n){if(!e.length)return t;if(n)return e.slice();var i=e[0].pts,r=0;for(r;r<t.length;r++)if(t[r].pts>=i)break;return t.slice(0,r).concat(e)},Ys=function(t,e,n,i){var r=Math.ceil(9e4*(e-i)),a=Math.ceil(9e4*(n-i)),o=t.slice(),s=t.length;while(s--)if(t[s].pts<=a)break;if(-1===s)return o;var u=s+1;while(u--)if(t[u].pts<=r)break;return u=Math.max(u,0),o.splice(u,s-u+1),o},Js=function(t,e,n){var i=null,r=null,a=0,o=[],s=[];if(!t&&!e)return Wa.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(n)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return Wa.createTimeRange();var u=t.buffered,l=e.buffered,c=u.length;while(c--)o.push({time:u.start(c),type:"start"}),o.push({time:u.end(c),type:"end"});c=l.length;while(c--)o.push({time:l.start(c),type:"start"}),o.push({time:l.end(c),type:"end"});for(o.sort(function(t,e){return t.time-e.time}),c=0;c<o.length;c++)"start"===o[c].type?(a++,2===a&&(i=o[c].time)):"end"===o[c].type&&(a--,1===a&&(r=o[c].time)),null!==i&&null!==r&&(s.push([i,r]),i=null,r=null);return Wa.createTimeRanges(s)},Zs=9e4,Ks=function(t,e){var n=t.addSourceBuffer(e),i=Object.create(null);i.updating=!1,i.realBuffer_=n;var r=function(t){"function"===typeof n[t]?i[t]=function(){return n[t].apply(n,arguments)}:"undefined"===typeof i[t]&&Object.defineProperty(i,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})};for(var a in n)r(a);return i},Qs=function(t){function e(t,n){Ja(this,e);var i=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Wa.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=t,i.codecs_=n,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Wa.browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach(function(t){Ws(t)?i.audioCodec_=t:$s(t)&&(i.videoCodec_=t)}),i.transmuxer_=new Is,i.transmuxer_.postMessage({action:"init",options:r}),i.transmuxer_.onmessage=function(t){return"data"===t.data.action?i.data_(t):"done"===t.data.action?i.done_(t):"gopInfo"===t.data.action?i.appendGopInfo_(t):"videoSegmentTimingInfo"===t.data.action?i.videoSegmentTimingInfo_(t.data.videoSegmentTimingInfo):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"===typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return Js(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}return Qa(e,t),Za(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),vs(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(t){var e={start:{decode:t.start.dts/Zs,presentation:t.start.pts/Zs},end:{decode:t.end.dts/Zs,presentation:t.end.pts/Zs},baseMediaDecodeTime:t.baseMediaDecodeTime/Zs};t.prependedContentDuration&&(e.prependedContentDuration=t.prependedContentDuration/Zs),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(n){if(t[n+"Codec_"]&&!t[n+"Buffer_"]){var i=null;if(t.mediaSource_[n+"Buffer_"])i=t.mediaSource_[n+"Buffer_"],i.updating=!1;else{var r=n+"Codec_",a=n+'/mp4;codecs="'+t[r]+'"';i=Ks(t.mediaSource_.nativeMediaSource_,a),t.mediaSource_[n+"Buffer_"]=i}t[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(r){i.addEventListener(r,function(){if("audio"!==n||!t.audioDisabled_){"updateend"===r&&(t[n+"Buffer_"].updating=!1);var i=e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(n===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)});return i?t.trigger(r):void 0}})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:qs(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=Xs(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=Ys(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),ys(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)ys(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),ws(this,t.captions,t.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(i)}catch(r){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:r.message,originalError:r})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(Wa.EventTarget),tu=function(t){function e(){Ja(this,e);var t=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=void 0;for(n in t.nativeMediaSource_=new r.a.MediaSource,t.nativeMediaSource_)n in e.prototype||"function"!==typeof t.nativeMediaSource_[n]||(t[n]=t.nativeMediaSource_[n].bind(t.nativeMediaSource_));return t.duration_=NaN,Object.defineProperty(t,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(t,"seekable",{get:function(){return this.duration_===1/0?Wa.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(t,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(t,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),t.sourceBuffers=[],t.activeSourceBuffers_=[],t.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var n=!1,i=!0,r=0;r<t.player_.audioTracks().length;r++){var a=t.player_.audioTracks()[r];if(a.enabled&&"main"!==a.kind){n=!0,i=!1;break}}t.sourceBuffers.forEach(function(e,r){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=n;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,i=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=r?i:!i,e.audioDisabled_))return;t.activeSourceBuffers_.push(e)})},t.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},t.onHlsReset_=function(){t.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},t.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},t),t.on("sourceopen",function(e){var n=o.a.querySelector('[src="'+t.url_+'"]');n&&(t.player_=Wa(n.parentNode),t.player_&&(t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_)))}),t.on("sourceended",function(e){for(var n=bs(t.duration),i=0;i<t.sourceBuffers.length;i++){var r=t.sourceBuffers[i],a=r.metadataTrack_&&r.metadataTrack_.cues;a&&a.length&&(a[a.length-1].endTime=n)}}),t.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),t}return Qa(e,t),Za(e,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,n=Gs(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=Ns(i),i=i.filter(function(t){return Ws(t)||$s(t)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),e=new Qs(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(Wa.EventTarget),eu=0;Wa.mediaSources={};var nu=function(t,e){var n=Wa.mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})},iu=function(){return!!r.a.MediaSource&&!!r.a.MediaSource.isTypeSupported&&r.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},ru=function(){if(this.MediaSource={open:nu,supportsNativeMediaSources:iu},iu())return new tu;throw new Error("Cannot use create a virtual MediaSource for this video")};ru.open=nu,ru.supportsNativeMediaSources=iu;var au={createObjectURL:function(t){var e="blob:vjs-media-source/",n=void 0;return t instanceof tu?(n=r.a.URL.createObjectURL(t.nativeMediaSource_),t.url_=n,n):t instanceof tu?(n=e+eu,eu++,Wa.mediaSources[n]=t,n):(n=r.a.URL.createObjectURL(t),t.url_=n,n)}};Wa.MediaSource=ru,Wa.URL=au;var ou=Wa.EventTarget,su=Wa.mergeOptions,uu=function(t,e){for(var n=void 0,i=su(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var a=uo(i,e.playlists[r]);a?i=a:n=!0}return ao(e,function(t,e,r,a){if(t.playlists&&t.playlists.length){var o=t.playlists[0].uri,s=uo(i,t.playlists[0]);s&&(i=s,i.mediaGroups[e][r][a].playlists[0]=i.playlists[o],n=!1)}}),n?null:i},lu=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},cu=function(t,e){var n=Boolean(!t.map&&!e.map),i=n||Boolean(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length);return i&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length},hu=function(t,e){var n={};for(var i in t){var r=t[i],a=r.sidx;if(a){var o=lu(a);if(!e[o])break;var s=e[o].sidxInfo;cu(s,a)&&(n[o]=e[o])}}return n},du=function(t,e,n,i){var r=Object(A["a"])(t,{manifestUri:e,clientOffset:n}),a=hu(r.playlists,i),o=a;return ao(r,function(t,e,n,r){if(t.playlists&&t.playlists.length){var a=t.playlists;o=su(o,hu(a,i))}}),o},pu=function(t,e,n,i,r){var a={uri:Ya(i.handleManifestRedirects,t.resolvedUri),byterange:t.byterange,playlist:e},o=Wa.mergeOptions(a,{responseType:"arraybuffer",headers:Vo(a)});return n(o,r)},fu=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];Ja(this,e);var a=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=i.withCredentials,s=void 0!==o&&o,u=i.handleManifestRedirects,l=void 0!==u&&u;if(a.hls_=n,a.withCredentials=s,a.handleManifestRedirects=l,!t)throw new Error("A non-empty playlist URL or playlist is required");return a.on("minimumUpdatePeriod",function(){a.refreshXml_()}),a.on("mediaupdatetimeout",function(){a.refreshMedia_(a.media().uri)}),a.state="HAVE_NOTHING",a.loadedPlaylists_={},"string"===typeof t?(a.srcUrl=t,a.sidxMapping_={},to(a)):(a.setupChildLoader(r,t),a)}return Qa(e,t),Za(e,[{key:"setupChildLoader",value:function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),r.a.clearTimeout(this.mediaRequest_),r.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"sidxRequestFinished_",value:function(t,e,n,i){var r=this;return function(a,o){if(r.request){if(r.request=null,a)return r.error={status:o.status,message:"DASH playlist request error at URL: "+t.uri,response:o.response,code:2},n&&(r.state=n),r.trigger("error"),i(e,null);var s=new Uint8Array(o.response),u=P.a.parseSidx(s.subarray(8));return i(e,u)}}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"===typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var i=!this.media_||t.uri!==this.media_.uri;if(i&&this.loadedPlaylists_[t.uri]&&this.loadedPlaylists_[t.uri].endList)return this.state="HAVE_METADATA",this.media_=t,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i)if(this.media_&&this.trigger("mediachanging"),t.sidx){var a=void 0,o=void 0;this.masterPlaylistLoader_?(a=this.masterPlaylistLoader_.master,o=this.masterPlaylistLoader_.sidxMapping_):(a=this.master,o=this.sidxMapping_);var s=lu(t.sidx);o[s]={sidxInfo:t.sidx},this.request=pu(t.sidx,t,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(t,a,n,function(i,r){if(!i||!r)throw new Error("failed to request sidx");o[s].sidx=r,e.haveMetadata({startingState:n,playlist:i.playlists[t.uri]})}))}else this.mediaRequest_=r.a.setTimeout(this.haveMetadata.bind(this,{startingState:n,playlist:t}),0)}},{key:"haveMetadata",value:function(t){var e=t.startingState,n=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.uri]=n,this.mediaRequest_=null,this.refreshMedia_(n.uri),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(t){var e=this;r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout(function(){return e.load()},i)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var t=Object(A["a"])(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});t.uri=this.srcUrl;for(var e=0;e<t.playlists.length;e++){var n="placeholder-uri-"+e;t.playlists[e].uri=n,t.playlists[n]=t.playlists[e]}return ao(t,function(e,n,i,r){if(e.playlists&&e.playlists.length){var a="placeholder-uri-"+n+"-"+i+"-"+r;e.playlists[0].uri=a,t.playlists[a]=e.playlists[0]}}),lo(t),co(t),t}},{key:"start",value:function(){var t=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=r.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?t.masterLoaded_=Date.parse(n.responseHeaders.date):t.masterLoaded_=Date.now(),t.srcUrl=Ya(t.handleManifestRedirects,t.srcUrl,n),t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}})}},{key:"syncClientServerClock_",value:function(t){var e=this,n=Object(A["b"])(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),t()):void(this.request=this.hls_.xhr({uri:Xa(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(i,r){if(e.request){if(i)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var a=void 0;a="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=a-Date.now(),t()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=r.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,t.sidxMapping_=du(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var i=t.parseMasterXml(),a=uu(t.master,i);if(a){var o=lu(t.media().sidx);if(t.sidxMapping_[o])t.master=a;else{var s=t.media();t.request=pu(s.sidx,s,t.hls_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(s,i,t.state,function(e,n){if(!e||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[o].sidx=n,t.minimumUpdatePeriodTimeout_=r.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod),t.refreshMedia_(t.media().uri)}))}}t.minimumUpdatePeriodTimeout_=r.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(t){var e=this;if(!t)throw new Error("refreshMedia_ must take a media uri");var n=void 0,i=void 0;this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,i=this.masterPlaylistLoader_.parseMasterXml()):(n=this.master,i=this.parseMasterXml());var a=uu(n,i);a?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=a:this.master=a,this.media_=a.playlists[t]):(this.media_=i.playlists[t],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=r.a.setTimeout(function(){e.trigger("mediaupdatetimeout")},ho(this.media(),!!a))),this.trigger("loadedplaylist")}}]),e}(ou),mu=function(t){return Wa.log.debug?Wa.log.debug.bind(Wa,"VHS:",t+" >"):function(){}};function gu(){}var vu=function(){function t(e,n,i,r){Ja(this,t),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=i,this.mimeType_=n,this.logger_=mu("SourceUpdater["+i+"]["+n+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,r)):this.createSourceBuffer_(n,r)}return Za(t,[{key:"createSourceBuffer_",value:function(t,e){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.sourceBuffer_.removing=!1,t.logger_("buffered ["+fs(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){t.videoSegmentTimingInfoCallback&&n.sourceBuffer_.addEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),n.sourceBuffer_.appendBuffer(t.bytes)},function(){t.videoSegmentTimingInfoCallback&&n.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),e()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Wa.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gu;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+t+" => "+e+"]"),n.sourceBuffer_.removing=!0,n.sourceBuffer_.remove(t,e)},i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==gu}},{key:"timestampOffset",value:function(t){var e=this;return"undefined"!==typeof t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t,e.runCallback_()}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){var t=this,e=function e(){t.sourceBuffer_&&"open"===t.mediaSource.readyState&&t.sourceBuffer_.abort(),t.sourceBuffer_.removeEventListener("updateend",e)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),t}(),yu={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},_u={FAILURE:2,TIMEOUT:-101,ABORTED:-102},bu=function(t){t.forEach(function(t){t.abort()})},wu=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},xu=function(t){var e=t.target,n=Date.now()-e.requestTime,i={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},Tu=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:_u.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:_u.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:_u.FAILURE,xhr:e}:null},Su=function(t,e){return function(n,i){var r=i.response,a=Tu(n,i);if(a)return e(a,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:_u.FAILURE,xhr:i},t);var o=new DataView(r);return t.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),e(null,t)}},Eu=function(t,e,n){return function(i,r){var a=r.response,o=Tu(i,r);return o?n(o,t):0===a.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:_u.FAILURE,xhr:r},t):(t.map.bytes=new Uint8Array(r.response),e&&!e.isInitialized()&&e.init(),t.map.timescales=L.a.timescale(t.map.bytes),t.map.videoTrackIds=L.a.videoTrackIds(t.map.bytes),n(null,t))}},Mu=function(t,e,n){return function(i,r){var a=r.response,o=Tu(i,r),s=void 0;return o?n(o,t):0===a.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:_u.FAILURE,xhr:r},t):(t.stats=wu(r),t.key?t.encryptedBytes=new Uint8Array(r.response):t.bytes=new Uint8Array(r.response),e&&t.map&&t.map.bytes&&(e.isInitialized()||e.init(),s=e.parse(t.bytes,t.map.videoTrackIds,t.map.timescales),s&&s.captions&&(t.captionStreams=s.captionStreams,t.fmp4Captions=s.captions)),n(null,t))}},Cu=function(t,e,n){var i=function i(r){if(r.data.source===e.requestId){t.removeEventListener("message",i);var a=r.data.decrypted;return e.bytes=new Uint8Array(a.bytes,a.byteOffset,a.byteLength),n(null,e)}};t.addEventListener("message",i);var r=void 0;r=e.key.bytes.slice?e.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.key.bytes)),t.postMessage($o({source:e.requestId,encrypted:e.encryptedBytes,key:r,iv:e.key.iv}),[e.encryptedBytes.buffer,r.buffer])},Au=function(t,e,n){var i=0,r=!1;return function(a,o){if(!r)return a?(r=!0,bu(t),n(a,o)):(i+=1,i===t.length?(o.endOfAllRequests=Date.now(),o.encryptedBytes?Cu(e,o,n):n(null,o)):void 0)}},ku=function(t,e){return function(n){return t.stats=Wa.mergeOptions(t.stats,xu(n)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(n,t)}},Pu=function(t,e,n,i,r,a,o){var s=[],u=Au(s,n,o);if(r.key&&!r.key.bytes){var l=Wa.mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),c=Su(r,u),h=t(l,c);s.push(h)}if(r.map&&!r.map.bytes){var d=Wa.mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Vo(r.map)}),p=Eu(r,i,u),f=t(d,p);s.push(f)}var m=Wa.mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Vo(r)}),g=Mu(r,i,u),v=t(m,g);return v.addEventListener("progress",ku(r,a)),s.push(v),function(){return bu(s)}},Ou=function(t,e){var n=void 0;return t?(n=r.a.getComputedStyle(t),n?n[e]:""):""},Lu=function(t,e){var n=t.slice();t.sort(function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r})},Ru=function(t,e){var n=void 0,i=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||r.a.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||r.a.Number.MAX_VALUE,n-i},Iu=function(t,e){var n=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||r.a.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||r.a.Number.MAX_VALUE,n===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i},Du=function(t,e,n,i,a){var o=t.playlists.map(function(t){var e=void 0,n=void 0,i=void 0;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,i=t.attributes.BANDWIDTH,i=i||r.a.Number.MAX_VALUE,{bandwidth:i,width:e,height:n,playlist:t}});Lu(o,function(t,e){return t.bandwidth-e.bandwidth}),o=o.filter(function(t){return!Uo.isIncompatible(t.playlist)});var s=o.filter(function(t){return Uo.isEnabled(t.playlist)});s.length||(s=o.filter(function(t){return!Uo.isDisabled(t.playlist)}));var u=s.filter(function(t){return t.bandwidth*yu.BANDWIDTH_VARIANCE<e}),l=u[u.length-1],c=u.filter(function(t){return t.bandwidth===l.bandwidth})[0];if(!1===a){var h=c||s[0]||o[0];return h?h.playlist:null}var d=u.filter(function(t){return t.width&&t.height});Lu(d,function(t,e){return t.width-e.width});var p=d.filter(function(t){return t.width===n&&t.height===i});l=p[p.length-1];var f=p.filter(function(t){return t.bandwidth===l.bandwidth})[0],m=void 0,g=void 0,v=void 0;f||(m=d.filter(function(t){return t.width>n||t.height>i}),g=m.filter(function(t){return t.width===m[0].width&&t.height===m[0].height}),l=g[g.length-1],v=g.filter(function(t){return t.bandwidth===l.bandwidth})[0]);var y=v||f||c||s[0]||o[0];return y?y.playlist:null},Nu=function(){return Du(this.playlists.master,this.systemBandwidth,parseInt(Ou(this.tech_.el(),"width"),10),parseInt(Ou(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},Uu=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,a=t.segmentDuration,o=t.timeUntilRebuffer,s=t.currentTimeline,u=t.syncController,l=e.playlists.filter(function(t){return!Uo.isIncompatible(t)}),c=l.filter(Uo.isEnabled);c.length||(c=l.filter(function(t){return!Uo.isDisabled(t)}));var h=c.filter(Uo.hasAttribute.bind(null,"BANDWIDTH")),d=h.map(function(t){var e=u.getSyncPoint(t,r,s,n),l=e?1:2,c=Uo.estimateSegmentRequestTime(a,i,t),h=c*l-o;return{playlist:t,rebufferingImpact:h}}),p=d.filter(function(t){return t.rebufferingImpact<=0});return Lu(p,function(t,e){return Ru(e.playlist,t.playlist)}),p.length?p[0]:(Lu(d,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),d[0]||null)},Bu=function(){var t=this.playlists.master.playlists.filter(Uo.isEnabled);Lu(t,function(t,e){return Ru(t,e)});var e=t.filter(function(t){return Us(t.attributes.CODECS).videoCodec});return e[0]||null},ju=function(t,e,n){for(var i in n)if(!t[i]){e.trigger({type:"usage",name:"hls-608"});var r=e.textTracks().getTrackById(i);t[i]=r||e.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}},Fu=function(t){var e=t.inbandTextTracks,n=t.captionArray,i=t.timestampOffset;if(n){var r=window.WebKitDataCue||window.VTTCue;n.forEach(function(t){var n=t.stream,a=t.startTime,o=t.endTime;e[n]&&(a+=i,o+=i,e[n].addCue(new r(a,o,t.text)))})}},zu=500,Vu=function(t,e,n){if(!t||!e)return!1;var i=t.segments,r=n===i.length;return t.endList&&"open"===e.readyState&&r},Hu=function(t){return"number"===typeof t&&isFinite(t)},Gu=function(t,e,n){return"main"===t&&e&&n?n.containsAudio||n.containsVideo?e.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},Wu=function(t,e,n){var i=void 0;return i=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(i,e-n)},$u=function(t){var e=t.segment,n=e.start,i=e.end,r=t.playlist,a=r.mediaSequence,o=r.id,s=r.segments,u=void 0===s?[]:s,l=t.mediaIndex,c=t.timeline;return["appending ["+l+"] of ["+a+", "+(a+u.length)+"] from playlist ["+o+"]","["+n+" => "+i+"] in timeline ["+c+"]"].join(" ")},qu=function(t){function e(t){Ja(this,e);var n=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!==typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=t.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=t.hasPlayed,n.currentTime_=t.currentTime,n.seekable_=t.seekable,n.seeking_=t.seeking,n.duration_=t.duration,n.mediaSource_=t.mediaSource,n.hls_=t.hls,n.loaderType_=t.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=t.segmentMetadataTrack,n.goalBufferLength_=t.goalBufferLength,n.sourceType_=t.sourceType,n.inbandTextTracks_=t.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=t.cacheEncryptionKeys,n.keyCache_={},"main"===n.loaderType_?n.captionParser_=new R["CaptionParser"]:n.captionParser_=null,n.decrypter_=t.decrypter,n.syncController_=t.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),n.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),n.fetchAtBuffer_=!1,n.logger_=mu("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),n}return Qa(e,t),Za(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return"undefined"!==typeof t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Wa.createTimeRanges()}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=qo(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),i||t}},{key:"segmentKey",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Xo(t),i=this.keyCache_[n];this.cacheEncryptionKeys_&&e&&!i&&t.bytes&&(this.keyCache_[n]=i={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(i||t).resolvedUri};return i&&(r.bytes=i.bytes),r}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new vu(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===t.uri){var a=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex&&(this.mediaIndex-=a),i&&(i.mediaIndex-=a,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,n),ys(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)ys(t,e,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),zu)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(this.isEndOfStream_(t.mediaIndex)?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(t.timeline!==this.currentTimeline_&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(t)))}}},{key:"isEndOfStream_",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return Vu(e,this.mediaSource_,t)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(t,e,n,i,r,a){var o=0,s=void 0;t.length&&(o=t.end(t.length-1));var u=Math.max(0,o-r);if(!e.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!i&&u>=1)return null;if(null===a)return n=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){var l=e.segments[n];return s=l&&l.end?l.end:o,this.generateSegmentInfo_(e,n+1,s,!1)}if(this.fetchAtBuffer_){var c=Uo.getMediaInfoForTime(e,o,a.segmentIndex,a.time);n=c.mediaIndex,s=c.startTime}else{var h=Uo.getMediaInfoForTime(e,r,a.segmentIndex,a.time);n=h.mediaIndex,s=h.startTime}return this.generateSegmentInfo_(e,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=Uo.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),a=ms(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=a)return!1;var o=Uu({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var s=r-a,u=s-o.rebufferingImpact,l=.5;return a<=us&&(l=1),!o.playlist||o.playlist.uri===this.playlist_.uri||u<l?!1:(this.bandwidth=o.playlist.attributes.BANDWIDTH*yu.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=Pu(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=Wu(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var i=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key=this.segmentKey(e.key),n.key.iv=i}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===_u.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===_u.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),e.key&&this.segmentKey(e.key,!0),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(ju(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),Fu({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,n=e.segment,i=this.syncController_.probeSegmentInfo(e);"undefined"===typeof this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var r=Gu(this.loaderType_,this.startingMedia_,i);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var a=this.syncController_.mappingForTimeline(e.timeline);if(null!==a&&this.trigger({type:"segmenttimemapping",mapping:a}),this.state="APPENDING",n.map){var o=qo(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==o){var s=this.initSegment(n.map);this.sourceUpdater_.appendBuffer({bytes:s.bytes},function(){t.activeInitSegmentId_=o})}}e.byteLength=e.bytes.byteLength,"number"===typeof n.start&&"number"===typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_($u(e)),this.sourceUpdater_.appendBuffer({bytes:e.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,e.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=e.videoSegmentTimingInfo.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=e.videoSegmentTimingInfo.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=e.videoSegmentTimingInfo.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=e.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(t.mediaIndex+1,t.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,i=e.end;if(Hu(n)&&Hu(i)){ys(n,i,this.segmentMetadataTrack_);var a=r.a.WebKitDataCue||r.a.VTTCue,o={custom:e.custom,dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i},s=JSON.stringify(o),u=new a(n,i,s);u.value=o,this.segmentMetadataTrack_.addCue(u)}}}}]),e}(Wa.EventTarget),Xu=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Yu=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),Ju=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ja(this,e);var i=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.mediaSource_=null,i.subtitlesTrack_=null,i}return Qa(e,t),Za(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Wa.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return Wa.createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=qo(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=Yu.byteLength+t.bytes.byteLength,a=new Uint8Array(r);a.set(t.bytes),a.set(Yu,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:a}}return i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return"undefined"===typeof t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){ys(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e),e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){var n=function(){t.state="READY",t.paused()||t.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){while(t&&t.segment.empty)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,n=e.segment;if("function"!==typeof r.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=void 0,a=function(){t.subtitlesTrack_.tech_.off("vttjsloaded",i),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")};return i=function(){t.subtitlesTrack_.tech_.off("vttjserror",a),t.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",a)}n.requested=!0;try{this.parseVTTCues_(e)}catch(zl){return this.error({message:zl.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,n=!1;"function"===typeof r.a.TextDecoder?e=new r.a.TextDecoder("utf8"):(e=r.a.WebVTT.StringDecoder(),n=!0);var i=new r.a.WebVTT.Parser(r.a,r.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){return t.timestampmap=e},i.onparsingerror=function(t){Wa.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var a=t.segment.map.bytes;n&&(a=Xu(a)),i.parse(a)}var o=t.bytes;n&&(o=Xu(o)),i.parse(o),i.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=a,t.endTime+=a}),!n.syncInfo){var o=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(o,s-i.duration)}}}else i.empty=!0}}]),e}(qu),Zu=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Ku=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.segments)for(var i=n,a=void 0,o=0;o<t.segments.length;o++){var s=t.segments[o];if(a||(a=Zu(e,i+s.duration/2)),a){if("cueIn"in s){a.endTime=i,a.adEndTime=i,i+=s.duration,a=null;continue}if(i<a.endTime){i+=s.duration;continue}a.endTime+=s.duration}else if("cueOut"in s&&(a=new r.a.VTTCue(i,i+s.duration,s.cueOut),a.adStartTime=i,a.adEndTime=i+parseFloat(s.cueOut),e.addCue(a)),"cueOutCont"in s){var u=void 0,l=void 0,c=s.cueOutCont.split("/").map(parseFloat),h=eo(c,2);u=h[0],l=h[1],a=new r.a.VTTCue(i,i+s.duration,""),a.adStartTime=i-u,a.adEndTime=a.adStartTime+l,e.addCue(a)}i+=s.duration}},Qu=D.a.inspect,tl=[{name:"VOD",run:function(t,e,n,i,r){if(n!==1/0){var a={time:0,segmentIndex:0};return a}return null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var a=e.segments||[],o=null,s=null;r=r||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3,h=c+t.datetimeToDisplayTime,d=Math.abs(r-h);if(null!==s&&(0===d||s<d))break;s=d,o={time:h,segmentIndex:u}}}return o}},{name:"Segment",run:function(t,e,n,i,r){var a=e.segments||[],o=null,s=null;r=r||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.timeline===i&&"undefined"!==typeof l.start){var c=Math.abs(r-l.start);if(null!==s&&s<c)break;(!o||null===s||s>=c)&&(s=c,o={time:l.start,segmentIndex:u})}}return o}},{name:"Discontinuity",run:function(t,e,n,i,r){var a=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var o=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],l=e.discontinuitySequence+s+1,c=t.discontinuities[l];if(c){var h=Math.abs(r-c.time);if(null!==o&&o<h)break;(!a||null===o||o>=h)&&(o=h,a={time:c.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(t,e,n,i,r){if(e.syncInfo){var a={time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence};return a}return null}}],el=function(t){function e(){Ja(this,e);var t=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=mu("SyncController"),t}return Qa(e,t),Za(e,[{key:"getSyncPoint",value:function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+_o(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,i){for(var r=[],a=0;a<tl.length;a++){var o=tl[a],s=o.run(this,t,e,n,i);s&&(s.strategy=o.name,r.push({strategy:o.name,syncPoint:s}))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,a=1;a<t.length;a++){var o=Math.abs(t[a].syncPoint[e.key]-e.value);o<i&&(i=o,n=t[a].syncPoint,r=t[a].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence,i=n-1;i>=0;i--){var r=t.segments[i];if(r&&"undefined"!==typeof r.start){e.syncInfo={mediaSequence:t.mediaSequence+i,time:r.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,n=t.playlist,i=void 0;return i=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t),i&&this.calculateSegmentTimeMapping_(t,i)&&(this.saveDiscontinuitySyncInfo_(t),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:e.start})),i}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=L.a.timescale(e.map.bytes),i=L.a.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=i),{start:i,end:i+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=Qu(t.bytes,this.inspectCache_),n=void 0,i=void 0;if(!e)return null;e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,i=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,i=e.audio[1].dtsTime);var r={start:n,end:i,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length};return r}},{key:"timestampOffsetForTimeline",value:function(t){return"undefined"===typeof this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return"undefined"===typeof this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=t.startOfSegment,n.end=e.end+i.mapping;else{if(!i)return!1;n.start=e.start+i.mapping,n.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],a=e.discontinuitySequence+i+1,o=r-t.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var u=void 0;u=o<0?n.start-_o(e,t.mediaIndex,r):n.end+_o(e,t.mediaIndex+1,r),this.discontinuities[a]={time:u,accuracy:s}}}}}]),e}(Wa.EventTarget),nl=new As("./decrypter-worker.worker.js",function(t,e){var n=this;(function(){function t(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},o=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,o=void 0,s=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!i[o];o^=c||1,s=l[s]||1)for(p=s^s<<1^s<<2^s<<3^s<<4,p=p>>8^255&p^99,i[o]=p,r[p]=o,d=u[h=u[c=u[o]]],m=16843009*d^65537*h^257*c^16843008*o,f=257*u[p]^16843008*p,a=0;a<4;a++)e[a][o]=f=f<<24^f>>>8,n[a][p]=m=m<<24^m>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t},s=null,u=function(){function t(n){e(this,t),s||(s=o()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var i=void 0,r=void 0,a=void 0,u=void 0,l=void 0,c=this._tables[0][4],h=this._tables[1],d=n.length,p=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(u=n.slice(0),l=[],this._key=[u,l],i=d;i<4*d+28;i++)a=u[i-1],(i%d===0||8===d&&i%d===4)&&(a=c[a>>>24]<<24^c[a>>16&255]<<16^c[a>>8&255]<<8^c[255&a],i%d===0&&(a=a<<8^a>>>24^p<<24,p=p<<1^283*(p>>7))),u[i]=u[i-d]^a;for(r=0;i;r++,i--)a=u[3&r?i:i-4],l[r]=i<=4||r<4?a:h[0][c[a>>>24]]^h[1][c[a>>16&255]]^h[2][c[a>>8&255]]^h[3][c[255&a]]}return t.prototype.decrypt=function(t,e,n,i,r,a){var o=this._key[1],s=t^o[0],u=i^o[1],l=n^o[2],c=e^o[3],h=void 0,d=void 0,p=void 0,f=o.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],w=v[3],x=v[4];for(m=0;m<f;m++)h=y[s>>>24]^_[u>>16&255]^b[l>>8&255]^w[255&c]^o[g],d=y[u>>>24]^_[l>>16&255]^b[c>>8&255]^w[255&s]^o[g+1],p=y[l>>>24]^_[c>>16&255]^b[s>>8&255]^w[255&u]^o[g+2],c=y[c>>>24]^_[s>>16&255]^b[u>>8&255]^w[255&l]^o[g+3],g+=4,s=h,u=d,l=p;for(m=0;m<4;m++)r[(3&-m)+a]=x[s>>>24]<<24^x[u>>16&255]<<16^x[l>>8&255]<<8^x[255&c]^o[g++],h=s,s=u,u=l,l=c,c=h},t}(),l=function(){function t(){e(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,o=0;o<a;++o)e[o].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),c=function(t){function n(){e(this,n);var i=a(this,t.call(this,l));return i.jobs=[],i.delay=1,i.timeout_=null,i}return r(n,t),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(l),h=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},d=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new u(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),o=new Int32Array(a.buffer),s=void 0,l=void 0,c=void 0,d=void 0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0;for(s=n[0],l=n[1],c=n[2],d=n[3],v=0;v<i.length;v+=4)p=h(i[v]),f=h(i[v+1]),m=h(i[v+2]),g=h(i[v+3]),r.decrypt(p,f,m,g,o,v),o[v]=h(o[v]^s),o[v+1]=h(o[v+1]^l),o[v+2]=h(o[v+2]^c),o[v+3]=h(o[v+3]^d),s=p,l=f,c=m,d=g;return a},p=function(){function n(i,r,a,o){e(this,n);var s=n.STEP,u=new Int32Array(i.buffer),l=new Uint8Array(i.byteLength),d=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(u.subarray(d,d+s),r,a,l)),d=s;d<u.length;d+=s)a=new Uint32Array([h(u[d-4]),h(u[d-3]),h(u[d-2]),h(u[d-1])]),this.asyncStream_.push(this.decryptChunk_(u.subarray(d,d+s),r,a,l));this.asyncStream_.push(function(){o(null,t(l))})}return n.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=d(t,e,n);i.set(r,t.byteOffset)}},i(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),f=function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},m=function(t){t.onmessage=function(e){var n=e.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),a=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new p(i,r,a,function(e,i){t.postMessage(f({source:n.source,decrypted:i}),[i.buffer])})}},g=new m(n)})()}),il=function(t){var e=t["default"]?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},rl=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},al=function(t,e){e.activePlaylistLoader=t,t.load()},ol=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,a=e.mediaTypes[t],o=a.activeTrack(),s=a.activeGroup(o),u=a.activePlaylistLoader;rl(i,a),s&&(s.playlistLoader?(i.resyncLoader(),al(s.playlistLoader,a)):u&&r.resetEverything())}},sl=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,a=e.mediaTypes[t],o=a.activeTrack(),s=a.activeGroup(o),u=a.activePlaylistLoader;rl(i,a),s&&(s.playlistLoader?u!==s.playlistLoader?(i.track&&i.track(o),i.resetEverything(),al(s.playlistLoader,a)):al(s.playlistLoader,a):r.resetEverything())}},ul={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;rl(n,i);var a=i.activeTrack(),o=i.activeGroup(),s=(o.filter(function(t){return t["default"]})[0]||o[0]).id,u=i.tracks[s];if(a!==u){for(var l in Wa.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[l].enabled=i.tracks[l]===u;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];Wa.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),rl(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},ll={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",ul[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t],o=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),a.track(o.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",ul[t](t,n))}},cl={AUDIO:function(t,e){var n=e.hls,i=e.sourceType,r=e.segmentLoaders[t],a=e.requestOptions,o=e.master.mediaGroups,s=e.mediaTypes[t],u=s.groups,l=s.tracks,c=e.masterPlaylistLoader;for(var h in o[t]&&0!==Object.keys(o[t]).length||(o[t]={main:{default:{default:!0}}}),o[t])for(var d in u[h]||(u[h]=[]),o[t][h]){var p=o[t][h][d],f=void 0;if(f=p.resolvedUri?new po(p.resolvedUri,n,a):p.playlists&&"dash"===i?new fu(p.playlists[0],n,a,c):null,p=Wa.mergeOptions({id:d,playlistLoader:f},p),ll[t](t,p.playlistLoader,e),u[h].push(p),"undefined"===typeof l[d]){var m=new Wa.AudioTrack({id:d,kind:il(p),enabled:!1,language:p.language,default:p["default"],label:d});l[d]=m}}r.on("error",ul[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.hls,r=e.sourceType,a=e.segmentLoaders[t],o=e.requestOptions,s=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,h=e.masterPlaylistLoader;for(var d in s[t])for(var p in l[d]||(l[d]=[]),s[t][d])if(!s[t][d][p].forced){var f=s[t][d][p],m=void 0;if("hls"===r?m=new po(f.resolvedUri,i,o):"dash"===r&&(m=new fu(f.playlists[0],i,o,h)),f=Wa.mergeOptions({id:p,playlistLoader:m},f),ll[t](t,f.playlistLoader,e),l[d].push(f),"undefined"===typeof c[p]){var g=n.addRemoteTextTrack({id:p,kind:"subtitles",default:f["default"]&&f.autoselect,language:f.language,label:p},!1).track;c[p]=g}}a.on("error",ul[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],a=r.groups,o=r.tracks;for(var s in i[t])for(var u in a[s]||(a[s]=[]),i[t][s]){var l=i[t][s][u];if(l.instreamId.match(/CC\d/)&&(a[s].push(Wa.mergeOptions({id:u},l)),"undefined"===typeof o[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l["default"]&&l.autoselect,language:l.language,label:u},!1).track;o[u]=c}}}},hl=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,a=i.media();if(!a)return null;var o=null;return a.attributes[t]&&(o=r[a.attributes[t]]),o=o||r.main,"undefined"===typeof n?o:null===n?null:o.filter(function(t){return t.id===n.id})[0]||null}},dl={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode)return n[i];return null}}},pl=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){cl[e](e,t)});var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(n){e[n].activeGroup=hl(n,t),e[n].activeTrack=dl[n](n,t),e[n].onGroupChanged=ol(n,t),e[n].onTrackChanged=sl(n,t)});var a=e.AUDIO.activeGroup(),o=(a.filter(function(t){return t["default"]})[0]||a[0]).id;e.AUDIO.tracks[o].enabled=!0,e.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var s=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};for(var u in i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},fl=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:gu,activeTrack:gu,onGroupChanged:gu,onTrackChanged:gu}}),t},ml=120,gl=void 0,vl=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],yl=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},_l=function(t){function e(t){Ja(this,e);var n=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=t.url,r=t.handleManifestRedirects,a=t.withCredentials,o=t.tech,s=t.bandwidth,u=t.externHls,l=t.useCueTags,c=t.blacklistDuration,h=t.enableLowInitialPlaylist,d=t.sourceType,p=t.seekTo,f=t.cacheEncryptionKeys;if(!i)throw new Error("A non-empty playlist URL is required");gl=u,n.withCredentials=a,n.tech_=o,n.hls_=o.hls,n.seekTo_=p,n.sourceType_=d,n.useCueTags_=l,n.blacklistDuration=c,n.enableLowInitialPlaylist=h,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:a,handleManifestRedirects:r,timeout:null},n.mediaTypes_=fl(),n.mediaSource=new Wa.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=Wa.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new el(t),n.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new nl,n.inbandTextTracks_={};var m={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:s,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:f};return n.masterPlaylistLoader_="dash"===n.sourceType_?new fu(i,n.hls_,n.requestOptions_):new po(i,n.hls_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new qu(Wa.mergeOptions(m,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new qu(Wa.mergeOptions(m,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Ju(Wa.mergeOptions(m,{loaderType:"vtt"}),t),n.setupSegmentLoaderListeners_(),vl.forEach(function(t){n[t+"_"]=yl.bind(n,t)}),n.logger_=mu("MPC"),n.masterPlaylistLoader_.load(),n}return Qa(e,t),Za(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;No(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),pl({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(zl){return Wa.log.warn("Failed to create SourceBuffers",zl),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var n=void 0;return t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,void t.masterPlaylistLoader_.media(t.initialMedia_)}if(t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!e.endList){var i=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};if(t.duration()!==1/0){var r=function e(){t.duration()===1/0?i():t.tech_.one("durationchange",e)};t.tech_.one("durationchange",r)}else i()}}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;No(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media(),n=t.stuckAtPlaylistEnd_(e);n&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var o in n.AUDIO[a]){var s=n.AUDIO[a][o];s.uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),gl.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),gl.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered(),r=i.length?i.end(i.length-1)-t.tech_.currentTime():0,a=t.bufferLowWaterLine();(!n.endList||t.duration()<yu.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<n.attributes.BANDWIDTH||r>=a)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},ml)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){Wa.browser.IE_VERSION||Wa.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(Wa.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.seekTo_(n.end(0)),t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(zl){return Wa.log.warn("Failed to create Source Buffers",zl),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();"undefined"!==typeof t&&"function"===typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(zl){Wa.log.warn("Failed to call media source endOfStream",zl)}}}},{key:"stuckAtPlaylistEnd_",value:function(t){var e=this.seekable();if(!e.length)return!1;var n=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===n)return!1;var i=gl.Playlist.playlistEnd(t,n),r=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return i-r<=ls;var o=a.end(a.length-1);return o-r<=ls&&i-o<=ls}},{key:"blacklistCurrentPlaylist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=void 0,i=void 0;if(n=t.playlist||this.masterPlaylistLoader_.media(),e=e||t.blacklistDuration||this.blacklistDuration,!n){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(zl){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(Po).length,a=this.masterPlaylistLoader_.master.playlists;return 1===a.length?(Wa.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(r&&(Wa.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),a.forEach(function(t){t.excludeUntil!==1/0&&delete t.excludeUntil}),this.tech_.trigger("retryplaylist")),n.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),Wa.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i,r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=hs(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:gl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&(t=gl.Playlist.seekable(n,i),0!==t.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(n,this.mediaSource.duration),null===i)return;if(e=gl.Playlist.seekable(n,i),0===e.length)return}var r=void 0,a=void 0;this.seekable_&&this.seekable_.length&&(r=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=Wa.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===r&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+fs(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=gl.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function e(){t.logger_("Setting duration from "+t.mediaSource.duration+" => "+n);try{t.mediaSource.duration=n}catch(zl){Wa.log.warn("Failed to set media source duration",zl)}t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t=this.masterPlaylistLoader_.media(),e=void 0;if(t&&"open"===this.mediaSource.readyState){if(e=Hs(this.masterPlaylistLoader_.master,t),e.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=t.length>1&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new Wa.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){t.attributes.CODECS&&r.a.MediaSource&&r.a.MediaSource.isTypeSupported&&!r.a.MediaSource.isTypeSupported('video/mp4; codecs="'+Bs(t.attributes.CODECS)+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var e=2,n=null,i=void 0;t.attributes.CODECS&&(i=Us(t.attributes.CODECS),n=i.videoCodec,e=i.codecCount),this.master().playlists.forEach(function(t){var i={codecCount:2,videoCodec:null};t.attributes.CODECS&&(i=Us(t.attributes.CODECS)),i.codecCount!==e&&(t.excludeUntil=1/0),i.videoCodec!==n&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),Ku(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=yu.GOAL_BUFFER_LENGTH,n=yu.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,yu.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=yu.BUFFER_LOW_WATER_LINE,n=yu.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,yu.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)}}]),e}(Wa.EventTarget),bl=function(t,e,n){return function(i){var r=t.master.playlists[e],a=ko(r),o=Po(r);return"undefined"===typeof i?o:(i?delete r.disabled:r.disabled=!0,i===o||a||(n(),i?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),i)}},wl=function t(e,n,i){Ja(this,t);var r=e.masterPlaylistController_,a=e.options_.smoothQualityChange,o=a?"smooth":"fast",s=r[o+"QualityChange_"].bind(r);if(n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=i,this.enabled=bl(e.playlists,n.uri,s)},xl=function(t){var e=t.playlists;t.representations=function(){return e.master.playlists.filter(function(t){return!ko(t)}).map(function(e,n){return new wl(t,e,e.uri)})}},Tl=["seeking","seeked","pause","playing","error"],Sl=function(){function t(e){var n=this;Ja(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=mu("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},s=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",a),this.tech_.on(Tl,o),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",s),n.tech_.off("waiting",a),n.tech_.off(Tl,o),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&r.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return Za(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&r.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=r.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+ls>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking();if(!t)return!1;var e=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow),r=void 0;if(i){var a=e.end(e.length-1);r=a}if(this.beforeSeekableWindow_(e,n)){var o=e.start(0);r=o+ls}return"undefined"!==typeof r&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+fs(e)+". Seeking to "+r+"."),this.seekTo(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=hs(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=ds(i,e);if(this.videoUnderflow_(r,i,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var a=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t.length)return!1;var r=t.end(t.length-1)+ls,a=!n.endList;return a&&i&&(r=t.end(t.length-1)+3*n.targetDuration),e>r}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-ls)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var i=this.gapFromVideoUnderflow_(e,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=ds(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+us),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=ps(t),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:a}}return null}}]),t}(),El={errorInterval:30,getSource:function(t){var e=this.tech({IWillNotUseThisInPlugins:!0}),n=e.currentSource_;return t(n)}},Ml=function t(e,n){var i=0,r=0,a=Wa.mergeOptions(El,n);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var o=function(){r&&e.currentTime(r)},s=function(t){null!==t&&void 0!==t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",o),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-i<1e3*a.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(a.getSource&&"function"===typeof a.getSource)return i=Date.now(),a.getSource.call(e,s);Wa.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function t(){e.off("loadedmetadata",o),e.off("error",u),e.off("dispose",t)},c=function(n){l(),t(e,n)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=c},Cl=function(t){Ml(this,t)},Al="1.10.3";Wa.use("*",function(t){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.tech_.currentTime())}}});var kl={PlaylistLoader:po,Playlist:Uo,Decrypter:X,AsyncStream:W,decrypt:q,utils:Ko,STANDARD_PLAYLIST_SELECTOR:Nu,INITIAL_PLAYLIST_SELECTOR:Bu,comparePlaylistBandwidth:Ru,comparePlaylistResolution:Iu,xhr:Fo()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(kl,t,{get:function(){return Wa.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),yu[t]},set:function(e){Wa.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!==typeof e||e<0?Wa.log.warn("value of Hls."+t+" must be greater than or equal to 0"):yu[t]=e}})});var Pl="videojs-vhs",Ol=function(t){var e=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(e.test(t))return"hls";var n=/^application\/dash\+xml/i;return n.test(t)?"dash":null},Ll=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.uri){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},Rl=function(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),Ll(t,e.playlists)};kl.canPlaySource=function(){return Wa.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Il=function(t,e,n){if(!t)return t;var i={};for(var r in t)i[r]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+e.attributes.CODECS+'"'},e.contentProtection&&e.contentProtection[r]&&e.contentProtection[r].pssh&&(i[r].pssh=e.contentProtection[r].pssh),"string"===typeof t[r]&&(i[r].url=t[r]);return Wa.mergeOptions(t,i)},Dl=function(t){if("dash"===t.options_.sourceType){var e=Wa.players[t.tech_.options_.playerId];if(e.eme){var n=Il(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(e.currentSource().keySystems=n,e.eme.initializeMediaKeys&&e.eme.initializeMediaKeys())}}},Nl=function(){if(!window.localStorage)return null;var t=window.localStorage.getItem(Pl);if(!t)return null;try{return JSON.parse(t)}catch(zl){return null}},Ul=function(t){if(!window.localStorage)return!1;var e=Nl();e=e?Wa.mergeOptions(e,t):t;try{window.localStorage.setItem(Pl,JSON.stringify(e))}catch(zl){return!1}return e};kl.supportsNativeHls=function(){var t=o.a.createElement("video");if(!Wa.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),kl.supportsNativeDash=function(){return!!Wa.getTech("Html5").isSupported()&&/maybe|probably/i.test(o.a.createElement("video").canPlayType("application/dash+xml"))}(),kl.supportsTypeNatively=function(t){return"hls"===t?kl.supportsNativeHls:"dash"===t&&kl.supportsNativeDash},kl.isSupported=function(){return Wa.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Bl=Wa.getComponent("Component"),jl=function(t){function e(t,n,i){Ja(this,e);var r=to(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i.hls));if(n.options_&&n.options_.playerId){var a=Wa(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Wa.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),r},configurable:!0}),a.vhs=r,a.dash=r,r.player_=a}if(r.tech_=n,r.source_=t,r.stats={},r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(o.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=o.a.fullscreenElement||o.a.webkitFullscreenElement||o.a.mozFullScreenElement||o.a.msFullscreenElement;e&&e.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()}),r.on(r.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),r.on(r.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),r.on(r.tech_,"play",r.play),r}return Qa(e,t),Za(e,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!==typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!==typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=Nl();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=yu.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===yu.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(e){"undefined"!==typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(t,e){var n=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=kl,this.options_.sourceType=Ol(e),this.options_.seekTo=function(t){n.tech_.setCurrentTime(t),n.setCurrentTime(t)},this.masterPlaylistController_=new _l(this.options_),this.playbackWatcher_=new Sl(Wa.mergeOptions(this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){var t=Wa.players[n.tech_.options_.playerId];t.error(n.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):kl.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=kl.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;e=this.throughput>0?1/this.throughput:0;var n=Math.floor(1/(t+e));return n},set:function(){Wa.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return gs(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return gs(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){n.options_.useBandwidthFromLocalStorage&&Ul({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){xl(n),Dl(n)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return n.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Wa.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=Wa.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){Rl(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){Ll(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,Ka(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(t,e){return os({playlist:this.masterPlaylistController_.media(),time:t,callback:e})}},{key:"seekToProgramTime",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return ss({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})}}]),e}(Bl),Fl={name:"videojs-http-streaming",VERSION:Al,canHandleSource:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Wa.mergeOptions(Wa.options,e);return Fl.canPlayType(t.type,n)},handleSource:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Wa.mergeOptions(Wa.options,n);return e.hls=new jl(t,e,i),e.hls.xhr=Fo(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Wa.mergeOptions(Wa.options,e),i=n.hls.overrideNative,r=Ol(t),a=r&&(!kl.supportsTypeNatively(r)||i);return a?"maybe":""}};"undefined"!==typeof Wa.MediaSource&&"undefined"!==typeof Wa.URL||(Wa.MediaSource=ru,Wa.URL=au),ru.supportsNativeMediaSources()&&Wa.getTech("Html5").registerSourceHandler(Fl,0),Wa.HlsHandler=jl,Wa.HlsSourceHandler=Fl,Wa.Hls=kl,Wa.use||Wa.registerComponent("Hls",kl),Wa.options.hls=Wa.options.hls||{},Wa.registerPlugin?Wa.registerPlugin("reloadSourceOnError",Cl):Wa.plugin("reloadSourceOnError",Cl);e["default"]=Wa},f1ae:function(t,e,n){"use strict";var i=n("86cc"),r=n("4630");t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},f367:function(t,e,n){"use strict";var i=n("d6c7"),r="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,u=function(t){return"function"===typeof t&&"[object Function]"===a.call(t)},l=function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(n){return!1}},c=s&&l(),h=function(t,e,n,i){(!(e in t)||u(i)&&i())&&(c?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},d=function(t,e){var n=arguments.length>2?arguments[2]:{},a=i(e);r&&(a=o.call(a,Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;s+=1)h(t,a[s],e[a[s]],n[a[s]])};d.supportsDescriptors=!!c,t.exports=d},f3ad:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=70)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},10:function(t,e){t.exports=n("2bb5")},4:function(t,e){t.exports=n("d010")},70:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?n("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?n("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?n("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{click:t.clear}}):t._e(),t.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?n("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:n("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?n("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)},r=[];i._withStripped=!0;var a=n(4),o=n.n(a),s=n(10),u=n.n(s),l=void 0,c="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",h=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function d(t){var e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),i=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width")),a=h.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";");return{contextStyle:a,paddingSize:i,borderSize:r,boxSizing:n}}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var i=d(t),r=i.paddingSize,a=i.borderSize,o=i.boxSizing,s=i.contextStyle;l.setAttribute("style",s+";"+c),l.value=t.value||t.placeholder||"";var u=l.scrollHeight,h={};"border-box"===o?u+=a:"content-box"===o&&(u-=r),l.value="";var p=l.scrollHeight-r;if(null!==e){var f=p*e;"border-box"===o&&(f=f+r+a),u=Math.max(f,u),h.minHeight=f+"px"}if(null!==n){var m=p*n;"border-box"===o&&(m=m+r+a),u=Math.min(m,u)}return h.height=u+"px",l.parentNode&&l.parentNode.removeChild(l),l=null,h}var f=n(9),m=n.n(f),g={name:"ElInput",componentName:"ElInput",mixins:[o.a,u.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return m()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick(function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize,e=this.type;if("textarea"===e)if(t){var n=t.minRows,i=t.maxRows;this.textareaCalcStyle=p(this.$refs.textarea,n,i)}else this.textareaCalcStyle={minHeight:p(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionEnd:function(t){this.isComposing=!1,this.handleInput(t)},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var n=null,i=0;i<e.length;i++)if(e[i].parentNode===this.$el){n=e[i];break}if(n){var r={suffix:"append",prefix:"prepend"},a=r[t];this.$slots[a]?n.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+a).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},v=g,y=n(0),_=Object(y["a"])(v,i,r,!1,null,null,null);_.options.__file="packages/input/src/input.vue";var b=_.exports;b.install=function(t){t.component(b.name,b)};e["default"]=b},9:function(t,e){t.exports=n("7f4d")}})},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f494:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=96)}({0:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},4:function(t,e){t.exports=n("d010")},96:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[n("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[n("span",{staticClass:"el-radio__inner"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),n("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])},r=[];i._withStripped=!0;var a=n(4),o=n.n(a),s={name:"ElRadio",mixins:[o.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){var t=this.$parent;while(t){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)})}}},u=s,l=n(0),c=Object(l["a"])(u,i,r,!1,null,null,null);c.options.__file="packages/radio/src/radio.vue";var h=c.exports;h.install=function(t){t.component(h.name,h)};e["default"]=h}})},f605:function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},f751:function(t,e,n){var i=n("5ca1");i(i.S+i.F,"Object",{assign:n("7333")})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},f921:function(t,e,n){n("014b"),n("c207"),n("69d3"),n("765d"),t.exports=n("584a").Symbol},f97d:function(t,e){var n={"":!0,up:!0};function i(t){if("string"!==typeof t)return!1;var e=n[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){return"number"===typeof t&&t>=0&&t<=100}function a(){var t=100,e=3,n=0,a=100,o=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!==typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw new Error("RegionAnchorX must be between 0 and 100.");a=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!r(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw new Error("ViewportAnchorX must be between 0 and 100.");o=t}},scroll:{enumerable:!0,get:function(){return u},set:function(t){var e=i(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e}}})}t.exports=a},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var i=n("7726").document;t.exports=i&&i.documentElement},fbd0:function(t,e,n){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},a=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},o=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},s=function(t,e,n){return unescape(o(t,e,n))},u=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],i=t[e+5],r=(16&i)>>4;return r?n+20:n+10},l=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3,r=6144&t[e+3];return r|i|n},c=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240===(240&t[e+1])?"audio":null},h=function(t){var e=0;while(e+5<t.length){if(255===t[e]&&240===(246&t[e+1]))return i[(60&t[e+2])>>>2];e++}return null},d=function(t){var e,n,i,r;e=10,64&t[5]&&(e+=4,e+=a(t.subarray(10,14)));do{if(n=a(t.subarray(e+4,e+8)),n<1)return null;if(r=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]),"PRIV"===r){i=t.subarray(e+10,e+n+10);for(var o=0;o<i.byteLength;o++)if(0===i[o]){var u=s(i,0,o);if("com.apple.streaming.transportStreamTimestamp"===u){var l=i.subarray(o+1),c=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;return c*=4,c+=3&l[7],c}break}}e+=10,e+=n}while(e<t.byteLength);return null};t.exports={isLikelyAacData:r,parseId3TagSize:u,parseAdtsSize:l,parseType:c,parseSampleRate:h,parseAacTimestamp:d}},fd24:function(t,e,n){var i=n("5ca1");i(i.S,"Object",{setPrototypeOf:n("8b97").set})},fda2:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"}}]);